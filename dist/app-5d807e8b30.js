!function(){"use strict";angular.module("AnyDayBuddyAds",["ui.router","ngMaterial","uiGmapgoogle-maps"])}(),function(){"use strict";angular.module("AnyDayBuddyAds").constant("_",window._).constant("Dropzone",window.Dropzone).constant("braintree",window.braintree).constant("baseApi","http://api.anydaybuddy.com")}(),function(){"use strict";function e(e,t,o){e.state("home",{url:"/",views:{main:{controller:"HomeController",controllerAs:"vm",templateUrl:"assets/views/home.html"}},authenticate:!1}).state("orders",{url:"/orders",views:{main:{controller:"OrdersController",controllerAs:"vm",templateUrl:"assets/views/orders.html"}},authenticate:!1}),t.otherwise("/")}angular.module("AnyDayBuddyAds").config(e),e.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"]}(),function(){"use strict";function e(e){e.configure({key:"AIzaSyAonFuCDb7HjXUz0uocKbEGUJz91IL9EVs",libraries:"places"})}function t(e,t){e.definePalette("primary",{50:"#9dceda",100:"#65b2c5",200:"#429ab0",300:"#2f6d7c",400:"#265966",500:"#1e4650",600:"#16323a",700:"#0d1f23",800:"#050c0d",900:"#000000",A100:"#9dceda",A200:"#65b2c5",A400:"#265966",A700:"#0d1f23",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100 A200"}),e.definePalette("accent",{50:"#d0ebed",100:"#99d4d8",200:"#70c3c8",300:"#43a7ae",400:"#3a9298",500:"#327d82",600:"#29686c",700:"#215256",800:"#183d40",900:"#10282a",A100:"#d0ebed",A200:"#99d4d8",A400:"#3a9298",A700:"#215256",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100 A200"}),e.definePalette("warn",{50:"#faeee6",100:"#ecc3a7",200:"#e2a379",300:"#d57b3e",400:"#c96b2b",500:"#b05e26",600:"#975121",700:"#7e431b",800:"#643616",900:"#4b2810",A100:"#faeee6",A200:"#ecc3a7",A400:"#c96b2b",A700:"#7e431b",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100 A200"}),e.theme("default").primaryPalette("primary").accentPalette("accent").warnPalette("warn")}angular.module("AnyDayBuddyAds").config(t).config(e),e.$inject=["uiGmapGoogleMapApiProvider"],t.$inject=["$mdThemingProvider","$locationProvider"]}(),function(){"use strict";function e(){function e(e){return e}return e}angular.module("AnyDayBuddyAds").filter("filter",e)}(),function(){"use strict";function e(e){function t(){}var o=this;o.title="Home Controller",t()}angular.module("AnyDayBuddyAds").controller("HomeController",e),e.$inject=["$rootScope"]}(),function(){"use strict";function e(){function e(e,t,o,n){}var o={restrict:"EA",templateUrl:"assets/views/orders/orders.campaign.html",scope:{options:"=",form:"=",total:"="},link:e,controller:t,controllerAs:"vm",bindToController:!0};return o}function t(e,t){function o(){}o()}angular.module("AnyDayBuddyAds").directive("adbOrdersCampaign",e),t.$inject=["$http","$q"]}(),function(){"use strict";function e(){function e(e,t,o,n){}var o={restrict:"EA",templateUrl:"assets/views/orders/orders.checkout.html",scope:{options:"=",form:"=",total:"="},link:e,controller:t,controllerAs:"vm",bindToController:!0};return o}function t(e,t,o,n,r,a){function i(){a.getClientToken().then(function(e){console.log(e),c(e.clientToken)}).catch(function(e){console.log(e)})}function c(e){t.setup(e,"custom",{paypal:{container:"paypal-container",singleUse:!0,amount:10,currency:"USD",locale:"en_us",enableShippingAddress:!0},onPaymentMethodReceived:function(e){l(e.nonce)},onReady:function(e){s.checkout=e}})}function l(e){console.log(e)}var s=this;s.checkout={},i(),o.$watch("vm.checkout",function(e,t){e&&console.log(e)})}angular.module("AnyDayBuddyAds").directive("adbOrdersCheckout",e),t.$inject=["_","braintree","$scope","$http","$q","DataService"]}(),function(){"use strict";function e(){function e(e,t,o,n){}var o={restrict:"EA",templateUrl:"assets/views/orders/orders.customer.html",scope:{options:"=",form:"=",total:"="},link:e,controller:t,controllerAs:"vm",bindToController:!0};return o}function t(e,t){function o(){}o()}angular.module("AnyDayBuddyAds").directive("adbOrdersCustomer",e),t.$inject=["$http","$q"]}(),function(){"use strict";function e(e,t,o,n){function r(){n.getOptions().then(function(e){console.log(e),l.options.target=a(e),console.log(l.form)}).catch(function(e){console.log(e)})}function a(t){var o=function(t,n){return e.isObject(t)?e.merge({},t,n,o):t||n},n=e.flatten([{},t,o]);return e.merge.apply(e,n)}function i(e,t){o.show({fullscreen:!0,targetEvent:e,clickOutsideToClose:!0,templateUrl:"app/shared/layout/imageModal.html",locals:{image:t},controller:["$scope","image",function(e,t){e.image=t}]})}function c(){o.show({templateUrl:"app/components/ad/advertisementModal.html",clickOutsideToClose:!0,fullscreen:!0})}var l=this;l.openImage=i,l.add=c,l.total=0,l.options={target:{display:[],media:[],impressionsUnits:[],impressionsTime:[],distance:[],age:[],gender:[]}},l.form={media:{},options:{display:{},impressions:{},distance:{},age:{},gender:{}}},r(),t.$watch("vm.form",function(t,o){console.log(t),l.total=t.media.hasOwnProperty("fee")?t.media.fee:0,e.map(t.options,function(e){e.hasOwnProperty("fee")&&(l.total+=l.total*e.fee),e.hasOwnProperty("discount")&&(l.total-=l.total*e.discount)})},!0)}angular.module("AnyDayBuddyAds").controller("OrdersController",e),e.$inject=["_","$scope","$mdDialog","DataService"]}(),function(){"use strict";function e(){function e(e,t,o,n){}var o={restrict:"EA",templateUrl:"assets/views/orders/orders.display.html",scope:{options:"=",form:"=",total:"="},link:e,controller:t,controllerAs:"vm",bindToController:!0};return o}function t(e,t,o,n,r){function a(){o.all([e,t.promise(1)]).then(function(e){var t=e[0],o=e[1][0].map;s.window={pixelOffset:new t.Size(0,(-40)),closeClick:function(){s.marker.show=!1}},m=new t.places.AutocompleteService,p=new t.DirectionsService,d=new t.DirectionsRenderer,s.map.instance=o,d.setMap(s.map.instance),u=new t.places.PlacesService(s.map.instance),s.placesReady=!0,console.log("ready")})}function i(e,t,o,n){console.log(t),r(function(){e.panTo(new google.maps.LatLng(t.latitude,t.longitude)),o&&e.panBy(0,-200)},100)}function c(e,t,o){var r=o[0],a=r.latLng.lat(),i=r.latLng.lng();s.marker={id:Date.now(),location:{latitude:a,longitude:i},show:!1},n.$apply()}function l(){console.log("bounds changed"),!s.map.instance}var s=this,u=null,d=null,p=null,m=null;s.map={center:{latitude:45.50174502816667,longitude:-73.5703881829977},zoom:14,options:{scrollwheel:!0},mapMarker:!0,disableDefaultUI:!0,control:{},events:{click:c,idle:l}},s.info={name:"Venue name",address:"",icon:""},s.marker={id:0,location:{latitude:45.50174502816667,longitude:-73.5703881829977},show:!1},s.dropzone={options:{url:"https://api.cloudinary.com/v1_1/cloud9/ads/upload",uploadMultiple:!1,maxFiles:1,acceptedFiles:"image/*",dictDefaultMessage:"Banner image. Drop or click to upload"},eventHandlers:{sending:function(e,t,o){o.append("api_key",839988333153567),o.append("timestamp",Date.now()/1e3|0),o.append("upload_preset","dzuaxeld")},success:function(e,t){n.$apply(function(){console.log(t),s.data.image=t.secure_url})}}},a(),s.clickMarker=function(){console.log("click"),s.marker.show=!s.marker.show,n.$apply()},s.autocompleteAddress=function(e){var t=o.defer();return m.getQueryPredictions({input:e},function(e){t.resolve(e?_.filter(e,"place_id"):[])}),t.promise},s.getPlace=function(){console.log(s.info.place),s.info.place&&u.getDetails({placeId:s.info.place.place_id},function(e,t){console.log(e,t),s.marker={id:Date.now(),name:e.name,location:{latitude:parseFloat(e.geometry.location.lat()),longitude:parseFloat(e.geometry.location.lng())},show:!0},i(s.map.instance,s.marker.location,null,!0),n.$apply()})}}angular.module("AnyDayBuddyAds").directive("adbDisplayChooser",e),t.$inject=["uiGmapGoogleMapApi","uiGmapIsReady","$q","$scope","$timeout"]}(),function(){"use strict";function e(e,t,o){function n(){var n=t.defer();return e({method:"GET",url:o+"/advertisment/options/"}).success(function(e,t,o,r){n.resolve(e)}).error(function(e){n.reject(e)}),n.promise}function r(){var o=t.defer();return e({method:"GET",url:"http://localhost:1338/commerce/clientToken/"}).success(function(e,t,n,r){o.resolve(e)}).error(function(e){o.reject(e)}),o.promise}var a={getOptions:n,getClientToken:r};return a}angular.module("AnyDayBuddyAds").service("DataService",e),e.$inject=["$http","$q","baseApi"]}(),function(){"use strict";function e(){function e(e,t,o){return{options:{url:"https://api.cloudinary.com/v1_1/cloud9/image/upload",uploadMultiple:!1,maxFiles:1,acceptedFiles:"image/*",dictDefaultMessage:"Drop file or click here to upload",addRemoveLinks:!0},eventHandlers:{sending:function(e,o,n){n.append("api_key",839988333153567),n.append("timestamp",Date.now()/1e3|0),n.append("upload_preset","sm2ev4nu"),t&&t()},success:e,removedfile:o}}}function t(e,t,o){return{options:{url:"https://api.cloudinary.com/v1_1/cloud9/image/upload",maxFiles:e,acceptedFiles:"image/*",dictDefaultMessage:"Drop files or click here to upload"},eventHandlers:{sending:function(e,t,n){n.append("api_key",839988333153567),n.append("timestamp",Date.now()/1e3|0),n.append("upload_preset","sm2ev4nu"),o&&o()},success:t}}}var o={create:e,createMultiple:t};return o}angular.module("AnyDayBuddyAds").service("DropzoneService",e)}(),function(){"use strict";function e(e,t,o){function n(){var e=$rootScope.currentUser;return!!e}function r(n){var r=o.defer();return t({method:"POST",url:e+"login",data:n}).success(function(e){$rootScope.currentUser=e.user,r.resolve(e)}).error(function(e){r.reject(e)}),r.promise}var a={isLoggedIn:n,login:r};return a}angular.module("AnyDayBuddyAds").factory("userService",e),e.$inject=["API_URL","$http","$q"]}(),function(){"use strict";function e(){var e={restrict:"EA",templateUrl:"assets/views/footer/footer.html",controller:t,controllerAs:"vm",bindToController:!0};return e}function t(){function e(){console.log("footer Activated")}e()}angular.module("AnyDayBuddyAds").directive("footerDirective",e),t.$inject=[]}(),function(){"use strict";function e(){var e={restrict:"EA",templateUrl:"assets/views/header/header.html",controller:t,controllerAs:"vm",bindToController:!0};return e}function t(){function e(){console.log("header Activated")}e()}angular.module("AnyDayBuddyAds").directive("headerDirective",e),t.$inject=[]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5tb2R1bGUuanMiLCJhcHAuY29uc3RhbnRzLmpzIiwiYXBwLnJvdXRlLmpzIiwiYXBwLmNvbmZpZy5qcyIsImZpbHRlcnMvZXhhbXBsZS5maWx0ZXIuanMiLCJtYWluL2hvbWUuY29udHJvbGxlci5qcyIsIm9yZGVycy9jYW1wYWlnbi5kaXJlY3RpdmUuanMiLCJvcmRlcnMvY2hlY2tvdXQuZGlyZWN0aXZlLmpzIiwib3JkZXJzL2N1c3RvbWVyLmRpcmVjdGl2ZS5qcyIsIm9yZGVycy9vcmRlcnMuY29udHJvbGxlci5qcyIsIm9yZGVycy91dGlscy5kaXNwbGF5LmRpcmVjdGl2ZS5qcyIsInNlcnZpY2VzL2RhdGEuc2VydmljZS5qcyIsInNlcnZpY2VzL2Ryb3B6b25lLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy91c2VyLnNlcnZpY2UuanMiLCJjb21wb25lbnRzL2Zvb3Rlci9mb290ZXIuZGlyZWN0aXZlLmpzIiwiY29tcG9uZW50cy9oZWFkZXIvaGVhZGVyLmRpcmVjdGl2ZS5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uc3RhbnQiLCJ3aW5kb3ciLCJfIiwiRHJvcHpvbmUiLCJicmFpbnRyZWUiLCJyb3V0ZXJQcm92aWRlciIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJzdGF0ZSIsInVybCIsInZpZXdzIiwibWFpbiIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJ0ZW1wbGF0ZVVybCIsImF1dGhlbnRpY2F0ZSIsIm90aGVyd2lzZSIsImNvbmZpZyIsIiRpbmplY3QiLCJtYXBzUHJvdmlkZXIiLCJ1aUdtYXBHb29nbGVNYXBBcGlQcm92aWRlciIsImNvbmZpZ3VyZSIsImtleSIsImxpYnJhcmllcyIsIiRtZFRoZW1pbmdQcm92aWRlciIsImRlZmluZVBhbGV0dGUiLCI1MCIsIjEwMCIsIjIwMCIsIjMwMCIsIjQwMCIsIjUwMCIsIjYwMCIsIjcwMCIsIjgwMCIsIjkwMCIsIkExMDAiLCJBMjAwIiwiQTQwMCIsIkE3MDAiLCJjb250cmFzdERlZmF1bHRDb2xvciIsImNvbnRyYXN0RGFya0NvbG9ycyIsInRoZW1lIiwicHJpbWFyeVBhbGV0dGUiLCJhY2NlbnRQYWxldHRlIiwid2FyblBhbGV0dGUiLCJleGFtcGxlIiwiZXhhbXBsZUZpbHRlciIsInBhcmFtcyIsImZpbHRlciIsIkhvbWVDb250cm9sbGVyIiwiJHJvb3RTY29wZSIsImFjdGl2YXRlIiwidm0iLCJ0aGlzIiwidGl0bGUiLCJkaXJlY3RpdmUiLCJsaW5rRnVuYyIsInNjb3BlIiwiZWwiLCJhdHRyIiwiY3RybCIsInJlc3RyaWN0Iiwib3B0aW9ucyIsImZvcm0iLCJ0b3RhbCIsImxpbmsiLCJDb250cm9sbGVyIiwiYmluZFRvQ29udHJvbGxlciIsIiRodHRwIiwiJHEiLCIkc2NvcGUiLCJEYXRhU2VydmljZSIsImdldENsaWVudFRva2VuIiwidGhlbiIsInJlcyIsImNvbnNvbGUiLCJsb2ciLCJzZXR1cEdhdGV3YXkiLCJjbGllbnRUb2tlbiIsImNhdGNoIiwiZXJyIiwidG9rZW4iLCJzZXR1cCIsInBheXBhbCIsImNvbnRhaW5lciIsInNpbmdsZVVzZSIsImFtb3VudCIsImN1cnJlbmN5IiwibG9jYWxlIiwiZW5hYmxlU2hpcHBpbmdBZGRyZXNzIiwib25QYXltZW50TWV0aG9kUmVjZWl2ZWQiLCJvYmoiLCJkb1NvbWV0aGluZ1dpdGhUaGVOb25jZSIsIm5vbmNlIiwib25SZWFkeSIsImludGVncmF0aW9uIiwiY2hlY2tvdXQiLCIkd2F0Y2giLCJjIiwibyIsIiRtZERpYWxvZyIsImdldE9wdGlvbnMiLCJyZXNwIiwidGFyZ2V0IiwiZG9fbWVyZ2UiLCJyb2xlcyIsIm1lcmdlciIsImEiLCJiIiwiaXNPYmplY3QiLCJtZXJnZSIsImFyZ3MiLCJmbGF0dGVuIiwiYXBwbHkiLCJvcGVuSW1hZ2UiLCIkZXZlbnQiLCJpbWFnZSIsInNob3ciLCJmdWxsc2NyZWVuIiwidGFyZ2V0RXZlbnQiLCJjbGlja091dHNpZGVUb0Nsb3NlIiwibG9jYWxzIiwiYWRkIiwiZGlzcGxheSIsIm1lZGlhIiwiaW1wcmVzc2lvbnNVbml0cyIsImltcHJlc3Npb25zVGltZSIsImRpc3RhbmNlIiwiYWdlIiwiZ2VuZGVyIiwiaW1wcmVzc2lvbnMiLCJoYXNPd25Qcm9wZXJ0eSIsImZlZSIsIm1hcCIsIml0ZW0iLCJkaXNjb3VudCIsInVpR21hcEdvb2dsZU1hcEFwaSIsInVpR21hcElzUmVhZHkiLCIkdGltZW91dCIsImFsbCIsInByb21pc2UiLCJyZXNwb25zZSIsImluc3RhbmNlIiwicGl4ZWxPZmZzZXQiLCJTaXplIiwiY2xvc2VDbGljayIsIm1hcmtlciIsIlBsYWNlc0F1dG9jb21wbGV0ZSIsInBsYWNlcyIsIkF1dG9jb21wbGV0ZVNlcnZpY2UiLCJEaXJlY3Rpb25zU2VydmljZSIsIkRpcmVjdGlvblJlbmRlcmVyIiwiRGlyZWN0aW9uc1JlbmRlcmVyIiwic2V0TWFwIiwiUGxhY2VzIiwiUGxhY2VzU2VydmljZSIsInBsYWNlc1JlYWR5IiwiY2VudGVyTWFwIiwibG9jYXRpb24iLCJvZmZzZXQiLCJzY3JvbGwiLCJwYW5UbyIsImdvb2dsZSIsIm1hcHMiLCJMYXRMbmciLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsInBhbkJ5IiwiY2xpY2tNYXAiLCJldmVudE5hbWUiLCJvcmlnaW5hbEV2ZW50QXJncyIsImUiLCJsYXQiLCJsYXRMbmciLCJsb24iLCJsbmciLCJpZCIsIkRhdGUiLCJub3ciLCIkYXBwbHkiLCJib3VuZHNDaGFuZ2VkIiwiY2VudGVyIiwiem9vbSIsInNjcm9sbHdoZWVsIiwibWFwTWFya2VyIiwiZGlzYWJsZURlZmF1bHRVSSIsImNvbnRyb2wiLCJldmVudHMiLCJjbGljayIsImlkbGUiLCJpbmZvIiwibmFtZSIsImFkZHJlc3MiLCJpY29uIiwiZHJvcHpvbmUiLCJ1cGxvYWRNdWx0aXBsZSIsIm1heEZpbGVzIiwiYWNjZXB0ZWRGaWxlcyIsImRpY3REZWZhdWx0TWVzc2FnZSIsImV2ZW50SGFuZGxlcnMiLCJzZW5kaW5nIiwiZmlsZSIsInhociIsImZvcm1EYXRhIiwiYXBwZW5kIiwic3VjY2VzcyIsImRhdGEiLCJzZWN1cmVfdXJsIiwiY2xpY2tNYXJrZXIiLCJhdXRvY29tcGxldGVBZGRyZXNzIiwiZGVmZXJyZWQiLCJkZWZlciIsImdldFF1ZXJ5UHJlZGljdGlvbnMiLCJpbnB1dCIsInJlc29sdmUiLCJnZXRQbGFjZSIsInBsYWNlIiwiZ2V0RGV0YWlscyIsInBsYWNlSWQiLCJwbGFjZV9pZCIsInN0YXR1cyIsInBhcnNlRmxvYXQiLCJnZW9tZXRyeSIsImRhdGFTZXJ2aWNlIiwiYmFzZUFwaSIsIm1ldGhvZCIsImhlYWRlcnMiLCJlcnJvciIsInJlamVjdCIsInNlcnZpY2UiLCJEcm9wem9uZVNlcnZpY2UiLCJjcmVhdGUiLCJyZW1vdmVkZmlsZSIsImFkZFJlbW92ZUxpbmtzIiwiY3JlYXRlTXVsdGlwbGUiLCJ1c2VyU2VydmljZSIsIkFQSV9VUkwiLCJpc0xvZ2dlZEluIiwidXNlciIsImN1cnJlbnRVc2VyIiwibG9naW4iLCJmYWN0b3J5IiwiZm9vdGVyRGlyZWN0aXZlIiwiZm9vdGVyQ29udHJvbGxlciIsImhlYWRlckRpcmVjdGl2ZSIsImhlYWRlckNvbnRyb2xsZXIiXSwibWFwcGluZ3MiOiJDQVNBLFdBQ0EsWUFFQUEsU0FDQUMsT0FBQSxrQkFDQSxZQUNBLGFBQ0EseUJDaEJBLFdBQ0EsWUFFQUQsU0FDQUMsT0FBQSxrQkFDQUMsU0FBQSxJQUFBQyxPQUFBQyxHQUNBRixTQUFBLFdBQUFDLE9BQUFFLFVBQ0FILFNBQUEsWUFBQUMsT0FBQUcsV0FDQUosU0FBQSxVQUFBLGlDQ1JBLFdBQ0EsWUFRQSxTQUFBSyxHQUFBQyxFQUFBQyxFQUFBQyxHQU1BRixFQUNBRyxNQUFBLFFBQ0FDLElBQUEsSUFDQUMsT0FDQUMsTUFDQUMsV0FBQSxpQkFDQUMsYUFBQSxLQUNBQyxZQUFBLDJCQUdBQyxjQUFBLElBRUFQLE1BQUEsVUFDQUMsSUFBQSxVQUNBQyxPQUNBQyxNQUNBQyxXQUFBLG1CQUNBQyxh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QUFBLGtCQUFBNkwsR0FlQUMsRUFBQXBPIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQG5nZG9jIG92ZXJ2aWV3XG4gKiBAbmFtZSBBbnlEYXlCdWRkeUFkc1xuICogQHJlcXVpcmVzIHVpLnJvdXRlclxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogQW5ndWxhckpTIGJhc2ljIGFwcCB0ZW1wbGF0ZVxuICpcbiAqL1xuKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJywgW1xuICAgICAgJ3VpLnJvdXRlcicsXG4gICAgICAnbmdNYXRlcmlhbCcsXG4gICAgICAndWlHbWFwZ29vZ2xlLW1hcHMnLFxuICAgIF0pO1xuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuY29uc3RhbnQoJ18nLCB3aW5kb3cuXylcbiAgICAuY29uc3RhbnQoJ0Ryb3B6b25lJywgd2luZG93LkRyb3B6b25lKVxuICAgIC5jb25zdGFudCgnYnJhaW50cmVlJywgd2luZG93LmJyYWludHJlZSlcbiAgICAuY29uc3RhbnQoJ2Jhc2VBcGknLCAnaHR0cDovL2FwaS5hbnlkYXlidWRkeS5jb20nKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgIC5jb25maWcocm91dGVyUHJvdmlkZXIpO1xuXG4gIHJvdXRlclByb3ZpZGVyLiRpbmplY3QgPSBbJyRzdGF0ZVByb3ZpZGVyJywgJyR1cmxSb3V0ZXJQcm92aWRlcicsICckbG9jYXRpb25Qcm92aWRlciddO1xuXG4gIGZ1bmN0aW9uIHJvdXRlclByb3ZpZGVyKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XG4gICAgLy8gJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHtcbiAgICAvLyAgIGVuYWJsZWQ6IHRydWUsXG4gICAgLy8gICByZXF1aXJlQmFzZTogZmFsc2VcbiAgICAvLyB9KTtcbiAgICAvL1xuICAgICRzdGF0ZVByb3ZpZGVyXG4gICAgICAuc3RhdGUoJ2hvbWUnLCB7XG4gICAgICAgIHVybDogJy8nLFxuICAgICAgICB2aWV3czoge1xuICAgICAgICAgICdtYWluJzoge1xuICAgICAgICAgICAgY29udHJvbGxlcjogJ0hvbWVDb250cm9sbGVyJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXNzZXRzL3ZpZXdzL2hvbWUuaHRtbCdcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGF1dGhlbnRpY2F0ZTogZmFsc2VcbiAgICAgIH0pXG4gICAgICAuc3RhdGUoJ29yZGVycycsIHtcbiAgICAgICAgdXJsOiAnL29yZGVycycsXG4gICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgJ21haW4nOiB7XG4gICAgICAgICAgICBjb250cm9sbGVyOiAnT3JkZXJzQ29udHJvbGxlcicsXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2Fzc2V0cy92aWV3cy9vcmRlcnMuaHRtbCdcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGF1dGhlbnRpY2F0ZTogZmFsc2VcbiAgICAgIH0pO1xuXG4gICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnLycpO1xuICB9XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuY29uZmlnKGNvbmZpZylcbiAgICAuY29uZmlnKG1hcHNQcm92aWRlcik7XG5cbiAgICBtYXBzUHJvdmlkZXIuJGluamVjdCA9IFsndWlHbWFwR29vZ2xlTWFwQXBpUHJvdmlkZXInXTtcblxuICAgIGZ1bmN0aW9uIG1hcHNQcm92aWRlcih1aUdtYXBHb29nbGVNYXBBcGlQcm92aWRlcikge1xuICAgICAgdWlHbWFwR29vZ2xlTWFwQXBpUHJvdmlkZXIuY29uZmlndXJlKHtcbiAgICAgICAga2V5OiAnQUl6YVN5QW9uRnVDRGI3SGpYVXowdW9jS2JFR1VKejkxSUw5RVZzJywgLy9hZGItc2l0ZS0wIGtleVxuICAgICAgICAvLyBrZXk6ICdBSXphU3lBbFc2aHVuN1Z3cEZQdjBmeF9LT1VoNTJsMDhCUnBqWU0nLFxuICAgICAgICBsaWJyYXJpZXM6ICdwbGFjZXMnXG4gICAgICB9KTtcbiAgICB9XG5cbiAgY29uZmlnLiRpbmplY3QgPSBbJyRtZFRoZW1pbmdQcm92aWRlcicsICckbG9jYXRpb25Qcm92aWRlciddO1xuXG4gIGZ1bmN0aW9uIGNvbmZpZygkbWRUaGVtaW5nUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XG5cbiAgICAkbWRUaGVtaW5nUHJvdmlkZXIuZGVmaW5lUGFsZXR0ZSgncHJpbWFyeScsIHtcbiAgICAgICc1MCc6ICcjOWRjZWRhJyxcbiAgICAgICcxMDAnOiAnIzY1YjJjNScsXG4gICAgICAnMjAwJzogJyM0MjlhYjAnLFxuICAgICAgJzMwMCc6ICcjMmY2ZDdjJyxcbiAgICAgICc0MDAnOiAnIzI2NTk2NicsXG4gICAgICAnNTAwJzogJyMxZTQ2NTAnLFxuICAgICAgJzYwMCc6ICcjMTYzMjNhJyxcbiAgICAgICc3MDAnOiAnIzBkMWYyMycsXG4gICAgICAnODAwJzogJyMwNTBjMGQnLFxuICAgICAgJzkwMCc6ICcjMDAwMDAwJyxcbiAgICAgICdBMTAwJzogJyM5ZGNlZGEnLFxuICAgICAgJ0EyMDAnOiAnIzY1YjJjNScsXG4gICAgICAnQTQwMCc6ICcjMjY1OTY2JyxcbiAgICAgICdBNzAwJzogJyMwZDFmMjMnLFxuICAgICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2xpZ2h0JyxcbiAgICAgICdjb250cmFzdERhcmtDb2xvcnMnOiAnNTAgMTAwIDIwMCBBMTAwIEEyMDAnXG4gICAgfSk7XG4gICAgJG1kVGhlbWluZ1Byb3ZpZGVyLmRlZmluZVBhbGV0dGUoJ2FjY2VudCcsIHtcbiAgICAgICc1MCc6ICcjZDBlYmVkJyxcbiAgICAgICcxMDAnOiAnIzk5ZDRkOCcsXG4gICAgICAnMjAwJzogJyM3MGMzYzgnLFxuICAgICAgJzMwMCc6ICcjNDNhN2FlJyxcbiAgICAgICc0MDAnOiAnIzNhOTI5OCcsXG4gICAgICAnNTAwJzogJyMzMjdkODInLFxuICAgICAgJzYwMCc6ICcjMjk2ODZjJyxcbiAgICAgICc3MDAnOiAnIzIxNTI1NicsXG4gICAgICAnODAwJzogJyMxODNkNDAnLFxuICAgICAgJzkwMCc6ICcjMTAyODJhJyxcbiAgICAgICdBMTAwJzogJyNkMGViZWQnLFxuICAgICAgJ0EyMDAnOiAnIzk5ZDRkOCcsXG4gICAgICAnQTQwMCc6ICcjM2E5Mjk4JyxcbiAgICAgICdBNzAwJzogJyMyMTUyNTYnLFxuICAgICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2xpZ2h0JyxcbiAgICAgICdjb250cmFzdERhcmtDb2xvcnMnOiAnNTAgMTAwIDIwMCAzMDAgQTEwMCBBMjAwJ1xuICAgIH0pO1xuICAgICRtZFRoZW1pbmdQcm92aWRlci5kZWZpbmVQYWxldHRlKCd3YXJuJywge1xuICAgICAgJzUwJzogJyNmYWVlZTYnLFxuICAgICAgJzEwMCc6ICcjZWNjM2E3JyxcbiAgICAgICcyMDAnOiAnI2UyYTM3OScsXG4gICAgICAnMzAwJzogJyNkNTdiM2UnLFxuICAgICAgJzQwMCc6ICcjYzk2YjJiJyxcbiAgICAgICc1MDAnOiAnI2IwNWUyNicsXG4gICAgICAnNjAwJzogJyM5NzUxMjEnLFxuICAgICAgJzcwMCc6ICcjN2U0MzFiJyxcbiAgICAgICc4MDAnOiAnIzY0MzYxNicsXG4gICAgICAnOTAwJzogJyM0YjI4MTAnLFxuICAgICAgJ0ExMDAnOiAnI2ZhZWVlNicsXG4gICAgICAnQTIwMCc6ICcjZWNjM2E3JyxcbiAgICAgICdBNDAwJzogJyNjOTZiMmInLFxuICAgICAgJ0E3MDAnOiAnIzdlNDMxYicsXG4gICAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnbGlnaHQnLFxuICAgICAgJ2NvbnRyYXN0RGFya0NvbG9ycyc6ICc1MCAxMDAgMjAwIDMwMCBBMTAwIEEyMDAnXG4gICAgfSk7XG4gICAgJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdkZWZhdWx0JylcbiAgICAgIC5wcmltYXJ5UGFsZXR0ZSgncHJpbWFyeScpXG4gICAgICAuYWNjZW50UGFsZXR0ZSgnYWNjZW50JylcbiAgICAgIC53YXJuUGFsZXR0ZSgnd2FybicpO1xuICB9XG59KSgpO1xuIiwiLyoqXG4gKiBAbmdkb2MgZmlsdGVyXG4gKiBAbmFtZSBleGFtcGxlRmlsdGVyXG4gKiBAZGVzY3JpcHRpb24gXG4gKiBcbiAqIEZpbHRybyBkZSBlamVtcGxvXG4gKiBcbiAqL1xuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgICAgICAuZmlsdGVyKCdmaWx0ZXInLCBleGFtcGxlKTtcblxuICAgIGZ1bmN0aW9uIGV4YW1wbGUoKSB7XG4gICAgICAgIHJldHVybiBleGFtcGxlRmlsdGVyO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBmdW5jdGlvbiBleGFtcGxlRmlsdGVyKHBhcmFtcykge1xuICAgICAgICAgICAgcmV0dXJuIHBhcmFtcztcbiAgICAgICAgfVxuICAgIH1cblxufSkoKTsiLCIvKipcbiAqIEBuZ2RvYyBjb250cm9sbGVyXG4gKiBAbmFtZSBIb21lQ29udHJvbGxlclxuICogQHJlcXVpcmVzICRyb290U2NvcGVcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIE1hbmVqYSBlbCBjb21wb3J0YW1pZW50byBkZSBsYSB2aXN0YSBwcmluY2lwYWxcbiAqXG4gKi9cblxuKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuY29udHJvbGxlcignSG9tZUNvbnRyb2xsZXInLCBIb21lQ29udHJvbGxlcik7XG5cbiAgSG9tZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHJvb3RTY29wZSddO1xuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiBIb21lQ29udHJvbGxlcigkcm9vdFNjb3BlKSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICB2bS50aXRsZSA9ICdIb21lIENvbnRyb2xsZXInO1xuXG4gICAgYWN0aXZhdGUoKTtcblxuICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge31cbiAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgLmRpcmVjdGl2ZSgnYWRiT3JkZXJzQ2FtcGFpZ24nLCBkaXJlY3RpdmUpO1xuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiBkaXJlY3RpdmUoKSB7XG4gICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgdGVtcGxhdGVVcmw6ICdhc3NldHMvdmlld3Mvb3JkZXJzL29yZGVycy5jYW1wYWlnbi5odG1sJyxcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIG9wdGlvbnM6ICc9JyxcbiAgICAgICAgZm9ybTogJz0nLFxuICAgICAgICB0b3RhbDogJz0nXG4gICAgICB9LFxuICAgICAgbGluazogbGlua0Z1bmMsXG4gICAgICBjb250cm9sbGVyOiBDb250cm9sbGVyLFxuICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuICAgIH07XG5cbiAgICByZXR1cm4gZGlyZWN0aXZlO1xuXG4gICAgZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG5cbiAgICB9XG4gIH1cblxuICBDb250cm9sbGVyLiRpbmplY3QgPSBbJyRodHRwJywgJyRxJ107XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIENvbnRyb2xsZXIoJGh0dHAsICRxKSB7XG4gICAgdmFyIHZtID0gdGhpcztcblxuICAgIGFjdGl2YXRlKCk7XG5cbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcblxuICAgIH1cbiAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgLmRpcmVjdGl2ZSgnYWRiT3JkZXJzQ2hlY2tvdXQnLCBkaXJlY3RpdmUpO1xuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiBkaXJlY3RpdmUoKSB7XG4gICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgdGVtcGxhdGVVcmw6ICdhc3NldHMvdmlld3Mvb3JkZXJzL29yZGVycy5jaGVja291dC5odG1sJyxcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIG9wdGlvbnM6ICc9JyxcbiAgICAgICAgZm9ybTogJz0nLFxuICAgICAgICB0b3RhbDogJz0nXG4gICAgICB9LFxuICAgICAgbGluazogbGlua0Z1bmMsXG4gICAgICBjb250cm9sbGVyOiBDb250cm9sbGVyLFxuICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuICAgIH07XG5cbiAgICByZXR1cm4gZGlyZWN0aXZlO1xuXG4gICAgZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG5cbiAgICB9XG4gIH1cblxuICBDb250cm9sbGVyLiRpbmplY3QgPSBbJ18nLCAnYnJhaW50cmVlJywgJyRzY29wZScsJyRodHRwJywgJyRxJywgJ0RhdGFTZXJ2aWNlJ107XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIENvbnRyb2xsZXIoXywgYnJhaW50cmVlLCAkc2NvcGUsICRodHRwLCAkcSwgRGF0YVNlcnZpY2UpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuICAgIHZtLmNoZWNrb3V0ID0ge307XG5cbiAgICBhY3RpdmF0ZSgpO1xuXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICBEYXRhU2VydmljZS5nZXRDbGllbnRUb2tlbigpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICAgIHNldHVwR2F0ZXdheShyZXMuY2xpZW50VG9rZW4pO1xuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldHVwR2F0ZXdheSh0b2tlbikge1xuICAgICAgYnJhaW50cmVlLnNldHVwKHRva2VuLCAnY3VzdG9tJywge1xuICAgICAgICBwYXlwYWw6IHtcbiAgICAgICAgICBjb250YWluZXI6ICdwYXlwYWwtY29udGFpbmVyJyxcbiAgICAgICAgICBzaW5nbGVVc2U6IHRydWUsXG4gICAgICAgICAgYW1vdW50OiAxMC4wMCxcbiAgICAgICAgICBjdXJyZW5jeTogJ1VTRCcsXG4gICAgICAgICAgbG9jYWxlOiAnZW5fdXMnLFxuICAgICAgICAgIGVuYWJsZVNoaXBwaW5nQWRkcmVzczogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBvblBheW1lbnRNZXRob2RSZWNlaXZlZDogZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgZG9Tb21ldGhpbmdXaXRoVGhlTm9uY2Uob2JqLm5vbmNlKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25SZWFkeTogZnVuY3Rpb24oaW50ZWdyYXRpb24pIHtcbiAgICAgICAgICB2bS5jaGVja291dCA9IGludGVncmF0aW9uO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkb1NvbWV0aGluZ1dpdGhUaGVOb25jZShyZXMpIHtcbiAgICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgfVxuXG4gICAgLy8gLy8gV2hlbiB5b3UgYXJlIHJlYWR5IHRvIHRlYXIgZG93biB5b3VyIGludGVncmF0aW9uXG4gICAgLy8gY2hlY2tvdXQudGVhcmRvd24oZnVuY3Rpb24oKSB7XG4gICAgLy8gICBjaGVja291dCA9IG51bGw7XG4gICAgLy8gICAvLyBicmFpbnRyZWUuc2V0dXAgY2FuIHNhZmVseSBiZSBydW4gYWdhaW4hXG4gICAgLy8gfSk7XG5cbiAgICAkc2NvcGUuJHdhdGNoKCd2bS5jaGVja291dCcsIGZ1bmN0aW9uKGMsIG8pIHtcbiAgICAgIGlmICghYykgcmV0dXJuO1xuXG4gICAgICBjb25zb2xlLmxvZyhjKTtcbiAgICB9KTtcbiAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgLmRpcmVjdGl2ZSgnYWRiT3JkZXJzQ3VzdG9tZXInLCBkaXJlY3RpdmUpO1xuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiBkaXJlY3RpdmUoKSB7XG4gICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgdGVtcGxhdGVVcmw6ICdhc3NldHMvdmlld3Mvb3JkZXJzL29yZGVycy5jdXN0b21lci5odG1sJyxcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIG9wdGlvbnM6ICc9JyxcbiAgICAgICAgZm9ybTogJz0nLFxuICAgICAgICB0b3RhbDogJz0nXG4gICAgICB9LFxuICAgICAgbGluazogbGlua0Z1bmMsXG4gICAgICBjb250cm9sbGVyOiBDb250cm9sbGVyLFxuICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuICAgIH07XG5cbiAgICByZXR1cm4gZGlyZWN0aXZlO1xuXG4gICAgZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG5cbiAgICB9XG4gIH1cblxuICBDb250cm9sbGVyLiRpbmplY3QgPSBbJyRodHRwJywgJyRxJ107XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIENvbnRyb2xsZXIoJGh0dHAsICRxKSB7XG4gICAgdmFyIHZtID0gdGhpcztcblxuICAgIGFjdGl2YXRlKCk7XG5cbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcblxuICAgIH1cbiAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgLmNvbnRyb2xsZXIoJ09yZGVyc0NvbnRyb2xsZXInLCBDb250cm9sbGVyKTtcblxuICBDb250cm9sbGVyLiRpbmplY3QgPSBbJ18nLCAnJHNjb3BlJywgJyRtZERpYWxvZycsICdEYXRhU2VydmljZSddO1xuXG4gIGZ1bmN0aW9uIENvbnRyb2xsZXIoXywgJHNjb3BlLCAkbWREaWFsb2csIERhdGFTZXJ2aWNlKSB7XG4gICAgdmFyIHZtID0gdGhpcztcblxuICAgIHZtLm9wZW5JbWFnZSA9IG9wZW5JbWFnZTtcbiAgICB2bS5hZGQgPSBhZGQ7XG4gICAgdm0udG90YWwgPSAwO1xuXG4gICAgdm0ub3B0aW9ucyA9IHtcbiAgICAgIHRhcmdldDoge1xuICAgICAgICBkaXNwbGF5OiBbXSxcbiAgICAgICAgbWVkaWE6IFtdLFxuICAgICAgICBpbXByZXNzaW9uc1VuaXRzOiBbXSxcbiAgICAgICAgaW1wcmVzc2lvbnNUaW1lOiBbXSxcbiAgICAgICAgZGlzdGFuY2U6IFtdLFxuICAgICAgICBhZ2U6IFtdLFxuICAgICAgICBnZW5kZXI6IFtdXG4gICAgICB9XG4gICAgfTtcblxuICAgIHZtLmZvcm0gPSB7XG4gICAgICBtZWRpYToge30sXG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIGRpc3BsYXk6IHt9LFxuICAgICAgICBpbXByZXNzaW9uczoge30sXG4gICAgICAgIGRpc3RhbmNlOiB7fSxcbiAgICAgICAgYWdlOiB7fSxcbiAgICAgICAgZ2VuZGVyOiB7fVxuICAgICAgfVxuICAgIH1cblxuICAgIGFjdGl2YXRlKCk7XG5cbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgIERhdGFTZXJ2aWNlLmdldE9wdGlvbnMoKS50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzcCk7XG4gICAgICAgIHZtLm9wdGlvbnMudGFyZ2V0ID0gZG9fbWVyZ2UocmVzcCk7XG4gICAgICAgIGNvbnNvbGUubG9nKHZtLmZvcm0pO1xuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KVxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gZG9fbWVyZ2Uocm9sZXMpIHtcblxuICAgICAgLy8gQ3VzdG9tIG1lcmdlIGZ1bmN0aW9uIE9ScyB0b2dldGhlciBub24tb2JqZWN0IHZhbHVlcywgcmVjdXJzaXZlbHlcbiAgICAgIC8vIGNhbGxzIGl0c2VsZiBvbiBPYmplY3RzLlxuICAgICAgdmFyIG1lcmdlciA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgaWYgKF8uaXNPYmplY3QoYSkpIHtcbiAgICAgICAgICByZXR1cm4gXy5tZXJnZSh7fSwgYSwgYiwgbWVyZ2VyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gYSB8fCBiO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvLyBBbGxvdyByb2xlcyB0byBiZSBwYXNzZWQgdG8gXy5tZXJnZSBhcyBhbiBhcnJheSBvZiBhcmJpdHJhcnkgbGVuZ3RoXG4gICAgICB2YXIgYXJncyA9IF8uZmxhdHRlbihbe30sIHJvbGVzLCBtZXJnZXJdKTtcbiAgICAgIHJldHVybiBfLm1lcmdlLmFwcGx5KF8sIGFyZ3MpO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gb3BlbkltYWdlKCRldmVudCwgaW1hZ2UpIHtcbiAgICAgICRtZERpYWxvZy5zaG93KHtcbiAgICAgICAgZnVsbHNjcmVlbjogdHJ1ZSxcbiAgICAgICAgdGFyZ2V0RXZlbnQ6ICRldmVudCxcbiAgICAgICAgY2xpY2tPdXRzaWRlVG9DbG9zZTogdHJ1ZSxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvc2hhcmVkL2xheW91dC9pbWFnZU1vZGFsLmh0bWwnLFxuICAgICAgICBsb2NhbHM6IHtcbiAgICAgICAgICBpbWFnZTogaW1hZ2VcbiAgICAgICAgfSxcbiAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnaW1hZ2UnLCBmdW5jdGlvbihzY29wZSwgaW1hZ2UpIHtcbiAgICAgICAgICBzY29wZS5pbWFnZSA9IGltYWdlO1xuICAgICAgICB9XVxuICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBhZGQoKSB7XG4gICAgICAkbWREaWFsb2cuc2hvdyh7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL2NvbXBvbmVudHMvYWQvYWR2ZXJ0aXNlbWVudE1vZGFsLmh0bWwnLFxuICAgICAgICBjbGlja091dHNpZGVUb0Nsb3NlOiB0cnVlLFxuICAgICAgICBmdWxsc2NyZWVuOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAkc2NvcGUuJHdhdGNoKCd2bS5mb3JtJywgZnVuY3Rpb24oYywgbykge1xuICAgICAgY29uc29sZS5sb2coYyk7XG5cbiAgICAgIHZtLnRvdGFsID0gYy5tZWRpYS5oYXNPd25Qcm9wZXJ0eSgnZmVlJyk/Yy5tZWRpYS5mZWU6MDtcblxuICAgICAgXy5tYXAoYy5vcHRpb25zLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIGlmIChpdGVtLmhhc093blByb3BlcnR5KCdmZWUnKSl7XG4gICAgICAgICAgICB2bS50b3RhbCArPSAgdm0udG90YWwgKiBpdGVtLmZlZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpdGVtLmhhc093blByb3BlcnR5KCdkaXNjb3VudCcpKXtcbiAgICAgICAgICAgIHZtLnRvdGFsIC09IHZtLnRvdGFsICogaXRlbS5kaXNjb3VudDtcbiAgICAgICAgfVxuXG4gICAgICB9KVxuICAgIH0sIHRydWUpXG5cbiAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgLmRpcmVjdGl2ZSgnYWRiRGlzcGxheUNob29zZXInLCBkaXJlY3RpdmUpO1xuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiBkaXJlY3RpdmUoKSB7XG4gICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgdGVtcGxhdGVVcmw6ICdhc3NldHMvdmlld3Mvb3JkZXJzL29yZGVycy5kaXNwbGF5Lmh0bWwnLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgb3B0aW9uczogJz0nLFxuICAgICAgICBmb3JtOiAnPScsXG4gICAgICAgIHRvdGFsOiAnPSdcbiAgICAgIH0sXG4gICAgICBsaW5rOiBsaW5rRnVuYyxcbiAgICAgIGNvbnRyb2xsZXI6IENvbnRyb2xsZXIsXG4gICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXG4gICAgfTtcblxuICAgIHJldHVybiBkaXJlY3RpdmU7XG5cbiAgICBmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcblxuICAgIH1cbiAgfVxuXG4gIENvbnRyb2xsZXIuJGluamVjdCA9IFsndWlHbWFwR29vZ2xlTWFwQXBpJywgJ3VpR21hcElzUmVhZHknLCAnJHEnLCAnJHNjb3BlJywgJyR0aW1lb3V0J107XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIENvbnRyb2xsZXIodWlHbWFwR29vZ2xlTWFwQXBpLCB1aUdtYXBJc1JlYWR5LCAkcSwgJHNjb3BlLCAkdGltZW91dCkge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgdmFyIFBsYWNlcyA9IG51bGw7XG4gICAgdmFyIERpcmVjdGlvblJlbmRlcmVyID0gbnVsbDtcbiAgICB2YXIgRGlyZWN0aW9uc1NlcnZpY2UgPSBudWxsO1xuICAgIHZhciBQbGFjZXNBdXRvY29tcGxldGUgPSBudWxsO1xuXG4gICAgdm0ubWFwID0ge1xuICAgICAgY2VudGVyOiB7XG4gICAgICAgIGxhdGl0dWRlOiA0NS41MDE3NDUwMjgxNjY2NyxcbiAgICAgICAgbG9uZ2l0dWRlOiAtNzMuNTcwMzg4MTgyOTk3N1xuICAgICAgfSxcbiAgICAgIHpvb206IDE0LFxuICAgICAgb3B0aW9uczoge1xuICAgICAgICBzY3JvbGx3aGVlbDogdHJ1ZVxuICAgICAgfSxcbiAgICAgIG1hcE1hcmtlcjogdHJ1ZSxcbiAgICAgIGRpc2FibGVEZWZhdWx0VUk6IHRydWUsXG4gICAgICBjb250cm9sOiB7fSxcbiAgICAgIGV2ZW50czoge1xuICAgICAgICBjbGljazogY2xpY2tNYXAsXG4gICAgICAgIGlkbGU6IGJvdW5kc0NoYW5nZWRcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdm0uaW5mbyA9IHtcbiAgICAgIG5hbWU6ICdWZW51ZSBuYW1lJyxcbiAgICAgIGFkZHJlc3M6ICcnLFxuICAgICAgaWNvbjogJycsXG4gICAgfVxuXG4gICAgdm0ubWFya2VyID0ge1xuICAgICAgaWQ6IDAsXG4gICAgICBsb2NhdGlvbjoge1xuICAgICAgICBsYXRpdHVkZTogNDUuNTAxNzQ1MDI4MTY2NjcsXG4gICAgICAgIGxvbmdpdHVkZTogLTczLjU3MDM4ODE4Mjk5NzdcbiAgICAgIH0sXG4gICAgICBzaG93OiBmYWxzZSxcbiAgICB9XG5cbiAgICB2bS5kcm9wem9uZSA9IHtcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgdXJsOiAnaHR0cHM6Ly9hcGkuY2xvdWRpbmFyeS5jb20vdjFfMS9jbG91ZDkvYWRzL3VwbG9hZCcsXG4gICAgICAgIHVwbG9hZE11bHRpcGxlOiBmYWxzZSxcbiAgICAgICAgbWF4RmlsZXM6IDEsXG4gICAgICAgIGFjY2VwdGVkRmlsZXM6ICdpbWFnZS8qJyxcbiAgICAgICAgZGljdERlZmF1bHRNZXNzYWdlOiAnQmFubmVyIGltYWdlLiBEcm9wIG9yIGNsaWNrIHRvIHVwbG9hZCdcbiAgICAgIH0sXG4gICAgICBldmVudEhhbmRsZXJzOiB7XG4gICAgICAgIHNlbmRpbmc6IGZ1bmN0aW9uKGZpbGUsIHhociwgZm9ybURhdGEpIHtcbiAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2FwaV9rZXknLCA4Mzk5ODgzMzMxNTM1NjcpO1xuICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgndGltZXN0YW1wJywgRGF0ZS5ub3coKSAvIDEwMDAgfCAwKTtcbiAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3VwbG9hZF9wcmVzZXQnLCAnZHp1YXhlbGQnKTtcbiAgICAgICAgfSxcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZmlsZSwgcmVzcG9uc2UpIHtcbiAgICAgICAgICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuXG4gICAgICAgICAgICB2bS5kYXRhLmltYWdlID0gcmVzcG9uc2Uuc2VjdXJlX3VybDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBhY3RpdmF0ZSgpO1xuXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG5cbiAgICAgICRxLmFsbChbdWlHbWFwR29vZ2xlTWFwQXBpLCB1aUdtYXBJc1JlYWR5LnByb21pc2UoMSldKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBtYXAgPSByZXNwb25zZVswXTtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gcmVzcG9uc2VbMV1bMF0ubWFwO1xuXG4gICAgICAgIHZtLndpbmRvdyA9IHtcbiAgICAgICAgICBwaXhlbE9mZnNldDogbmV3IG1hcC5TaXplKDAsIC00MCksXG4gICAgICAgICAgY2xvc2VDbGljazogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2bS5tYXJrZXIuc2hvdyA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBQbGFjZXNBdXRvY29tcGxldGUgPSBuZXcgbWFwLnBsYWNlcy5BdXRvY29tcGxldGVTZXJ2aWNlKCk7XG4gICAgICAgIERpcmVjdGlvbnNTZXJ2aWNlID0gbmV3IG1hcC5EaXJlY3Rpb25zU2VydmljZSgpO1xuICAgICAgICBEaXJlY3Rpb25SZW5kZXJlciA9IG5ldyBtYXAuRGlyZWN0aW9uc1JlbmRlcmVyKCk7XG4gICAgICAgIHZtLm1hcC5pbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgICAgICBEaXJlY3Rpb25SZW5kZXJlci5zZXRNYXAodm0ubWFwLmluc3RhbmNlKTtcbiAgICAgICAgUGxhY2VzID0gbmV3IG1hcC5wbGFjZXMuUGxhY2VzU2VydmljZSh2bS5tYXAuaW5zdGFuY2UpO1xuICAgICAgICB2bS5wbGFjZXNSZWFkeSA9IHRydWU7XG4gICAgICAgIGNvbnNvbGUubG9nKCdyZWFkeScpO1xuICAgICAgICAvL2dldExvY2F0aW9uKCk7XG5cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHZtLmNsaWNrTWFya2VyID0gZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZygnY2xpY2snKTtcbiAgICAgIHZtLm1hcmtlci5zaG93ID0gIXZtLm1hcmtlci5zaG93O1xuICAgICAgJHNjb3BlLiRhcHBseSgpO1xuXG4gICAgfVxuXG4gICAgdm0uYXV0b2NvbXBsZXRlQWRkcmVzcyA9IGZ1bmN0aW9uKGFkZHJlc3MpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgIFBsYWNlc0F1dG9jb21wbGV0ZS5nZXRRdWVyeVByZWRpY3Rpb25zKHtcbiAgICAgICAgaW5wdXQ6IGFkZHJlc3NcbiAgICAgIH0sIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhID8gXy5maWx0ZXIoZGF0YSwgJ3BsYWNlX2lkJykgOiBbXSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcblxuICAgIHZtLmdldFBsYWNlID0gZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZyh2bS5pbmZvLnBsYWNlKTtcblxuICAgICAgaWYgKCF2bS5pbmZvLnBsYWNlKSByZXR1cm47XG5cbiAgICAgIFBsYWNlcy5nZXREZXRhaWxzKHtcbiAgICAgICAgcGxhY2VJZDogdm0uaW5mby5wbGFjZS5wbGFjZV9pZFxuICAgICAgfSwgZnVuY3Rpb24ocGxhY2UsIHN0YXR1cykge1xuICAgICAgICBjb25zb2xlLmxvZyhwbGFjZSwgc3RhdHVzKTtcblxuICAgICAgICB2bS5tYXJrZXIgPSB7XG4gICAgICAgICAgaWQ6IERhdGUubm93KCksXG4gICAgICAgICAgbmFtZTogcGxhY2UubmFtZSxcbiAgICAgICAgICBsb2NhdGlvbjoge1xuICAgICAgICAgICAgbGF0aXR1ZGU6IHBhcnNlRmxvYXQocGxhY2UuZ2VvbWV0cnkubG9jYXRpb24ubGF0KCkpLFxuICAgICAgICAgICAgbG9uZ2l0dWRlOiBwYXJzZUZsb2F0KHBsYWNlLmdlb21ldHJ5LmxvY2F0aW9uLmxuZygpKSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNob3c6IHRydWVcbiAgICAgICAgfTtcblxuXG4gICAgICAgIGNlbnRlck1hcCh2bS5tYXAuaW5zdGFuY2UsIHZtLm1hcmtlci5sb2NhdGlvbiwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBjZW50ZXJNYXAobWFwLCBsb2NhdGlvbiwgb2Zmc2V0LCBzY3JvbGwpIHtcbiAgICAgIGNvbnNvbGUubG9nKGxvY2F0aW9uKTtcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBtYXAucGFuVG8obmV3IGdvb2dsZS5tYXBzLkxhdExuZyhsb2NhdGlvbi5sYXRpdHVkZSwgbG9jYXRpb24ubG9uZ2l0dWRlKSk7XG4gICAgICAgIGlmIChvZmZzZXQpIG1hcC5wYW5CeSgwLCAtMjAwKTtcbiAgICAgIH0sIDEwMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xpY2tNYXAobWFwLCBldmVudE5hbWUsIG9yaWdpbmFsRXZlbnRBcmdzKSB7XG4gICAgICB2YXIgZSA9IG9yaWdpbmFsRXZlbnRBcmdzWzBdO1xuICAgICAgdmFyIGxhdCA9IGUubGF0TG5nLmxhdCgpLFxuICAgICAgICBsb24gPSBlLmxhdExuZy5sbmcoKTtcbiAgICAgIHZtLm1hcmtlciA9IHtcbiAgICAgICAgaWQ6IERhdGUubm93KCksXG4gICAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgICAgbGF0aXR1ZGU6IGxhdCxcbiAgICAgICAgICBsb25naXR1ZGU6IGxvblxuICAgICAgICB9LFxuICAgICAgICBzaG93OiBmYWxzZVxuICAgICAgfTtcbiAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBib3VuZHNDaGFuZ2VkKCkge1xuICAgICAgY29uc29sZS5sb2coJ2JvdW5kcyBjaGFuZ2VkJyk7XG4gICAgICBpZiAoIXZtLm1hcC5pbnN0YW5jZSkgcmV0dXJuO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldExvY2F0aW9uKCkge1xuICAgICAgaWYgKHZtLmRhdGEubG9jYXRpb24pIHtcbiAgICAgICAgdm0ubG9jYXRpb24gPSB7XG4gICAgICAgICAgbGF0OiBwYXJzZUZsb2F0KHZtLmRhdGEubG9jYXRpb25bMF0pLFxuICAgICAgICAgIGxuZzogcGFyc2VGbG9hdCh2bS5kYXRhLmxvY2F0aW9uWzFdKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vXG4gICAgICAvLyBVdGlsU2VydmljZS5nZXRMb2NhdGlvbigpXG4gICAgICAvLyAgIC50aGVuKGZ1bmN0aW9uKGxvY2F0aW9uKSB7XG4gICAgICAvLyAgICAgdm0ubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgIC8vICAgICAvL2NlbnRlck1hcCh2bS5tYXAuaW5zdGFuY2UsIHZtLmxvY2F0aW9uKTtcbiAgICAgIC8vICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG4gICAgICAvLyAgICAgaWYgKCRyb290U2NvcGUudXNlci5hZGRyZXNzUGxhY2UpXG4gICAgICAvLyAgICAgICBnZXRQbGFjZSgkcm9vdFNjb3BlLnVzZXIuYWRkcmVzc1BsYWNlLnBsYWNlX2lkKTtcbiAgICAgIC8vXG4gICAgICAvLyAgIH0pLmZpbmFsbHkoZnVuY3Rpb24oKSB7XG4gICAgICAvLyAgICAgLy92bS5tYXBWaXNpYmxlID0gdHJ1ZTtcbiAgICAgIC8vICAgICAvL3ZtLmFjdGl2aXRpZXMucHVzaChsb2NhdGlvbk1hcmtlcigpKTtcbiAgICAgIC8vICAgICBjb25zb2xlLmxvZygnbG9jYXRpb24nKTtcbiAgICAgIC8vICAgfSk7XG5cbiAgICB9XG4gIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgIC5zZXJ2aWNlKCdEYXRhU2VydmljZScsIGRhdGFTZXJ2aWNlKTtcblxuICBkYXRhU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckcScsICdiYXNlQXBpJ107XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIGRhdGFTZXJ2aWNlKCRodHRwLCAkcSwgYmFzZUFwaSkge1xuICAgIHZhciBkYXRhU2VydmljZSA9IHtcbiAgICAgIGdldE9wdGlvbnM6IGdldE9wdGlvbnMsXG4gICAgICBnZXRDbGllbnRUb2tlbiA6IGdldENsaWVudFRva2VuXG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGFTZXJ2aWNlO1xuXG4gICAgZnVuY3Rpb24gZ2V0T3B0aW9ucygpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICRodHRwKHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgdXJsOiBiYXNlQXBpICsgJy9hZHZlcnRpc21lbnQvb3B0aW9ucy8nXG4gICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XG4gICAgICB9KS5lcnJvcihmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGRlZmVycmVkLnJlamVjdChlcnIpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldENsaWVudFRva2VuKCkge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgJGh0dHAoe1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjEzMzgvY29tbWVyY2UvY2xpZW50VG9rZW4vJ1xuICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xuICAgICAgfSkuZXJyb3IoZnVuY3Rpb24gKGVycikge1xuICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9XG5cblxuICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuc2VydmljZSgnRHJvcHpvbmVTZXJ2aWNlJywgRHJvcHpvbmVTZXJ2aWNlKTtcblxuXG4gIGZ1bmN0aW9uIERyb3B6b25lU2VydmljZSgpIHtcbiAgICB2YXIgc2VydmljZSA9IHtcbiAgICAgIGNyZWF0ZTogY3JlYXRlLFxuICAgICAgY3JlYXRlTXVsdGlwbGU6IGNyZWF0ZU11bHRpcGxlXG4gICAgfTtcblxuICAgIHJldHVybiBzZXJ2aWNlO1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlKHN1Y2Nlc3MsIHNlbmRpbmcsIHJlbW92ZWRmaWxlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgdXJsOiAnaHR0cHM6Ly9hcGkuY2xvdWRpbmFyeS5jb20vdjFfMS9jbG91ZDkvaW1hZ2UvdXBsb2FkJyxcbiAgICAgICAgICB1cGxvYWRNdWx0aXBsZTogZmFsc2UsXG4gICAgICAgICAgbWF4RmlsZXM6IDEsXG4gICAgICAgICAgYWNjZXB0ZWRGaWxlczogJ2ltYWdlLyonLFxuICAgICAgICAgIGRpY3REZWZhdWx0TWVzc2FnZTogJ0Ryb3AgZmlsZSBvciBjbGljayBoZXJlIHRvIHVwbG9hZCcsXG4gICAgICAgICAgYWRkUmVtb3ZlTGlua3M6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgZXZlbnRIYW5kbGVyczoge1xuICAgICAgICAgIHNlbmRpbmc6IGZ1bmN0aW9uKGZpbGUsIHhociwgZm9ybURhdGEpIHtcbiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnYXBpX2tleScsIDgzOTk4ODMzMzE1MzU2Nyk7XG4gICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3RpbWVzdGFtcCcsIERhdGUubm93KCkgLyAxMDAwIHwgMCk7XG4gICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3VwbG9hZF9wcmVzZXQnLCAnc20yZXY0bnUnKTtcbiAgICAgICAgICAgIGlmIChzZW5kaW5nKSBzZW5kaW5nKCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdWNjZXNzOiBzdWNjZXNzLFxuICAgICAgICAgIHJlbW92ZWRmaWxlOiByZW1vdmVkZmlsZVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZU11bHRpcGxlKG1heEZpbGVzLCBzdWNjZXNzLCBzZW5kaW5nKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgdXJsOiAnaHR0cHM6Ly9hcGkuY2xvdWRpbmFyeS5jb20vdjFfMS9jbG91ZDkvaW1hZ2UvdXBsb2FkJyxcbiAgICAgICAgICBtYXhGaWxlczogbWF4RmlsZXMsXG4gICAgICAgICAgYWNjZXB0ZWRGaWxlczogJ2ltYWdlLyonLFxuICAgICAgICAgIGRpY3REZWZhdWx0TWVzc2FnZTogJ0Ryb3AgZmlsZXMgb3IgY2xpY2sgaGVyZSB0byB1cGxvYWQnXG4gICAgICAgIH0sXG4gICAgICAgIGV2ZW50SGFuZGxlcnM6IHtcbiAgICAgICAgICBzZW5kaW5nOiBmdW5jdGlvbihmaWxlLCB4aHIsIGZvcm1EYXRhKSB7XG4gICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2FwaV9rZXknLCA4Mzk5ODgzMzMxNTM1NjcpO1xuICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCd0aW1lc3RhbXAnLCBEYXRlLm5vdygpIC8gMTAwMCB8IDApO1xuICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCd1cGxvYWRfcHJlc2V0JywgJ3NtMmV2NG51Jyk7XG4gICAgICAgICAgICBpZiAoc2VuZGluZykgc2VuZGluZygpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc3VjY2Vzczogc3VjY2Vzc1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG59KSgpO1xuIiwiLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgdXNlcnNlcnZpY2VcbiAqIEByZXF1aXJlcyAkaHR0cCwgJHFcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIEVzdGUgc2VydmljaW8gZXMgdXNhZG8gcGFyYSBtYW5lamFyIGxhcyBzZXNpb25lcyBkZSB1c3VhcmlvLlxuICpcbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgIC5mYWN0b3J5KCd1c2VyU2VydmljZScsIHVzZXJTZXJ2aWNlKTtcblxuICB1c2VyU2VydmljZS4kaW5qZWN0ID0gWydBUElfVVJMJywgJyRodHRwJywgJyRxJ107XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIHVzZXJTZXJ2aWNlKEFQSV9VUkwsICRodHRwLCAkcSkge1xuICAgIHZhciBzZXJ2aWNlID0ge1xuICAgICAgaXNMb2dnZWRJbjogaXNMb2dnZWRJbixcbiAgICAgIGxvZ2luOiBsb2dpblxuICAgIH07XG4gICAgcmV0dXJuIHNlcnZpY2U7XG5cbiAgICAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAvKipcbiAgICAgKiBWZXJpZmljYSBzaSBlbCB1c3VhcmlvIGVzdMOhIGF1dGVudGljYWRvLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgQ3VhbmRvIGhheSB1biB1c3VhcmlvIGF1dGVudGljYWRvLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTG9nZ2VkSW4oKSB7XG4gICAgICB2YXIgdXNlciA9ICRyb290U2NvcGUuY3VycmVudFVzZXI7XG4gICAgICByZXR1cm4gISF1c2VyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZhbGlkYSBsYXMgY3JlZGVuY2lhbGVzIGRlbCB1c3VhcmlvIGNvbiBlbCBzZXJ2aWRvci5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICBwYXJhbXMgQ3JlZGVuY2lhbGVzLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9ICAgICAgICBQcm9tZXNhIGRlIGxhIHNvbGljaXR1ZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb2dpbihwYXJhbXMpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICRodHRwKHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIHVybDogQVBJX1VSTCArICdsb2dpbicsXG4gICAgICAgIGRhdGE6IHBhcmFtc1xuICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICRyb290U2NvcGUuY3VycmVudFVzZXIgPSByZXNwLnVzZXI7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUocmVzcCk7XG4gICAgICB9KS5lcnJvcihmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycik7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfVxuXG4gIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgICAgIC5kaXJlY3RpdmUoJ2Zvb3RlckRpcmVjdGl2ZScsIGZvb3RlckRpcmVjdGl2ZSk7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBmb290ZXJEaXJlY3RpdmUoKSB7XG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXNzZXRzL3ZpZXdzL2Zvb3Rlci9mb290ZXIuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiBmb290ZXJDb250cm9sbGVyLFxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XG4gICAgfVxuXG4gICAgZm9vdGVyQ29udHJvbGxlci4kaW5qZWN0ID0gW107XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBmb290ZXJDb250cm9sbGVyKCkge1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgICAgIGFjdGl2YXRlKCk7XG5cbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2Zvb3RlciBBY3RpdmF0ZWQnKTtcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgICAgIC5kaXJlY3RpdmUoJ2hlYWRlckRpcmVjdGl2ZScsIGhlYWRlckRpcmVjdGl2ZSk7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBoZWFkZXJEaXJlY3RpdmUoKSB7XG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXNzZXRzL3ZpZXdzL2hlYWRlci9oZWFkZXIuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiBoZWFkZXJDb250cm9sbGVyLFxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XG4gICAgfVxuXG4gICAgaGVhZGVyQ29udHJvbGxlci4kaW5qZWN0ID0gW107XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBoZWFkZXJDb250cm9sbGVyKCkge1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgICAgIGFjdGl2YXRlKCk7XG5cbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2hlYWRlciBBY3RpdmF0ZWQnKTtcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
