!function(){"use strict";angular.module("AnyDayBuddyAds",["ui.router","ngMaterial","uiGmapgoogle-maps"])}(),function(){"use strict";angular.module("AnyDayBuddyAds").constant("_",window._).constant("jQuery",window.jQuery).constant("Dropzone",window.Dropzone).constant("braintree",window.braintree).constant("baseApi","http://api.anydaybuddy.com")}(),function(){"use strict";function e(e,o,t){e.state("home",{url:"/",views:{main:{controller:"HomeController",controllerAs:"vm",templateUrl:"assets/views/home.html"}},authenticate:!1}).state("orders",{url:"/orders",views:{main:{controller:"OrdersController",controllerAs:"vm",templateUrl:"assets/views/orders.html"}},authenticate:!1}),o.otherwise("/")}angular.module("AnyDayBuddyAds").config(e),e.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"]}(),function(){"use strict";function e(e){e.configure({key:"AIzaSyAonFuCDb7HjXUz0uocKbEGUJz91IL9EVs",libraries:"places"})}function o(e,o){e.definePalette("primary",{50:"#9dceda",100:"#65b2c5",200:"#429ab0",300:"#2f6d7c",400:"#265966",500:"#1e4650",600:"#16323a",700:"#0d1f23",800:"#050c0d",900:"#000000",A100:"#9dceda",A200:"#65b2c5",A400:"#265966",A700:"#0d1f23",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100 A200"}),e.definePalette("accent",{50:"#d0ebed",100:"#99d4d8",200:"#70c3c8",300:"#43a7ae",400:"#3a9298",500:"#327d82",600:"#29686c",700:"#215256",800:"#183d40",900:"#10282a",A100:"#d0ebed",A200:"#99d4d8",A400:"#3a9298",A700:"#215256",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100 A200"}),e.definePalette("warn",{50:"#faeee6",100:"#ecc3a7",200:"#e2a379",300:"#d57b3e",400:"#c96b2b",500:"#b05e26",600:"#975121",700:"#7e431b",800:"#643616",900:"#4b2810",A100:"#faeee6",A200:"#ecc3a7",A400:"#c96b2b",A700:"#7e431b",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100 A200"}),e.theme("default").primaryPalette("primary").accentPalette("accent").warnPalette("warn")}angular.module("AnyDayBuddyAds").config(o).config(e),e.$inject=["uiGmapGoogleMapApiProvider"],o.$inject=["$mdThemingProvider","$locationProvider"]}(),function(){"use strict";function e(){function e(e){return e}return e}angular.module("AnyDayBuddyAds").filter("filter",e)}(),function(){"use strict";function e(e,o){function t(){}function n(e){o("html, body").animate({scrollTop:o(e).offset().top},1e3)}var r=this;r.title="Home Controller",r.scrollTo=n,t()}angular.module("AnyDayBuddyAds").controller("HomeController",e),e.$inject=["$rootScope","jQuery"]}(),function(){"use strict";function e(){function e(e,o,t,n){}var t={restrict:"EA",templateUrl:"assets/views/orders/orders.campaign.html",scope:{options:"=",form:"=",total:"="},link:e,controller:o,controllerAs:"vm",bindToController:!0};return t}function o(e,o){function t(){}t()}angular.module("AnyDayBuddyAds").directive("adbOrdersCampaign",e),o.$inject=["$http","$q"]}(),function(){"use strict";function e(){function e(e,o,t,n){}var t={restrict:"EA",templateUrl:"assets/views/orders/orders.checkout.html",scope:{options:"=",form:"=",total:"="},link:e,controller:o,controllerAs:"vm",bindToController:!0};return t}function o(e,o,t,n,r,i){function a(){i.getClientToken().then(function(e){console.log(e),c(e.clientToken)}).catch(function(e){console.log(e)})}function c(e){o.setup(e,"custom",{paypal:{container:"paypal-container",singleUse:!0,amount:10,currency:"USD",locale:"en_us",enableShippingAddress:!0},onPaymentMethodReceived:function(e){l(e.nonce)},onReady:function(e){s.checkout=e}})}function l(e){console.log(e)}var s=this;s.checkout={},a(),t.$watch("vm.checkout",function(e,o){e&&console.log(e)})}angular.module("AnyDayBuddyAds").directive("adbOrdersCheckout",e),o.$inject=["_","braintree","$scope","$http","$q","DataService"]}(),function(){"use strict";function e(){function e(e,o,t,n){}var t={restrict:"EA",templateUrl:"assets/views/orders/orders.customer.html",scope:{options:"=",form:"=",total:"="},link:e,controller:o,controllerAs:"vm",bindToController:!0};return t}function o(e,o){function t(){}t()}angular.module("AnyDayBuddyAds").directive("adbOrdersCustomer",e),o.$inject=["$http","$q"]}(),function(){"use strict";function e(e,o,t,n){function r(){n.getOptions().then(function(e){console.log(e),l.options.target=i(e),console.log(l.form)}).catch(function(e){console.log(e)})}function i(o){var t=function(o,n){return e.isObject(o)?e.merge({},o,n,t):o||n},n=e.flatten([{},o,t]);return e.merge.apply(e,n)}function a(e,o){t.show({fullscreen:!0,targetEvent:e,clickOutsideToClose:!0,templateUrl:"app/shared/layout/imageModal.html",locals:{image:o},controller:["$scope","image",function(e,o){e.image=o}]})}function c(){t.show({templateUrl:"app/components/ad/advertisementModal.html",clickOutsideToClose:!0,fullscreen:!0})}var l=this;l.openImage=a,l.add=c,l.total=0,l.options={target:{display:[],media:[],impressionsUnits:[],impressionsTime:[],distance:[],age:[],gender:[]}},l.form={media:{},options:{display:{},impressions:{},distance:{},age:{},gender:{}}},r(),o.$watch("vm.form",function(o,t){console.log(o),l.total=o.media.hasOwnProperty("fee")?o.media.fee:0,e.map(o.options,function(e){e.hasOwnProperty("fee")&&(l.total+=l.total*e.fee),e.hasOwnProperty("discount")&&(l.total-=l.total*e.discount)})},!0)}angular.module("AnyDayBuddyAds").controller("OrdersController",e),e.$inject=["_","$scope","$mdDialog","DataService"]}(),function(){"use strict";function e(){function e(e,o,t,n){}var t={restrict:"EA",templateUrl:"assets/views/orders/orders.display.html",scope:{options:"=",form:"=",total:"="},link:e,controller:o,controllerAs:"vm",bindToController:!0};return t}function o(e,o,t,n,r,i){function a(){t.all([e,o.promise(1)]).then(function(e){var o=e[0],t=e[1][0].map;u.window={pixelOffset:new o.Size(0,(-40)),closeClick:function(){u.marker.show=!1}},m=new o.places.AutocompleteService,f=new o.DirectionsService,p=new o.DirectionsRenderer,u.map.instance=t,p.setMap(u.map.instance),d=new o.places.PlacesService(u.map.instance),u.placesReady=!0,console.log("ready")})}function c(e,o,t,n){console.log(o),r(function(){e.panTo(new google.maps.LatLng(o.latitude,o.longitude)),t&&e.panBy(0,-200)},100)}function l(e,o,t){var r=t[0],i=r.latLng.lat(),a=r.latLng.lng();u.marker={id:Date.now(),location:{latitude:i,longitude:a},show:!1},n.$apply()}function s(){console.log("bounds changed"),!u.map.instance}var u=this,d=null,p=null,f=null,m=null;u.control={uploading:!1},u.map={center:{latitude:45.50174502816667,longitude:-73.5703881829977},zoom:14,options:{scrollwheel:!0},mapMarker:!0,disableDefaultUI:!0,control:{},events:{click:l,idle:s}},u.info={name:"Venue name",address:"",icon:""},u.marker={id:0,location:{latitude:45.50174502816667,longitude:-73.5703881829977},show:!1},u.dropzone=i.create(function(e,o){n.$apply(function(){console.log(o.secure_url),u.control.uploading=!1})},function(){n.$apply(function(){u.control.uploading=!0})}),a(),u.clickMarker=function(){console.log("click"),u.marker.show=!u.marker.show,n.$apply()},u.autocompleteAddress=function(e){var o=t.defer();return m.getQueryPredictions({input:e},function(e){o.resolve(e?_.filter(e,"place_id"):[])}),o.promise},u.getPlace=function(){console.log(u.info.place),u.info.place&&d.getDetails({placeId:u.info.place.place_id},function(e,o){console.log(e,o),u.marker={id:Date.now(),name:e.name,location:{latitude:parseFloat(e.geometry.location.lat()),longitude:parseFloat(e.geometry.location.lng())},show:!0},c(u.map.instance,u.marker.location,null,!0),n.$apply()})}}angular.module("AnyDayBuddyAds").directive("adbDisplayChooser",e),o.$inject=["uiGmapGoogleMapApi","uiGmapIsReady","$q","$scope","$timeout","DropzoneService"]}(),function(){"use strict";function e(e,o,t){function n(){var n=o.defer();return e({method:"GET",url:t+"/campaign/options/"}).success(function(e,o,t,r){n.resolve(e)}).error(function(e){n.reject(e)}),n.promise}function r(){var n=o.defer();return e({method:"GET",url:t+"/commerce/clientToken/"}).success(function(e,o,t,r){n.resolve(e)}).error(function(e){n.reject(e)}),n.promise}var i={getOptions:n,getClientToken:r};return i}angular.module("AnyDayBuddyAds").service("DataService",e),e.$inject=["$http","$q","baseApi"]}(),function(){"use strict";function e(){function e(e,o,t){return{options:{url:"https://api.cloudinary.com/v1_1/cloud9/image/upload",uploadMultiple:!1,maxFiles:1,acceptedFiles:"image/*",dictDefaultMessage:"Drop file or click here to upload",addRemoveLinks:!0},eventHandlers:{sending:function(e,t,n){n.append("api_key",839988333153567),n.append("timestamp",Date.now()/1e3|0),n.append("upload_preset","sm2ev4nu"),o&&o()},success:e,removedfile:t}}}function o(e,o,t){return{options:{url:"https://api.cloudinary.com/v1_1/cloud9/image/upload",maxFiles:e,acceptedFiles:"image/*",dictDefaultMessage:"Drop files or click here to upload"},eventHandlers:{sending:function(e,o,n){n.append("api_key",839988333153567),n.append("timestamp",Date.now()/1e3|0),n.append("upload_preset","sm2ev4nu"),t&&t()},success:o}}}var t={create:e,createMultiple:o};return t}angular.module("AnyDayBuddyAds").service("DropzoneService",e)}(),function(){"use strict";function e(e,o,t){function n(){var e=$rootScope.currentUser;return!!e}function r(n){var r=t.defer();return o({method:"POST",url:e+"login",data:n}).success(function(e){$rootScope.currentUser=e.user,r.resolve(e)}).error(function(e){r.reject(e)}),r.promise}var i={isLoggedIn:n,login:r};return i}angular.module("AnyDayBuddyAds").factory("userService",e),e.$inject=["API_URL","$http","$q"]}(),function(){"use strict";function e(e){function o(o,t,n){var r,i;r=o.dropzone,i=new e(t[0],r.options),o.reset&&i.on("complete",function(e){i.removeFile(e)}),angular.forEach(r.eventHandlers,function(e,o){i.on(o,e)})}var t={link:o,restrict:"EA",scope:{dropzone:"=dropzone",reset:"@reset"}};return t}angular.module("AnyDayBuddyAds").directive("dropzone",e),e.$inject=["Dropzone"]}(),function(){"use strict";function e(){var e={restrict:"EA",templateUrl:"assets/views/footer/footer.html",controller:o,controllerAs:"vm",bindToController:!0};return e}function o(){function e(){console.log("footer Activated")}e()}angular.module("AnyDayBuddyAds").directive("footerDirective",e),o.$inject=[]}(),function(){"use strict";function e(){var e={restrict:"EA",templateUrl:"assets/views/header/header.html",controller:o,controllerAs:"vm",bindToController:!0};return e}function o(){function e(){console.log("header Activated")}e()}angular.module("AnyDayBuddyAds").directive("headerDirective",e),o.$inject=[]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5tb2R1bGUuanMiLCJhcHAuY29uc3RhbnRzLmpzIiwiYXBwLnJvdXRlLmpzIiwiYXBwLmNvbmZpZy5qcyIsImZpbHRlcnMvZXhhbXBsZS5maWx0ZXIuanMiLCJtYWluL2hvbWUuY29udHJvbGxlci5qcyIsIm9yZGVycy9jYW1wYWlnbi5kaXJlY3RpdmUuanMiLCJvcmRlcnMvY2hlY2tvdXQuZGlyZWN0aXZlLmpzIiwib3JkZXJzL2N1c3RvbWVyLmRpcmVjdGl2ZS5qcyIsIm9yZGVycy9vcmRlcnMuY29udHJvbGxlci5qcyIsIm9yZGVycy91dGlscy5kaXNwbGF5LmRpcmVjdGl2ZS5qcyIsInNlcnZpY2VzL2RhdGEuc2VydmljZS5qcyIsInNlcnZpY2VzL2Ryb3B6b25lLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy91c2VyLnNlcnZpY2UuanMiLCJzaGFyZWQvZHJvcHpvbmUuZGlyZWN0aXZlLmpzIiwiY29tcG9uZW50cy9mb290ZXIvZm9vdGVyLmRpcmVjdGl2ZS5qcyIsImNvbXBvbmVudHMvaGVhZGVyL2hlYWRlci5kaXJlY3RpdmUuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbnN0YW50Iiwid2luZG93IiwiXyIsImpRdWVyeSIsIkRyb3B6b25lIiwiYnJhaW50cmVlIiwicm91dGVyUHJvdmlkZXIiLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwic3RhdGUiLCJ1cmwiLCJ2aWV3cyIsIm1haW4iLCJjb250cm9sbGVyIiwiY29udHJvbGxlckFzIiwidGVtcGxhdGVVcmwiLCJhdXRoZW50aWNhdGUiLCJvdGhlcndpc2UiLCJjb25maWciLCIkaW5qZWN0IiwibWFwc1Byb3ZpZGVyIiwidWlHbWFwR29vZ2xlTWFwQXBpUHJvdmlkZXIiLCJjb25maWd1cmUiLCJrZXkiLCJsaWJyYXJpZXMiLCIkbWRUaGVtaW5nUHJvdmlkZXIiLCJkZWZpbmVQYWxldHRlIiwiNTAiLCIxMDAiLCIyMDAiLCIzMDAiLCI0MDAiLCI1MDAiLCI2MDAiLCI3MDAiLCI4MDAiLCI5MDAiLCJBMTAwIiwiQTIwMCIsIkE0MDAiLCJBNzAwIiwiY29udHJhc3REZWZhdWx0Q29sb3IiLCJjb250cmFzdERhcmtDb2xvcnMiLCJ0aGVtZSIsInByaW1hcnlQYWxldHRlIiwiYWNjZW50UGFsZXR0ZSIsIndhcm5QYWxldHRlIiwiZXhhbXBsZSIsImV4YW1wbGVGaWx0ZXIiLCJwYXJhbXMiLCJmaWx0ZXIiLCJIb21lQ29udHJvbGxlciIsIiRyb290U2NvcGUiLCJhY3RpdmF0ZSIsInNjcm9sbFRvIiwiZWxlbWVudCIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCJ2bSIsInRoaXMiLCJ0aXRsZSIsImRpcmVjdGl2ZSIsImxpbmtGdW5jIiwic2NvcGUiLCJlbCIsImF0dHIiLCJjdHJsIiwicmVzdHJpY3QiLCJvcHRpb25zIiwiZm9ybSIsInRvdGFsIiwibGluayIsIkNvbnRyb2xsZXIiLCJiaW5kVG9Db250cm9sbGVyIiwiJGh0dHAiLCIkcSIsIiRzY29wZSIsIkRhdGFTZXJ2aWNlIiwiZ2V0Q2xpZW50VG9rZW4iLCJ0aGVuIiwicmVzIiwiY29uc29sZSIsImxvZyIsInNldHVwR2F0ZXdheSIsImNsaWVudFRva2VuIiwiY2F0Y2giLCJlcnIiLCJ0b2tlbiIsInNldHVwIiwicGF5cGFsIiwiY29udGFpbmVyIiwic2luZ2xlVXNlIiwiYW1vdW50IiwiY3VycmVuY3kiLCJsb2NhbGUiLCJlbmFibGVTaGlwcGluZ0FkZHJlc3MiLCJvblBheW1lbnRNZXRob2RSZWNlaXZlZCIsIm9iaiIsImRvU29tZXRoaW5nV2l0aFRoZU5vbmNlIiwibm9uY2UiLCJvblJlYWR5IiwiaW50ZWdyYXRpb24iLCJjaGVja291dCIsIiR3YXRjaCIsImMiLCJvIiwiJG1kRGlhbG9nIiwiZ2V0T3B0aW9ucyIsInJlc3AiLCJ0YXJnZXQiLCJkb19tZXJnZSIsInJvbGVzIiwibWVyZ2VyIiwiYSIsImIiLCJpc09iamVjdCIsIm1lcmdlIiwiYXJncyIsImZsYXR0ZW4iLCJhcHBseSIsIm9wZW5JbWFnZSIsIiRldmVudCIsImltYWdlIiwic2hvdyIsImZ1bGxzY3JlZW4iLCJ0YXJnZXRFdmVudCIsImNsaWNrT3V0c2lkZVRvQ2xvc2UiLCJsb2NhbHMiLCJhZGQiLCJkaXNwbGF5IiwibWVkaWEiLCJpbXByZXNzaW9uc1VuaXRzIiwiaW1wcmVzc2lvbnNUaW1lIiwiZGlzdGFuY2UiLCJhZ2UiLCJnZW5kZXIiLCJpbXByZXNzaW9ucyIsImhhc093blByb3BlcnR5IiwiZmVlIiwibWFwIiwiaXRlbSIsImRpc2NvdW50IiwidWlHbWFwR29vZ2xlTWFwQXBpIiwidWlHbWFwSXNSZWFkeSIsIiR0aW1lb3V0IiwiRHJvcHpvbmVTZXJ2aWNlIiwiYWxsIiwicHJvbWlzZSIsInJlc3BvbnNlIiwiaW5zdGFuY2UiLCJwaXhlbE9mZnNldCIsIlNpemUiLCJjbG9zZUNsaWNrIiwibWFya2VyIiwiUGxhY2VzQXV0b2NvbXBsZXRlIiwicGxhY2VzIiwiQXV0b2NvbXBsZXRlU2VydmljZSIsIkRpcmVjdGlvbnNTZXJ2aWNlIiwiRGlyZWN0aW9uUmVuZGVyZXIiLCJEaXJlY3Rpb25zUmVuZGVyZXIiLCJzZXRNYXAiLCJQbGFjZXMiLCJQbGFjZXNTZXJ2aWNlIiwicGxhY2VzUmVhZHkiLCJjZW50ZXJNYXAiLCJsb2NhdGlvbiIsInNjcm9sbCIsInBhblRvIiwiZ29vZ2xlIiwibWFwcyIsIkxhdExuZyIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwicGFuQnkiLCJjbGlja01hcCIsImV2ZW50TmFtZSIsIm9yaWdpbmFsRXZlbnRBcmdzIiwiZSIsImxhdCIsImxhdExuZyIsImxvbiIsImxuZyIsImlkIiwiRGF0ZSIsIm5vdyIsIiRhcHBseSIsImJvdW5kc0NoYW5nZWQiLCJjb250cm9sIiwidXBsb2FkaW5nIiwiY2VudGVyIiwiem9vbSIsInNjcm9sbHdoZWVsIiwibWFwTWFya2VyIiwiZGlzYWJsZURlZmF1bHRVSSIsImV2ZW50cyIsImNsaWNrIiwiaWRsZSIsImluZm8iLCJuYW1lIiwiYWRkcmVzcyIsImljb24iLCJkcm9wem9uZSIsImNyZWF0ZSIsImZpbGUiLCJzZWN1cmVfdXJsIiwiY2xpY2tNYXJrZXIiLCJhdXRvY29tcGxldGVBZGRyZXNzIiwiZGVmZXJyZWQiLCJkZWZlciIsImdldFF1ZXJ5UHJlZGljdGlvbnMiLCJpbnB1dCIsImRhdGEiLCJyZXNvbHZlIiwiZ2V0UGxhY2UiLCJwbGFjZSIsImdldERldGFpbHMiLCJwbGFjZUlkIiwicGxhY2VfaWQiLCJzdGF0dXMiLCJwYXJzZUZsb2F0IiwiZ2VvbWV0cnkiLCJkYXRhU2VydmljZSIsImJhc2VBcGkiLCJtZXRob2QiLCJzdWNjZXNzIiwiaGVhZGVycyIsImVycm9yIiwicmVqZWN0Iiwic2VydmljZSIsInNlbmRpbmciLCJyZW1vdmVkZmlsZSIsInVwbG9hZE11bHRpcGxlIiwibWF4RmlsZXMiLCJhY2NlcHRlZEZpbGVzIiwiZGljdERlZmF1bHRNZXNzYWdlIiwiYWRkUmVtb3ZlTGlua3MiLCJldmVudEhhbmRsZXJzIiwieGhyIiwiZm9ybURhdGEiLCJhcHBlbmQiLCJjcmVhdGVNdWx0aXBsZSIsInVzZXJTZXJ2aWNlIiwiQVBJX1VSTCIsImlzTG9nZ2VkSW4iLCJ1c2VyIiwiY3VycmVudFVzZXIiLCJsb2dpbiIsImZhY3RvcnkiLCJhdHRycyIsInpvbmUiLCJyZXNldCIsIm9uIiwicmVtb3ZlRmlsZSIsImZvckVhY2giLCJoYW5kbGVyIiwiZXZlbnQiLCJmb290ZXJEaXJlY3RpdmUiLCJmb290ZXJDb250cm9sbGVyIiwiaGVhZGVyRGlyZWN0aXZlIiwiaGVhZGVyQ29udHJvbGxlciJdLCJtYXBwaW5ncyI6IkNBU0EsV0FDQSxZQUVBQSxTQUNBQyxPQUFBLGtCQUNBLFlBQ0EsYUFDQSx5QkNoQkEsV0FDQSxZQUVBRCxTQUNBQyxPQUFBLGtCQUNBQyxTQUFBLElBQUFDLE9BQUFDLEdBQ0FGLFNBQUEsU0FBQUMsT0FBQUUsUUFDQUgsU0FBQSxXQUFBQyxPQUFBRyxVQUNBSixTQUFBLFlBQUFDLE9BQUFJLFdB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OEMsRUFBQUcsV0FBQWpELEtBSUFoTixRQUFBa1EsUUFBQTdPLEVBQUE0TixjQUFBLFNBQUFrQixFQUFBQyxHQUNBTixFQUFBRSxHQUFBSSxFQUFBRCxLQXZCQSxHQUFBak0sSUFDQVUsS0FBQUEsRUFDQUosU0FBQSxLQUNBSixPQUNBMEksU0FBQSxZQUNBaUQsTUFBQSxVQUdBLE9BQUE3TCxHQWZBbEUsUUFDQUMsT0FBQSxrQkFDQWlFLFVBQUEsV0FBQTRJLEdBRUFBLEVBQUF4TCxTQUFBLGVDUEEsV0FDQSxZQU9BLFNBQUErTyxLQUNBLEdBQUFuTSxJQUNBTSxTQUFBLEtBQ0F0RCxZQUFBLGtDQUNBRixXQUFBc1AsRUFDQXJQLGFBQUEsS0FDQTZELGtCQUFBLEVBR0EsT0FBQVosR0FNQSxRQUFBb00sS0FLQSxRQUFBOU0sS0FDQThCLFFBQUFDLElBQUEsb0JBSEEvQixJQXZCQXhELFFBQ0FDLE9BQUEsa0JBQ0FpRSxVQUFBLGtCQUFBbU0sR0FlQUMsRUFBQWhQLGNDcEJBLFdBQ0EsWUFPQSxTQUFBaVAsS0FDQSxHQUFBck0sSUFDQU0sU0FBQSxLQUNBdEQsWUFBQSxrQ0FDQUYsV0FBQXdQLEVBQ0F2UCxhQUFBLEtBQ0E2RCxrQkFBQSxFQUdBLE9BQUFaLEdBTUEsUUFBQXNNLEtBS0EsUUFBQWhOLEtBQ0E4QixRQUFBQyxJQUFBLG9CQUhBL0IsSUF2QkF4RCxRQUNBQyxPQUFBLGtCQUNBaUUsVUFBQSxrQkFBQXFNLEdBZUFDLEVBQUFsUCIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBuZ2RvYyBvdmVydmlld1xuICogQG5hbWUgQW55RGF5QnVkZHlBZHNcbiAqIEByZXF1aXJlcyB1aS5yb3V0ZXJcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIEFuZ3VsYXJKUyBiYXNpYyBhcHAgdGVtcGxhdGVcbiAqXG4gKi9cbihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycsIFtcbiAgICAgICd1aS5yb3V0ZXInLFxuICAgICAgJ25nTWF0ZXJpYWwnLFxuICAgICAgJ3VpR21hcGdvb2dsZS1tYXBzJyxcbiAgICBdKTtcblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgLmNvbnN0YW50KCdfJywgd2luZG93Ll8pXG4gICAgLmNvbnN0YW50KCdqUXVlcnknLCB3aW5kb3cualF1ZXJ5KVxuICAgIC5jb25zdGFudCgnRHJvcHpvbmUnLCB3aW5kb3cuRHJvcHpvbmUpXG4gICAgLmNvbnN0YW50KCdicmFpbnRyZWUnLCB3aW5kb3cuYnJhaW50cmVlKVxuICAgIC5jb25zdGFudCgnYmFzZUFwaScsICdodHRwOi8vYXBpLmFueWRheWJ1ZGR5LmNvbScpO1xufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgLmNvbmZpZyhyb3V0ZXJQcm92aWRlcik7XG5cbiAgcm91dGVyUHJvdmlkZXIuJGluamVjdCA9IFsnJHN0YXRlUHJvdmlkZXInLCAnJHVybFJvdXRlclByb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJ107XG5cbiAgZnVuY3Rpb24gcm91dGVyUHJvdmlkZXIoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIpIHtcbiAgICAvLyAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUoe1xuICAgIC8vICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAvLyAgIHJlcXVpcmVCYXNlOiBmYWxzZVxuICAgIC8vIH0pO1xuICAgIC8vXG4gICAgJHN0YXRlUHJvdmlkZXJcbiAgICAgIC5zdGF0ZSgnaG9tZScsIHtcbiAgICAgICAgdXJsOiAnLycsXG4gICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgJ21haW4nOiB7XG4gICAgICAgICAgICBjb250cm9sbGVyOiAnSG9tZUNvbnRyb2xsZXInLFxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhc3NldHMvdmlld3MvaG9tZS5odG1sJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXV0aGVudGljYXRlOiBmYWxzZVxuICAgICAgfSlcbiAgICAgIC5zdGF0ZSgnb3JkZXJzJywge1xuICAgICAgICB1cmw6ICcvb3JkZXJzJyxcbiAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAnbWFpbic6IHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdPcmRlcnNDb250cm9sbGVyJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXNzZXRzL3ZpZXdzL29yZGVycy5odG1sJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXV0aGVudGljYXRlOiBmYWxzZVxuICAgICAgfSk7XG5cbiAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvJyk7XG4gIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgIC5jb25maWcoY29uZmlnKVxuICAgIC5jb25maWcobWFwc1Byb3ZpZGVyKTtcblxuICAgIG1hcHNQcm92aWRlci4kaW5qZWN0ID0gWyd1aUdtYXBHb29nbGVNYXBBcGlQcm92aWRlciddO1xuXG4gICAgZnVuY3Rpb24gbWFwc1Byb3ZpZGVyKHVpR21hcEdvb2dsZU1hcEFwaVByb3ZpZGVyKSB7XG4gICAgICB1aUdtYXBHb29nbGVNYXBBcGlQcm92aWRlci5jb25maWd1cmUoe1xuICAgICAgICBrZXk6ICdBSXphU3lBb25GdUNEYjdIalhVejB1b2NLYkVHVUp6OTFJTDlFVnMnLCAvL2FkYi1zaXRlLTAga2V5XG4gICAgICAgIC8vIGtleTogJ0FJemFTeUFsVzZodW43VndwRlB2MGZ4X0tPVWg1MmwwOEJScGpZTScsXG4gICAgICAgIGxpYnJhcmllczogJ3BsYWNlcydcbiAgICAgIH0pO1xuICAgIH1cblxuICBjb25maWcuJGluamVjdCA9IFsnJG1kVGhlbWluZ1Byb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJ107XG5cbiAgZnVuY3Rpb24gY29uZmlnKCRtZFRoZW1pbmdQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIpIHtcblxuICAgICRtZFRoZW1pbmdQcm92aWRlci5kZWZpbmVQYWxldHRlKCdwcmltYXJ5Jywge1xuICAgICAgJzUwJzogJyM5ZGNlZGEnLFxuICAgICAgJzEwMCc6ICcjNjViMmM1JyxcbiAgICAgICcyMDAnOiAnIzQyOWFiMCcsXG4gICAgICAnMzAwJzogJyMyZjZkN2MnLFxuICAgICAgJzQwMCc6ICcjMjY1OTY2JyxcbiAgICAgICc1MDAnOiAnIzFlNDY1MCcsXG4gICAgICAnNjAwJzogJyMxNjMyM2EnLFxuICAgICAgJzcwMCc6ICcjMGQxZjIzJyxcbiAgICAgICc4MDAnOiAnIzA1MGMwZCcsXG4gICAgICAnOTAwJzogJyMwMDAwMDAnLFxuICAgICAgJ0ExMDAnOiAnIzlkY2VkYScsXG4gICAgICAnQTIwMCc6ICcjNjViMmM1JyxcbiAgICAgICdBNDAwJzogJyMyNjU5NjYnLFxuICAgICAgJ0E3MDAnOiAnIzBkMWYyMycsXG4gICAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnbGlnaHQnLFxuICAgICAgJ2NvbnRyYXN0RGFya0NvbG9ycyc6ICc1MCAxMDAgMjAwIEExMDAgQTIwMCdcbiAgICB9KTtcbiAgICAkbWRUaGVtaW5nUHJvdmlkZXIuZGVmaW5lUGFsZXR0ZSgnYWNjZW50Jywge1xuICAgICAgJzUwJzogJyNkMGViZWQnLFxuICAgICAgJzEwMCc6ICcjOTlkNGQ4JyxcbiAgICAgICcyMDAnOiAnIzcwYzNjOCcsXG4gICAgICAnMzAwJzogJyM0M2E3YWUnLFxuICAgICAgJzQwMCc6ICcjM2E5Mjk4JyxcbiAgICAgICc1MDAnOiAnIzMyN2Q4MicsXG4gICAgICAnNjAwJzogJyMyOTY4NmMnLFxuICAgICAgJzcwMCc6ICcjMjE1MjU2JyxcbiAgICAgICc4MDAnOiAnIzE4M2Q0MCcsXG4gICAgICAnOTAwJzogJyMxMDI4MmEnLFxuICAgICAgJ0ExMDAnOiAnI2QwZWJlZCcsXG4gICAgICAnQTIwMCc6ICcjOTlkNGQ4JyxcbiAgICAgICdBNDAwJzogJyMzYTkyOTgnLFxuICAgICAgJ0E3MDAnOiAnIzIxNTI1NicsXG4gICAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnbGlnaHQnLFxuICAgICAgJ2NvbnRyYXN0RGFya0NvbG9ycyc6ICc1MCAxMDAgMjAwIDMwMCBBMTAwIEEyMDAnXG4gICAgfSk7XG4gICAgJG1kVGhlbWluZ1Byb3ZpZGVyLmRlZmluZVBhbGV0dGUoJ3dhcm4nLCB7XG4gICAgICAnNTAnOiAnI2ZhZWVlNicsXG4gICAgICAnMTAwJzogJyNlY2MzYTcnLFxuICAgICAgJzIwMCc6ICcjZTJhMzc5JyxcbiAgICAgICczMDAnOiAnI2Q1N2IzZScsXG4gICAgICAnNDAwJzogJyNjOTZiMmInLFxuICAgICAgJzUwMCc6ICcjYjA1ZTI2JyxcbiAgICAgICc2MDAnOiAnIzk3NTEyMScsXG4gICAgICAnNzAwJzogJyM3ZTQzMWInLFxuICAgICAgJzgwMCc6ICcjNjQzNjE2JyxcbiAgICAgICc5MDAnOiAnIzRiMjgxMCcsXG4gICAgICAnQTEwMCc6ICcjZmFlZWU2JyxcbiAgICAgICdBMjAwJzogJyNlY2MzYTcnLFxuICAgICAgJ0E0MDAnOiAnI2M5NmIyYicsXG4gICAgICAnQTcwMCc6ICcjN2U0MzFiJyxcbiAgICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdsaWdodCcsXG4gICAgICAnY29udHJhc3REYXJrQ29sb3JzJzogJzUwIDEwMCAyMDAgMzAwIEExMDAgQTIwMCdcbiAgICB9KTtcbiAgICAkbWRUaGVtaW5nUHJvdmlkZXIudGhlbWUoJ2RlZmF1bHQnKVxuICAgICAgLnByaW1hcnlQYWxldHRlKCdwcmltYXJ5JylcbiAgICAgIC5hY2NlbnRQYWxldHRlKCdhY2NlbnQnKVxuICAgICAgLndhcm5QYWxldHRlKCd3YXJuJyk7XG4gIH1cbn0pKCk7XG4iLCIvKipcbiAqIEBuZ2RvYyBmaWx0ZXJcbiAqIEBuYW1lIGV4YW1wbGVGaWx0ZXJcbiAqIEBkZXNjcmlwdGlvbiBcbiAqIFxuICogRmlsdHJvIGRlIGVqZW1wbG9cbiAqIFxuICovXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgICAgIC5maWx0ZXIoJ2ZpbHRlcicsIGV4YW1wbGUpO1xuXG4gICAgZnVuY3Rpb24gZXhhbXBsZSgpIHtcbiAgICAgICAgcmV0dXJuIGV4YW1wbGVGaWx0ZXI7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGZ1bmN0aW9uIGV4YW1wbGVGaWx0ZXIocGFyYW1zKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyYW1zO1xuICAgICAgICB9XG4gICAgfVxuXG59KSgpOyIsIi8qKlxuICogQG5nZG9jIGNvbnRyb2xsZXJcbiAqIEBuYW1lIEhvbWVDb250cm9sbGVyXG4gKiBAcmVxdWlyZXMgJHJvb3RTY29wZVxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogTWFuZWphIGVsIGNvbXBvcnRhbWllbnRvIGRlIGxhIHZpc3RhIHByaW5jaXBhbFxuICpcbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgIC5jb250cm9sbGVyKCdIb21lQ29udHJvbGxlcicsIEhvbWVDb250cm9sbGVyKTtcblxuICBIb21lQ29udHJvbGxlci4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJywgJ2pRdWVyeSddO1xuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiBIb21lQ29udHJvbGxlcigkcm9vdFNjb3BlLCBqUXVlcnkpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuICAgIHZtLnRpdGxlID0gJ0hvbWUgQ29udHJvbGxlcic7XG4gICAgdm0uc2Nyb2xsVG8gPSBzY3JvbGxUbztcbiAgICBhY3RpdmF0ZSgpO1xuXG4gICAgLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7fVxuXG4gICAgZnVuY3Rpb24gc2Nyb2xsVG8oZWxlbWVudCkge1xuICAgICAgalF1ZXJ5KCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XG4gICAgICAgIHNjcm9sbFRvcDogalF1ZXJ5KGVsZW1lbnQpLm9mZnNldCgpLnRvcFxuICAgICAgfSwgMTAwMCk7XG4gICAgfVxuICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuZGlyZWN0aXZlKCdhZGJPcmRlcnNDYW1wYWlnbicsIGRpcmVjdGl2ZSk7XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIGRpcmVjdGl2ZSgpIHtcbiAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICB0ZW1wbGF0ZVVybDogJ2Fzc2V0cy92aWV3cy9vcmRlcnMvb3JkZXJzLmNhbXBhaWduLmh0bWwnLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgb3B0aW9uczogJz0nLFxuICAgICAgICBmb3JtOiAnPScsXG4gICAgICAgIHRvdGFsOiAnPSdcbiAgICAgIH0sXG4gICAgICBsaW5rOiBsaW5rRnVuYyxcbiAgICAgIGNvbnRyb2xsZXI6IENvbnRyb2xsZXIsXG4gICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXG4gICAgfTtcblxuICAgIHJldHVybiBkaXJlY3RpdmU7XG5cbiAgICBmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcblxuICAgIH1cbiAgfVxuXG4gIENvbnRyb2xsZXIuJGluamVjdCA9IFsnJGh0dHAnLCAnJHEnXTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gQ29udHJvbGxlcigkaHR0cCwgJHEpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgYWN0aXZhdGUoKTtcblxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuXG4gICAgfVxuICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuZGlyZWN0aXZlKCdhZGJPcmRlcnNDaGVja291dCcsIGRpcmVjdGl2ZSk7XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIGRpcmVjdGl2ZSgpIHtcbiAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICB0ZW1wbGF0ZVVybDogJ2Fzc2V0cy92aWV3cy9vcmRlcnMvb3JkZXJzLmNoZWNrb3V0Lmh0bWwnLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgb3B0aW9uczogJz0nLFxuICAgICAgICBmb3JtOiAnPScsXG4gICAgICAgIHRvdGFsOiAnPSdcbiAgICAgIH0sXG4gICAgICBsaW5rOiBsaW5rRnVuYyxcbiAgICAgIGNvbnRyb2xsZXI6IENvbnRyb2xsZXIsXG4gICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXG4gICAgfTtcblxuICAgIHJldHVybiBkaXJlY3RpdmU7XG5cbiAgICBmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcblxuICAgIH1cbiAgfVxuXG4gIENvbnRyb2xsZXIuJGluamVjdCA9IFsnXycsICdicmFpbnRyZWUnLCAnJHNjb3BlJywnJGh0dHAnLCAnJHEnLCAnRGF0YVNlcnZpY2UnXTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gQ29udHJvbGxlcihfLCBicmFpbnRyZWUsICRzY29wZSwgJGh0dHAsICRxLCBEYXRhU2VydmljZSkge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgdm0uY2hlY2tvdXQgPSB7fTtcblxuICAgIGFjdGl2YXRlKCk7XG5cbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgIERhdGFTZXJ2aWNlLmdldENsaWVudFRva2VuKCkudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKTtcbiAgICAgICAgc2V0dXBHYXRld2F5KHJlcy5jbGllbnRUb2tlbik7XG4gICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0dXBHYXRld2F5KHRva2VuKSB7XG4gICAgICBicmFpbnRyZWUuc2V0dXAodG9rZW4sICdjdXN0b20nLCB7XG4gICAgICAgIHBheXBhbDoge1xuICAgICAgICAgIGNvbnRhaW5lcjogJ3BheXBhbC1jb250YWluZXInLFxuICAgICAgICAgIHNpbmdsZVVzZTogdHJ1ZSxcbiAgICAgICAgICBhbW91bnQ6IDEwLjAwLFxuICAgICAgICAgIGN1cnJlbmN5OiAnVVNEJyxcbiAgICAgICAgICBsb2NhbGU6ICdlbl91cycsXG4gICAgICAgICAgZW5hYmxlU2hpcHBpbmdBZGRyZXNzOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIG9uUGF5bWVudE1ldGhvZFJlY2VpdmVkOiBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICBkb1NvbWV0aGluZ1dpdGhUaGVOb25jZShvYmoubm9uY2UpO1xuICAgICAgICB9LFxuICAgICAgICBvblJlYWR5OiBmdW5jdGlvbihpbnRlZ3JhdGlvbikge1xuICAgICAgICAgIHZtLmNoZWNrb3V0ID0gaW50ZWdyYXRpb247XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRvU29tZXRoaW5nV2l0aFRoZU5vbmNlKHJlcykge1xuICAgICAgY29uc29sZS5sb2cocmVzKTtcbiAgICB9XG5cbiAgICAvLyAvLyBXaGVuIHlvdSBhcmUgcmVhZHkgdG8gdGVhciBkb3duIHlvdXIgaW50ZWdyYXRpb25cbiAgICAvLyBjaGVja291dC50ZWFyZG93bihmdW5jdGlvbigpIHtcbiAgICAvLyAgIGNoZWNrb3V0ID0gbnVsbDtcbiAgICAvLyAgIC8vIGJyYWludHJlZS5zZXR1cCBjYW4gc2FmZWx5IGJlIHJ1biBhZ2FpbiFcbiAgICAvLyB9KTtcblxuICAgICRzY29wZS4kd2F0Y2goJ3ZtLmNoZWNrb3V0JywgZnVuY3Rpb24oYywgbykge1xuICAgICAgaWYgKCFjKSByZXR1cm47XG5cbiAgICAgIGNvbnNvbGUubG9nKGMpO1xuICAgIH0pO1xuICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuZGlyZWN0aXZlKCdhZGJPcmRlcnNDdXN0b21lcicsIGRpcmVjdGl2ZSk7XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIGRpcmVjdGl2ZSgpIHtcbiAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICB0ZW1wbGF0ZVVybDogJ2Fzc2V0cy92aWV3cy9vcmRlcnMvb3JkZXJzLmN1c3RvbWVyLmh0bWwnLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgb3B0aW9uczogJz0nLFxuICAgICAgICBmb3JtOiAnPScsXG4gICAgICAgIHRvdGFsOiAnPSdcbiAgICAgIH0sXG4gICAgICBsaW5rOiBsaW5rRnVuYyxcbiAgICAgIGNvbnRyb2xsZXI6IENvbnRyb2xsZXIsXG4gICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXG4gICAgfTtcblxuICAgIHJldHVybiBkaXJlY3RpdmU7XG5cbiAgICBmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcblxuICAgIH1cbiAgfVxuXG4gIENvbnRyb2xsZXIuJGluamVjdCA9IFsnJGh0dHAnLCAnJHEnXTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gQ29udHJvbGxlcigkaHR0cCwgJHEpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgYWN0aXZhdGUoKTtcblxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuXG4gICAgfVxuICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuY29udHJvbGxlcignT3JkZXJzQ29udHJvbGxlcicsIENvbnRyb2xsZXIpO1xuXG4gIENvbnRyb2xsZXIuJGluamVjdCA9IFsnXycsICckc2NvcGUnLCAnJG1kRGlhbG9nJywgJ0RhdGFTZXJ2aWNlJ107XG5cbiAgZnVuY3Rpb24gQ29udHJvbGxlcihfLCAkc2NvcGUsICRtZERpYWxvZywgRGF0YVNlcnZpY2UpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgdm0ub3BlbkltYWdlID0gb3BlbkltYWdlO1xuICAgIHZtLmFkZCA9IGFkZDtcbiAgICB2bS50b3RhbCA9IDA7XG5cbiAgICB2bS5vcHRpb25zID0ge1xuICAgICAgdGFyZ2V0OiB7XG4gICAgICAgIGRpc3BsYXk6IFtdLFxuICAgICAgICBtZWRpYTogW10sXG4gICAgICAgIGltcHJlc3Npb25zVW5pdHM6IFtdLFxuICAgICAgICBpbXByZXNzaW9uc1RpbWU6IFtdLFxuICAgICAgICBkaXN0YW5jZTogW10sXG4gICAgICAgIGFnZTogW10sXG4gICAgICAgIGdlbmRlcjogW11cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdm0uZm9ybSA9IHtcbiAgICAgIG1lZGlhOiB7fSxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgZGlzcGxheToge30sXG4gICAgICAgIGltcHJlc3Npb25zOiB7fSxcbiAgICAgICAgZGlzdGFuY2U6IHt9LFxuICAgICAgICBhZ2U6IHt9LFxuICAgICAgICBnZW5kZXI6IHt9XG4gICAgICB9XG4gICAgfVxuXG4gICAgYWN0aXZhdGUoKTtcblxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgRGF0YVNlcnZpY2UuZ2V0T3B0aW9ucygpLnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXNwKTtcbiAgICAgICAgdm0ub3B0aW9ucy50YXJnZXQgPSBkb19tZXJnZShyZXNwKTtcbiAgICAgICAgY29uc29sZS5sb2codm0uZm9ybSk7XG4gICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pXG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBkb19tZXJnZShyb2xlcykge1xuXG4gICAgICAvLyBDdXN0b20gbWVyZ2UgZnVuY3Rpb24gT1JzIHRvZ2V0aGVyIG5vbi1vYmplY3QgdmFsdWVzLCByZWN1cnNpdmVseVxuICAgICAgLy8gY2FsbHMgaXRzZWxmIG9uIE9iamVjdHMuXG4gICAgICB2YXIgbWVyZ2VyID0gZnVuY3Rpb24oYSwgYikge1xuICAgICAgICBpZiAoXy5pc09iamVjdChhKSkge1xuICAgICAgICAgIHJldHVybiBfLm1lcmdlKHt9LCBhLCBiLCBtZXJnZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBhIHx8IGI7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIC8vIEFsbG93IHJvbGVzIHRvIGJlIHBhc3NlZCB0byBfLm1lcmdlIGFzIGFuIGFycmF5IG9mIGFyYml0cmFyeSBsZW5ndGhcbiAgICAgIHZhciBhcmdzID0gXy5mbGF0dGVuKFt7fSwgcm9sZXMsIG1lcmdlcl0pO1xuICAgICAgcmV0dXJuIF8ubWVyZ2UuYXBwbHkoXywgYXJncyk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBvcGVuSW1hZ2UoJGV2ZW50LCBpbWFnZSkge1xuICAgICAgJG1kRGlhbG9nLnNob3coe1xuICAgICAgICBmdWxsc2NyZWVuOiB0cnVlLFxuICAgICAgICB0YXJnZXRFdmVudDogJGV2ZW50LFxuICAgICAgICBjbGlja091dHNpZGVUb0Nsb3NlOiB0cnVlLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC9zaGFyZWQvbGF5b3V0L2ltYWdlTW9kYWwuaHRtbCcsXG4gICAgICAgIGxvY2Fsczoge1xuICAgICAgICAgIGltYWdlOiBpbWFnZVxuICAgICAgICB9LFxuICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICdpbWFnZScsIGZ1bmN0aW9uKHNjb3BlLCBpbWFnZSkge1xuICAgICAgICAgIHNjb3BlLmltYWdlID0gaW1hZ2U7XG4gICAgICAgIH1dXG4gICAgICB9KTtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGFkZCgpIHtcbiAgICAgICRtZERpYWxvZy5zaG93KHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvY29tcG9uZW50cy9hZC9hZHZlcnRpc2VtZW50TW9kYWwuaHRtbCcsXG4gICAgICAgIGNsaWNrT3V0c2lkZVRvQ2xvc2U6IHRydWUsXG4gICAgICAgIGZ1bGxzY3JlZW46IHRydWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgICRzY29wZS4kd2F0Y2goJ3ZtLmZvcm0nLCBmdW5jdGlvbihjLCBvKSB7XG4gICAgICBjb25zb2xlLmxvZyhjKTtcblxuICAgICAgdm0udG90YWwgPSBjLm1lZGlhLmhhc093blByb3BlcnR5KCdmZWUnKT9jLm1lZGlhLmZlZTowO1xuXG4gICAgICBfLm1hcChjLm9wdGlvbnMsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgaWYgKGl0ZW0uaGFzT3duUHJvcGVydHkoJ2ZlZScpKXtcbiAgICAgICAgICAgIHZtLnRvdGFsICs9ICB2bS50b3RhbCAqIGl0ZW0uZmVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGl0ZW0uaGFzT3duUHJvcGVydHkoJ2Rpc2NvdW50Jykpe1xuICAgICAgICAgICAgdm0udG90YWwgLT0gdm0udG90YWwgKiBpdGVtLmRpc2NvdW50O1xuICAgICAgICB9XG5cbiAgICAgIH0pXG4gICAgfSwgdHJ1ZSlcblxuICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuZGlyZWN0aXZlKCdhZGJEaXNwbGF5Q2hvb3NlcicsIGRpcmVjdGl2ZSk7XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIGRpcmVjdGl2ZSgpIHtcbiAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICB0ZW1wbGF0ZVVybDogJ2Fzc2V0cy92aWV3cy9vcmRlcnMvb3JkZXJzLmRpc3BsYXkuaHRtbCcsXG4gICAgICBzY29wZToge1xuICAgICAgICBvcHRpb25zOiAnPScsXG4gICAgICAgIGZvcm06ICc9JyxcbiAgICAgICAgdG90YWw6ICc9J1xuICAgICAgfSxcbiAgICAgIGxpbms6IGxpbmtGdW5jLFxuICAgICAgY29udHJvbGxlcjogQ29udHJvbGxlcixcbiAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcbiAgICB9O1xuXG4gICAgcmV0dXJuIGRpcmVjdGl2ZTtcblxuICAgIGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuXG4gICAgfVxuICB9XG5cbiAgQ29udHJvbGxlci4kaW5qZWN0ID0gWyd1aUdtYXBHb29nbGVNYXBBcGknLCAndWlHbWFwSXNSZWFkeScsICckcScsICckc2NvcGUnLCAnJHRpbWVvdXQnLCAnRHJvcHpvbmVTZXJ2aWNlJ107XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIENvbnRyb2xsZXIodWlHbWFwR29vZ2xlTWFwQXBpLCB1aUdtYXBJc1JlYWR5LCAkcSwgJHNjb3BlLCAkdGltZW91dCwgRHJvcHpvbmVTZXJ2aWNlKSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICB2YXIgUGxhY2VzID0gbnVsbDtcbiAgICB2YXIgRGlyZWN0aW9uUmVuZGVyZXIgPSBudWxsO1xuICAgIHZhciBEaXJlY3Rpb25zU2VydmljZSA9IG51bGw7XG4gICAgdmFyIFBsYWNlc0F1dG9jb21wbGV0ZSA9IG51bGw7XG5cbiAgICB2bS5jb250cm9sID0ge1xuICAgICAgdXBsb2FkaW5nOiBmYWxzZVxuICAgIH1cbiAgICB2bS5tYXAgPSB7XG4gICAgICBjZW50ZXI6IHtcbiAgICAgICAgbGF0aXR1ZGU6IDQ1LjUwMTc0NTAyODE2NjY3LFxuICAgICAgICBsb25naXR1ZGU6IC03My41NzAzODgxODI5OTc3XG4gICAgICB9LFxuICAgICAgem9vbTogMTQsXG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIHNjcm9sbHdoZWVsOiB0cnVlXG4gICAgICB9LFxuICAgICAgbWFwTWFya2VyOiB0cnVlLFxuICAgICAgZGlzYWJsZURlZmF1bHRVSTogdHJ1ZSxcbiAgICAgIGNvbnRyb2w6IHt9LFxuICAgICAgZXZlbnRzOiB7XG4gICAgICAgIGNsaWNrOiBjbGlja01hcCxcbiAgICAgICAgaWRsZTogYm91bmRzQ2hhbmdlZFxuICAgICAgfVxuICAgIH07XG5cbiAgICB2bS5pbmZvID0ge1xuICAgICAgbmFtZTogJ1ZlbnVlIG5hbWUnLFxuICAgICAgYWRkcmVzczogJycsXG4gICAgICBpY29uOiAnJyxcbiAgICB9XG5cbiAgICB2bS5tYXJrZXIgPSB7XG4gICAgICBpZDogMCxcbiAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgIGxhdGl0dWRlOiA0NS41MDE3NDUwMjgxNjY2NyxcbiAgICAgICAgbG9uZ2l0dWRlOiAtNzMuNTcwMzg4MTgyOTk3N1xuICAgICAgfSxcbiAgICAgIHNob3c6IGZhbHNlLFxuICAgIH1cblxuICAgIHZtLmRyb3B6b25lID0gRHJvcHpvbmVTZXJ2aWNlLmNyZWF0ZShmdW5jdGlvbihmaWxlLCByZXNwb25zZSkge1xuICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2Uuc2VjdXJlX3VybCk7XG4gICAgICAgIHZtLmNvbnRyb2wudXBsb2FkaW5nID0gZmFsc2U7XG4gICAgICB9KTtcbiAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZtLmNvbnRyb2wudXBsb2FkaW5nID0gdHJ1ZTtcbiAgICAgIH0pO1xuICAgIH0pXG5cbiAgICBhY3RpdmF0ZSgpO1xuXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG5cbiAgICAgICRxLmFsbChbdWlHbWFwR29vZ2xlTWFwQXBpLCB1aUdtYXBJc1JlYWR5LnByb21pc2UoMSldKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBtYXAgPSByZXNwb25zZVswXTtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gcmVzcG9uc2VbMV1bMF0ubWFwO1xuXG4gICAgICAgIHZtLndpbmRvdyA9IHtcbiAgICAgICAgICBwaXhlbE9mZnNldDogbmV3IG1hcC5TaXplKDAsIC00MCksXG4gICAgICAgICAgY2xvc2VDbGljazogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2bS5tYXJrZXIuc2hvdyA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBQbGFjZXNBdXRvY29tcGxldGUgPSBuZXcgbWFwLnBsYWNlcy5BdXRvY29tcGxldGVTZXJ2aWNlKCk7XG4gICAgICAgIERpcmVjdGlvbnNTZXJ2aWNlID0gbmV3IG1hcC5EaXJlY3Rpb25zU2VydmljZSgpO1xuICAgICAgICBEaXJlY3Rpb25SZW5kZXJlciA9IG5ldyBtYXAuRGlyZWN0aW9uc1JlbmRlcmVyKCk7XG4gICAgICAgIHZtLm1hcC5pbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgICAgICBEaXJlY3Rpb25SZW5kZXJlci5zZXRNYXAodm0ubWFwLmluc3RhbmNlKTtcbiAgICAgICAgUGxhY2VzID0gbmV3IG1hcC5wbGFjZXMuUGxhY2VzU2VydmljZSh2bS5tYXAuaW5zdGFuY2UpO1xuICAgICAgICB2bS5wbGFjZXNSZWFkeSA9IHRydWU7XG4gICAgICAgIGNvbnNvbGUubG9nKCdyZWFkeScpO1xuICAgICAgICAvL2dldExvY2F0aW9uKCk7XG5cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHZtLmNsaWNrTWFya2VyID0gZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZygnY2xpY2snKTtcbiAgICAgIHZtLm1hcmtlci5zaG93ID0gIXZtLm1hcmtlci5zaG93O1xuICAgICAgJHNjb3BlLiRhcHBseSgpO1xuXG4gICAgfVxuXG4gICAgdm0uYXV0b2NvbXBsZXRlQWRkcmVzcyA9IGZ1bmN0aW9uKGFkZHJlc3MpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgIFBsYWNlc0F1dG9jb21wbGV0ZS5nZXRRdWVyeVByZWRpY3Rpb25zKHtcbiAgICAgICAgaW5wdXQ6IGFkZHJlc3NcbiAgICAgIH0sIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhID8gXy5maWx0ZXIoZGF0YSwgJ3BsYWNlX2lkJykgOiBbXSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcblxuICAgIHZtLmdldFBsYWNlID0gZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZyh2bS5pbmZvLnBsYWNlKTtcblxuICAgICAgaWYgKCF2bS5pbmZvLnBsYWNlKSByZXR1cm47XG5cbiAgICAgIFBsYWNlcy5nZXREZXRhaWxzKHtcbiAgICAgICAgcGxhY2VJZDogdm0uaW5mby5wbGFjZS5wbGFjZV9pZFxuICAgICAgfSwgZnVuY3Rpb24ocGxhY2UsIHN0YXR1cykge1xuICAgICAgICBjb25zb2xlLmxvZyhwbGFjZSwgc3RhdHVzKTtcblxuICAgICAgICB2bS5tYXJrZXIgPSB7XG4gICAgICAgICAgaWQ6IERhdGUubm93KCksXG4gICAgICAgICAgbmFtZTogcGxhY2UubmFtZSxcbiAgICAgICAgICBsb2NhdGlvbjoge1xuICAgICAgICAgICAgbGF0aXR1ZGU6IHBhcnNlRmxvYXQocGxhY2UuZ2VvbWV0cnkubG9jYXRpb24ubGF0KCkpLFxuICAgICAgICAgICAgbG9uZ2l0dWRlOiBwYXJzZUZsb2F0KHBsYWNlLmdlb21ldHJ5LmxvY2F0aW9uLmxuZygpKSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNob3c6IHRydWVcbiAgICAgICAgfTtcblxuXG4gICAgICAgIGNlbnRlck1hcCh2bS5tYXAuaW5zdGFuY2UsIHZtLm1hcmtlci5sb2NhdGlvbiwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBjZW50ZXJNYXAobWFwLCBsb2NhdGlvbiwgb2Zmc2V0LCBzY3JvbGwpIHtcbiAgICAgIGNvbnNvbGUubG9nKGxvY2F0aW9uKTtcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBtYXAucGFuVG8obmV3IGdvb2dsZS5tYXBzLkxhdExuZyhsb2NhdGlvbi5sYXRpdHVkZSwgbG9jYXRpb24ubG9uZ2l0dWRlKSk7XG4gICAgICAgIGlmIChvZmZzZXQpIG1hcC5wYW5CeSgwLCAtMjAwKTtcbiAgICAgIH0sIDEwMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xpY2tNYXAobWFwLCBldmVudE5hbWUsIG9yaWdpbmFsRXZlbnRBcmdzKSB7XG4gICAgICB2YXIgZSA9IG9yaWdpbmFsRXZlbnRBcmdzWzBdO1xuICAgICAgdmFyIGxhdCA9IGUubGF0TG5nLmxhdCgpLFxuICAgICAgICBsb24gPSBlLmxhdExuZy5sbmcoKTtcbiAgICAgIHZtLm1hcmtlciA9IHtcbiAgICAgICAgaWQ6IERhdGUubm93KCksXG4gICAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgICAgbGF0aXR1ZGU6IGxhdCxcbiAgICAgICAgICBsb25naXR1ZGU6IGxvblxuICAgICAgICB9LFxuICAgICAgICBzaG93OiBmYWxzZVxuICAgICAgfTtcbiAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBib3VuZHNDaGFuZ2VkKCkge1xuICAgICAgY29uc29sZS5sb2coJ2JvdW5kcyBjaGFuZ2VkJyk7XG4gICAgICBpZiAoIXZtLm1hcC5pbnN0YW5jZSkgcmV0dXJuO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldExvY2F0aW9uKCkge1xuICAgICAgaWYgKHZtLmRhdGEubG9jYXRpb24pIHtcbiAgICAgICAgdm0ubG9jYXRpb24gPSB7XG4gICAgICAgICAgbGF0OiBwYXJzZUZsb2F0KHZtLmRhdGEubG9jYXRpb25bMF0pLFxuICAgICAgICAgIGxuZzogcGFyc2VGbG9hdCh2bS5kYXRhLmxvY2F0aW9uWzFdKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vXG4gICAgICAvLyBVdGlsU2VydmljZS5nZXRMb2NhdGlvbigpXG4gICAgICAvLyAgIC50aGVuKGZ1bmN0aW9uKGxvY2F0aW9uKSB7XG4gICAgICAvLyAgICAgdm0ubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgIC8vICAgICAvL2NlbnRlck1hcCh2bS5tYXAuaW5zdGFuY2UsIHZtLmxvY2F0aW9uKTtcbiAgICAgIC8vICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG4gICAgICAvLyAgICAgaWYgKCRyb290U2NvcGUudXNlci5hZGRyZXNzUGxhY2UpXG4gICAgICAvLyAgICAgICBnZXRQbGFjZSgkcm9vdFNjb3BlLnVzZXIuYWRkcmVzc1BsYWNlLnBsYWNlX2lkKTtcbiAgICAgIC8vXG4gICAgICAvLyAgIH0pLmZpbmFsbHkoZnVuY3Rpb24oKSB7XG4gICAgICAvLyAgICAgLy92bS5tYXBWaXNpYmxlID0gdHJ1ZTtcbiAgICAgIC8vICAgICAvL3ZtLmFjdGl2aXRpZXMucHVzaChsb2NhdGlvbk1hcmtlcigpKTtcbiAgICAgIC8vICAgICBjb25zb2xlLmxvZygnbG9jYXRpb24nKTtcbiAgICAgIC8vICAgfSk7XG5cbiAgICB9XG4gIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgIC5zZXJ2aWNlKCdEYXRhU2VydmljZScsIGRhdGFTZXJ2aWNlKTtcblxuICBkYXRhU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckcScsICdiYXNlQXBpJ107XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIGRhdGFTZXJ2aWNlKCRodHRwLCAkcSwgYmFzZUFwaSkge1xuICAgIHZhciBkYXRhU2VydmljZSA9IHtcbiAgICAgIGdldE9wdGlvbnM6IGdldE9wdGlvbnMsXG4gICAgICBnZXRDbGllbnRUb2tlbiA6IGdldENsaWVudFRva2VuXG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGFTZXJ2aWNlO1xuXG4gICAgZnVuY3Rpb24gZ2V0T3B0aW9ucygpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICRodHRwKHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgdXJsOiBiYXNlQXBpICsgJy9jYW1wYWlnbi9vcHRpb25zLydcbiAgICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhKTtcbiAgICAgIH0pLmVycm9yKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycik7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0Q2xpZW50VG9rZW4oKSB7XG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAkaHR0cCh7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHVybDogYmFzZUFwaSArICcvY29tbWVyY2UvY2xpZW50VG9rZW4vJ1xuICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xuICAgICAgfSkuZXJyb3IoZnVuY3Rpb24gKGVycikge1xuICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9XG5cblxuICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuc2VydmljZSgnRHJvcHpvbmVTZXJ2aWNlJywgRHJvcHpvbmVTZXJ2aWNlKTtcblxuXG4gIGZ1bmN0aW9uIERyb3B6b25lU2VydmljZSgpIHtcbiAgICB2YXIgc2VydmljZSA9IHtcbiAgICAgIGNyZWF0ZTogY3JlYXRlLFxuICAgICAgY3JlYXRlTXVsdGlwbGU6IGNyZWF0ZU11bHRpcGxlXG4gICAgfTtcblxuICAgIHJldHVybiBzZXJ2aWNlO1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlKHN1Y2Nlc3MsIHNlbmRpbmcsIHJlbW92ZWRmaWxlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgdXJsOiAnaHR0cHM6Ly9hcGkuY2xvdWRpbmFyeS5jb20vdjFfMS9jbG91ZDkvaW1hZ2UvdXBsb2FkJyxcbiAgICAgICAgICB1cGxvYWRNdWx0aXBsZTogZmFsc2UsXG4gICAgICAgICAgbWF4RmlsZXM6IDEsXG4gICAgICAgICAgYWNjZXB0ZWRGaWxlczogJ2ltYWdlLyonLFxuICAgICAgICAgIGRpY3REZWZhdWx0TWVzc2FnZTogJ0Ryb3AgZmlsZSBvciBjbGljayBoZXJlIHRvIHVwbG9hZCcsXG4gICAgICAgICAgYWRkUmVtb3ZlTGlua3M6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgZXZlbnRIYW5kbGVyczoge1xuICAgICAgICAgIHNlbmRpbmc6IGZ1bmN0aW9uKGZpbGUsIHhociwgZm9ybURhdGEpIHtcbiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnYXBpX2tleScsIDgzOTk4ODMzMzE1MzU2Nyk7XG4gICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3RpbWVzdGFtcCcsIERhdGUubm93KCkgLyAxMDAwIHwgMCk7XG4gICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3VwbG9hZF9wcmVzZXQnLCAnc20yZXY0bnUnKTtcbiAgICAgICAgICAgIGlmIChzZW5kaW5nKSBzZW5kaW5nKCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdWNjZXNzOiBzdWNjZXNzLFxuICAgICAgICAgIHJlbW92ZWRmaWxlOiByZW1vdmVkZmlsZVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZU11bHRpcGxlKG1heEZpbGVzLCBzdWNjZXNzLCBzZW5kaW5nKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgdXJsOiAnaHR0cHM6Ly9hcGkuY2xvdWRpbmFyeS5jb20vdjFfMS9jbG91ZDkvaW1hZ2UvdXBsb2FkJyxcbiAgICAgICAgICBtYXhGaWxlczogbWF4RmlsZXMsXG4gICAgICAgICAgYWNjZXB0ZWRGaWxlczogJ2ltYWdlLyonLFxuICAgICAgICAgIGRpY3REZWZhdWx0TWVzc2FnZTogJ0Ryb3AgZmlsZXMgb3IgY2xpY2sgaGVyZSB0byB1cGxvYWQnXG4gICAgICAgIH0sXG4gICAgICAgIGV2ZW50SGFuZGxlcnM6IHtcbiAgICAgICAgICBzZW5kaW5nOiBmdW5jdGlvbihmaWxlLCB4aHIsIGZvcm1EYXRhKSB7XG4gICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2FwaV9rZXknLCA4Mzk5ODgzMzMxNTM1NjcpO1xuICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCd0aW1lc3RhbXAnLCBEYXRlLm5vdygpIC8gMTAwMCB8IDApO1xuICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCd1cGxvYWRfcHJlc2V0JywgJ3NtMmV2NG51Jyk7XG4gICAgICAgICAgICBpZiAoc2VuZGluZykgc2VuZGluZygpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc3VjY2Vzczogc3VjY2Vzc1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG59KSgpO1xuIiwiLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgdXNlcnNlcnZpY2VcbiAqIEByZXF1aXJlcyAkaHR0cCwgJHFcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIEVzdGUgc2VydmljaW8gZXMgdXNhZG8gcGFyYSBtYW5lamFyIGxhcyBzZXNpb25lcyBkZSB1c3VhcmlvLlxuICpcbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgIC5mYWN0b3J5KCd1c2VyU2VydmljZScsIHVzZXJTZXJ2aWNlKTtcblxuICB1c2VyU2VydmljZS4kaW5qZWN0ID0gWydBUElfVVJMJywgJyRodHRwJywgJyRxJ107XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIHVzZXJTZXJ2aWNlKEFQSV9VUkwsICRodHRwLCAkcSkge1xuICAgIHZhciBzZXJ2aWNlID0ge1xuICAgICAgaXNMb2dnZWRJbjogaXNMb2dnZWRJbixcbiAgICAgIGxvZ2luOiBsb2dpblxuICAgIH07XG4gICAgcmV0dXJuIHNlcnZpY2U7XG5cbiAgICAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAvKipcbiAgICAgKiBWZXJpZmljYSBzaSBlbCB1c3VhcmlvIGVzdMOhIGF1dGVudGljYWRvLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgQ3VhbmRvIGhheSB1biB1c3VhcmlvIGF1dGVudGljYWRvLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTG9nZ2VkSW4oKSB7XG4gICAgICB2YXIgdXNlciA9ICRyb290U2NvcGUuY3VycmVudFVzZXI7XG4gICAgICByZXR1cm4gISF1c2VyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZhbGlkYSBsYXMgY3JlZGVuY2lhbGVzIGRlbCB1c3VhcmlvIGNvbiBlbCBzZXJ2aWRvci5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9ICBwYXJhbXMgQ3JlZGVuY2lhbGVzLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9ICAgICAgICBQcm9tZXNhIGRlIGxhIHNvbGljaXR1ZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb2dpbihwYXJhbXMpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICRodHRwKHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIHVybDogQVBJX1VSTCArICdsb2dpbicsXG4gICAgICAgIGRhdGE6IHBhcmFtc1xuICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICRyb290U2NvcGUuY3VycmVudFVzZXIgPSByZXNwLnVzZXI7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUocmVzcCk7XG4gICAgICB9KS5lcnJvcihmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycik7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfVxuXG4gIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgIC5kaXJlY3RpdmUoJ2Ryb3B6b25lJywgZHJvcHpvbmUpO1xuXG4gIGRyb3B6b25lLiRpbmplY3QgPSBbJ0Ryb3B6b25lJ107XG5cbiAgZnVuY3Rpb24gZHJvcHpvbmUoRHJvcHpvbmUpIHtcbiAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgbGluazogbGluayxcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgZHJvcHpvbmU6ICc9ZHJvcHpvbmUnLFxuICAgICAgICByZXNldDogJ0ByZXNldCdcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBkaXJlY3RpdmU7XG5cbiAgICBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgdmFyIGNvbmZpZywgem9uZTtcblxuICAgICAgY29uZmlnID0gc2NvcGUuZHJvcHpvbmU7XG4gICAgICB6b25lID0gbmV3IERyb3B6b25lKGVsZW1lbnRbMF0sIGNvbmZpZy5vcHRpb25zKTtcblxuICAgICAgaWYgKHNjb3BlLnJlc2V0KSB7XG4gICAgICAgIHpvbmUub24oJ2NvbXBsZXRlJywgZnVuY3Rpb24oZmlsZSkge1xuICAgICAgICAgIHpvbmUucmVtb3ZlRmlsZShmaWxlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChjb25maWcuZXZlbnRIYW5kbGVycywgZnVuY3Rpb24oaGFuZGxlciwgZXZlbnQpIHtcbiAgICAgICAgem9uZS5vbihldmVudCwgaGFuZGxlcik7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnZm9vdGVyRGlyZWN0aXZlJywgZm9vdGVyRGlyZWN0aXZlKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGZvb3RlckRpcmVjdGl2ZSgpIHtcbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhc3NldHMvdmlld3MvZm9vdGVyL2Zvb3Rlci5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IGZvb3RlckNvbnRyb2xsZXIsXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcbiAgICB9XG5cbiAgICBmb290ZXJDb250cm9sbGVyLiRpbmplY3QgPSBbXTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGZvb3RlckNvbnRyb2xsZXIoKSB7XG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG5cbiAgICAgICAgYWN0aXZhdGUoKTtcblxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnZm9vdGVyIEFjdGl2YXRlZCcpO1xuICAgICAgICB9XG4gICAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnaGVhZGVyRGlyZWN0aXZlJywgaGVhZGVyRGlyZWN0aXZlKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGhlYWRlckRpcmVjdGl2ZSgpIHtcbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhc3NldHMvdmlld3MvaGVhZGVyL2hlYWRlci5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IGhlYWRlckNvbnRyb2xsZXIsXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcbiAgICB9XG5cbiAgICBoZWFkZXJDb250cm9sbGVyLiRpbmplY3QgPSBbXTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGhlYWRlckNvbnRyb2xsZXIoKSB7XG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG5cbiAgICAgICAgYWN0aXZhdGUoKTtcblxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnaGVhZGVyIEFjdGl2YXRlZCcpO1xuICAgICAgICB9XG4gICAgfVxufSkoKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
