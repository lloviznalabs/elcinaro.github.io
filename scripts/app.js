!function(){"use strict";angular.module("AnyDayBuddyAds",["ui.router","ngMaterial","uiGmapgoogle-maps"])}(),function(){"use strict";angular.module("AnyDayBuddyAds").constant("_",window._).constant("jQuery",window.jQuery).constant("Dropzone",window.Dropzone).constant("braintree",window.braintree).constant("baseApi","https://api.anydaybuddy.com")}(),function(){"use strict";function e(e){e.configure({key:"AIzaSyAonFuCDb7HjXUz0uocKbEGUJz91IL9EVs",libraries:"places"})}function o(e,o){e.definePalette("primary",{50:"#9dceda",100:"#65b2c5",200:"#429ab0",300:"#2f6d7c",400:"#265966",500:"#1e4650",600:"#16323a",700:"#0d1f23",800:"#050c0d",900:"#000000",A100:"#9dceda",A200:"#65b2c5",A400:"#265966",A700:"#0d1f23",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100 A200"}),e.definePalette("accent",{50:"#d0ebed",100:"#99d4d8",200:"#70c3c8",300:"#43a7ae",400:"#3a9298",500:"#327d82",600:"#29686c",700:"#215256",800:"#183d40",900:"#10282a",A100:"#d0ebed",A200:"#99d4d8",A400:"#3a9298",A700:"#215256",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100 A200"}),e.definePalette("warn",{50:"#faeee6",100:"#ecc3a7",200:"#e2a379",300:"#d57b3e",400:"#c96b2b",500:"#b05e26",600:"#975121",700:"#7e431b",800:"#643616",900:"#4b2810",A100:"#faeee6",A200:"#ecc3a7",A400:"#c96b2b",A700:"#7e431b",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100 A200"}),e.theme("default").primaryPalette("primary").accentPalette("accent").warnPalette("warn")}angular.module("AnyDayBuddyAds").config(o).config(e),e.$inject=["uiGmapGoogleMapApiProvider"],o.$inject=["$mdThemingProvider","$locationProvider"]}(),function(){"use strict";function e(e,o,t){e.$state=o,e.user=t.getUser(),e.$on("$stateChangeStart",function(n,r){e.fill=["login","dashboard","dashboard.campaigns"].indexOf(r.name)!==-1,r.authenticate&&!t.isAuthenticated()&&(n.preventDefault(),o.transitionTo("login"))})}angular.module("AnyDayBuddyAds").run(e),e.$inject=["$rootScope","$state","Auth"]}(),function(){"use strict";function e(e,o,t){e.state("home",{url:"/",views:{main:{controller:"HomeController",controllerAs:"vm",templateUrl:"assets/views/home.html"}},authenticate:!1}).state("dashboard",{url:"/dashboard",views:{main:{controller:"DashboardController",controllerAs:"vm",templateUrl:"assets/views/dashboard/index.html"}},authenticate:!0}).state("dashboard.profile",{url:"/profile",views:{dashboard:{controller:"ProfileController",controllerAs:"vm",templateUrl:"assets/views/dashboard/profile.html"}},authenticate:!0}).state("dashboard.campaigns",{url:"/campaigns",views:{dashboard:{controller:"DashboardController",controllerAs:"vm",templateUrl:"assets/views/dashboard/campaigns.html"}},authenticate:!0}).state("orders",{url:"/orders",views:{main:{controller:"OrdersController",controllerAs:"vm",templateUrl:"assets/views/orders.html"}},authenticate:!1}).state("login",{url:"/login",views:{main:{controller:"LoginController",controllerAs:"vm",templateUrl:"assets/views/login.html"}},authenticate:!1}),o.otherwise("/")}angular.module("AnyDayBuddyAds").config(e),e.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"]}(),function(){"use strict";function e(e,o){}e.$inject=["$http","$q"],angular.module("AnyDayBuddyAds").controller("DashboardController",e)}(),function(){"use strict";function e(e,o){var t=this;t.data={}}e.$inject=["$http","$q"],angular.module("AnyDayBuddyAds").controller("ProfileController",e)}(),function(){"use strict";function e(e,o){function t(){}function n(e){o("html, body").animate({scrollTop:o(e).offset().top},1e3)}var r=this;r.title="Home Controller",r.scrollTo=n,t()}angular.module("AnyDayBuddyAds").controller("HomeController",e),e.$inject=["$rootScope","jQuery"]}(),function(){"use strict";function e(e,o){var t=this;t.loading=!1,t.auth=function(){console.log("LOGIN",t.user),t.loading=!0,o.login(t.user).then(function(o){console.log(o),e.go("dashboard.campaigns")}).catch(function(e){console.log(e)}).finally(function(){t.loading=!1})}}angular.module("AnyDayBuddyAds").controller("LoginController",e),e.$inject=["$state","Auth"]}(),function(){"use strict";function e(e,o,t){var n=this;n.data={},n.loading=!1,n.isConfirm=!0,n.availability=!0,n.signupAttempt=function(){n.loading=!0,t.register(n.data).then(function(e){t.setCredentials(e),o.hide()},function(e){console.log(e),n.error=!0}).finally(function(){n.loading=!1})},n.checkCredentailsAvailability=function(e){var o={};n.availability=!0,n.data[e]&&(n.loading=!0,o[e]=n.data[e],t.credentialAvaliability(o).then(function(e){n.availability=e.availability,n.loading=!1},function(e){n.loading=!1}))},n.compare=function(){n.isConfirm=n.data.confirmPassword==n.data.password},n.close=function(){o.cancel()}}angular.module("AnyDayBuddyAds").controller("SignupController",e),e.$inject=["$rootScope","$mdDialog","Auth"]}(),function(){"use strict";function e(){var e={restrict:"EA",templateUrl:"assets/views/orders/orders.campaign.html",scope:{options:"=",form:"=",total:"="},controller:o,controllerAs:"vm",bindToController:!0};return e}function o(e,o){function t(){}t()}angular.module("AnyDayBuddyAds").directive("adbOrdersCampaign",e),o.$inject=["$http","$q"]}(),function(){"use strict";function e(){var e={restrict:"EA",templateUrl:"assets/views/orders/orders.checkout.html",scope:{options:"=",form:"=",total:"=",success:"="},controller:o,controllerAs:"vm",bindToController:!0};return e}function o(e,o,t,n,r,i,a){function s(){a.getClientToken().then(function(e){console.log(e),c(e.clientToken)}).catch(function(e){console.log(e)})}function c(e){o.setup(e,"custom",{paypal:{container:"paypal-container",singleUse:!0,amount:"0",currency:"USD",locale:"en_us",enableShippingAddress:!1},onPaymentMethodReceived:function(e){l(e.nonce)},onReady:function(e){u.checkout=e}})}function l(e){console.log(e),t.$apply(function(){u.form.nonce=e,u.authorization=!0})}var u=this;u.checkout={},u.loading=!1,u.authorization=!1,s(),u.launch=function(){u.loading=!0,u.form.amount=u.total,a.createCampaign(u.form).then(function(e){console.log(e),u.success=!0,n.fill=!0}).catch(function(e){console.log(e),u.success=!1}).finally(function(){u.loading=!1})},t.$watch("vm.form",function(e,o){e&&console.log(e)}),t.$watch("vm.checkout",function(e,o){e&&console.log(e)})}angular.module("AnyDayBuddyAds").directive("adbOrdersCheckout",e),o.$inject=["_","braintree","$scope","$rootScope","$http","$q","DataService"]}(),function(){"use strict";function e(){var e={restrict:"EA",templateUrl:"assets/views/orders/orders.customer.html",scope:{options:"=",form:"=",total:"=",control:"="},controller:o,controllerAs:"vm",bindToController:!0};return e}function o(e,o,t,n,r){function i(){a.control.tabs[3].valid=!0,a.control.selectedTab+=1}var a=this;a.nextTab=i,a.auth=function(){a.loading=!0,r.login(a.form.auth).then(function(e){console.log(e),i()}).catch(function(e){console.log(e)}).finally(function(){a.loading=!1})},a.signup=function(){n.show({fullscreen:!0,controllerAs:"vm",controller:"SignupController",templateUrl:"assets/views/modal/signup.html"}).then(function(){i()})}}angular.module("AnyDayBuddyAds").directive("adbOrdersCustomer",e),o.$inject=["$http","$q","$rootScope","$mdDialog","Auth"]}(),function(){"use strict";function e(e,o,t,n,r,i){function a(){i.getOptions().then(function(e){console.log(e),g.options.target=s(e),console.log(g.form)}).catch(function(e){console.log(e)})}function s(o){var t=function(o,n){return e.isObject(o)?e.merge({},o,n,t):o||n},n=e.flatten([{},o,t]);return e.merge.apply(e,n)}function c(e,o){n.show({fullscreen:!0,targetEvent:e,clickOutsideToClose:!0,templateUrl:"app/shared/layout/imageModal.html",locals:{image:o},controller:["$scope","image",function(e,o){e.image=o}]})}function l(){n.show({templateUrl:"app/components/ad/advertisementModal.html",clickOutsideToClose:!0,fullscreen:!0})}function u(){r.show(r.simple().textContent("Awesome, you can now go to next step!").position("bottom right").hideDelay(3e3))}function d(o){var t=!1;return t="both"===o?!!e.isEmpty(e.pickBy(g.form.banner,e.isNull)):!!(g.form.banner.description&&g.form.banner.url&&g.form.banner[o])}function f(){return!e.isEmpty(g.form.marker)}function p(){var e=g.form.media.display,o=g.form.options.display.display;switch(o){case"banner":return d(e);case"map":return f()}return!1}function m(){switch(g.control.selectedTab){case 0:g.form.media.hasOwnProperty("id")&&g.form.options.display.hasOwnProperty("id")&&p()?(g.control.tabs[1].valid=!0,u()):g.control.tabs[1].valid=!1;break;case 1:g.form.options.impressions.hasOwnProperty("id")?(g.control.tabs[2].valid=!0,t.user&&(g.control.tabs[3].valid=!0),u()):g.control.tabs[2].valid=!1;break;default:console.log(g.control.selectedTab)}}var g=this;g.openImage=c,g.add=l,g.total=0,g.success=!1,g.control={selectedTab:0,tabs:[{valid:!0,show:!0},{valid:!1,show:!0},{valid:!1,show:!0},{valid:!1,show:!0}]},g.options={target:{display:[],media:[],impressionsUnits:[],impressionsTime:[],distance:[],age:[],gender:[]}},g.form={media:{},banner:{description:null,url:null,website:null,app:null},marker:{},options:{display:{},impressions:{},distance:{},age:{},gender:{},interests:{}},customer:{},auth:{}},a(),o.$watch("vm.form",function(o,t){console.log(o),m(),g.total=o.media.hasOwnProperty("fee")?o.media.fee:0,e.map(o.options,function(e){e.hasOwnProperty("fee")&&(g.total+=g.total*e.fee),e.hasOwnProperty("discount")&&(g.total-=g.total*e.discount)})},!0)}angular.module("AnyDayBuddyAds").controller("OrdersController",e),e.$inject=["_","$scope","$rootScope","$mdDialog","$mdToast","DataService"]}(),function(){"use strict";function e(){function e(e,o,t,n){}var t={restrict:"EA",templateUrl:"assets/views/orders/orders.resume.html",scope:{options:"=",form:"=",total:"="},link:e,controller:o,controllerAs:"vm",bindToController:!0};return t}function o(e,o,t){function n(){}var r=this;n(),r.formatImpressions=function(){if(r.form.impressionType&&r.form.options.impressions.hasOwnProperty("id")){var o={impressionsUnits:e.join([r.form.options.impressions.quantity,r.form.options.impressions.type]," "),impressionsTime:e.join([r.form.options.impressions.time,r.form.options.impressions.period]," ")};return o[r.form.impressionType]}},r.formatTarget=function(){var o={distance:{value:r.form.options.distance,render:e.join(["Distance:",r.form.options.distance.distance||"","Km"]," ")},age:{value:r.form.options.age,render:e.join(["Age between:",e.join(r.form.options.age.range,"-")]," ")},gender:{value:r.form.options.gender,render:e.join(["Gender:",r.form.options.gender.gender]," ")},interests:{value:r.form.options.interests,render:e.join(["Interests:",r.form.options.interests.quantity]," ")}},t=e.pickBy(o,function(e){return e.value.hasOwnProperty("id")});return e.isEmpty(t)?"":e.join(["Target: ",e.map(Object.keys(t),function(e){return o[e].render})],"")},r.formatResume=function(){return resume}}angular.module("AnyDayBuddyAds").directive("adbOrdersResume",e),o.$inject=["_","$http","$q"]}(),function(){"use strict";function e(){var e={restrict:"EA",templateUrl:"assets/views/orders/orders.display.html",scope:{options:"=",form:"=",total:"="},controller:o,controllerAs:"vm",bindToController:!0};return e}function o(e,o,t,n,r,i){function a(){console.log("activate"),u()}function s(e,o,t,n){console.log(o),r(function(){e.panTo(new google.maps.LatLng(o.latitude,o.longitude)),t&&e.panBy(0,-200)},100)}function c(e,o,t){var r=t[0],i=r.latLng.lat(),a=r.latLng.lng();d.marker={id:Date.now(),location:{latitude:i,longitude:a},show:!1},n.$apply()}function l(){console.log("bounds changed"),console.log(d.placesReady),d.map.instance||u()}function u(){t.all([e,o.promise(1)]).then(function(e){var o=e[0],t=e[1][0].map;d.window={pixelOffset:new o.Size(0,(-40)),closeClick:function(){d.marker.show=!1}},g=new o.places.AutocompleteService,m=new o.DirectionsService,p=new o.DirectionsRenderer,d.map.instance=t,p.setMap(d.map.instance),f=new o.places.PlacesService(d.map.instance),d.placesReady=!0,console.log("ready")})}var d=this,f=null,p=null,m=null,g=null;d.markerConfirmed=!1,d.placesReady=!1,d.control={uploading:!1},d.map={center:{latitude:45.50174502816667,longitude:-73.5703881829977},zoom:14,options:{scrollwheel:!0},mapMarker:!0,disableDefaultUI:!0,control:{},events:{click:c,idle:l}},d.info={name:"",address:"",icon:""},d.marker={id:0,location:{latitude:45.50174502816667,longitude:-73.5703881829977},show:!1},d.desktopDropzone=i.create("desktop",function(e,o){n.$apply(function(){console.log(o.secure_url),d.form.banner.website=o.secure_url,d.control.uploading=!1})},function(){n.$apply(function(){d.control.uploading=!0})}),d.mobileDropzone=i.create("mobile",function(e,o){n.$apply(function(){console.log(o.secure_url),d.form.banner.app=o.secure_url,d.control.uploading=!1})},function(){n.$apply(function(){d.control.uploading=!0})}),a(),d.clickMarker=function(){console.log("click"),d.marker.show=!d.marker.show,n.$apply()},d.autocompleteAddress=function(e){d.markerConfirmed=!1;var o=t.defer();return g.getQueryPredictions({input:e},function(e){o.resolve(e?_.filter(e,"place_id"):[])}),o.promise},d.getPlace=function(){console.log(d.info.place),d.info.place&&f.getDetails({placeId:d.info.place.place_id},function(e,o){console.log(e,o),d.marker={id:Date.now(),address:e.formatted_address,name:d.info.name,location:{latitude:parseFloat(e.geometry.location.lat()),longitude:parseFloat(e.geometry.location.lng())},show:!0},s(d.map.instance,d.marker.location,null,!0),n.$apply()})},d.confirmMarker=function(){d.info.name&&(d.form.marker={id:d.marker.id,address:d.marker.address,name:d.info.name,location:d.marker.location,show:!0},d.markerConfirmed=!0,console.log(d.form.marker))}}angular.module("AnyDayBuddyAds").directive("adbDisplayChooser",e),o.$inject=["uiGmapGoogleMapApi","uiGmapIsReady","$q","$scope","$timeout","DropzoneService"]}(),function(){"use strict";function e(e,o,t,n,r,i,a){function s(){return a.getObject("user",null)}function c(o){var r=n.defer();return t.post(e+"/auth/validate/"+o).success(function(e){r.resolve(e)}).error(function(e){r.reject(e)}),r.promise}function l(o){var r=n.defer();return t.post(e+"/auth/login",o).success(function(e,o,t,n){r.resolve(e),e.hasOwnProperty("token")&&(i.user=angular.copy(e.user),i.$emit("login",e.user),a.set("access_token",e.token),a.setObject("user",e.user))}).error(function(e){r.reject(e)}),r.promise}function u(o){var r=n.defer();return t.post(e+"/auth/register",o).success(function(e,o,t,n){r.resolve(e)}).error(function(e){r.reject(e)}),r.promise}function d(o,r){var i=n.defer();return t.post(e+"/auth/resetpassword/"+o,r).success(function(e,o,t,n){i.resolve(e)}).error(function(e){i.reject(e)}),i.promise}function f(o){var r=n.defer();return t.post(e+"/auth/resetPasswordRequest",o).success(function(e,o,t,n){r.resolve(e)}).error(function(e){r.reject(e)}),r.promise}function p(){a.remove("user"),a.remove("access_token"),a.remove("original_user"),i.isAuthenticated=!1,i.user=null,i.view="auth",i.currentState="login",o.location.reload()}function m(e,o){e.hasOwnProperty("token")?(!o&&a.get("access_token")||a.set("access_token",e.token),i.user=e.user,a.setObject("user",e.user)):console.log("Bad Date",e)}function g(){return a.get("access_token")}function h(o){var r=n.defer();return t.get(e+"/user/availability/",{params:o}).success(function(e,o,t,n){r.resolve(e)}).error(function(e){r.reject(e)}),r.promise}var v={getUser:s,validate:c,isAuthenticated:g,login:l,logout:p,register:u,forgot:f,reset:d,setCredentials:m,credentialAvaliability:h};return v}function o(e,o,t){function n(e){var t;return o.get("access_token")&&(t=o.get("access_token")),t&&(e.headers.Authorization="Bearer "+t),e}function r(n){return 401!==n.status&&403!==n.status||(o.remove("access_token"),t.get("$state").go("login")),e.reject(n)}var i={request:n,responseError:r};return i}o.$inject=["$q","$localstorage","$injector"],angular.module("AnyDayBuddyAds").factory("Auth",e).factory("AuthInterceptor",o).config(["$httpProvider",function(e){e.interceptors.push("AuthInterceptor"),e.defaults.withCredentials=!0}]),e.$inject=["baseApi","$window","$http","$q","$state","$rootScope","$localstorage"]}(),function(){"use strict";function e(e,o,t){function n(){var n=o.defer();return e({method:"GET",url:t+"/campaign/options/"}).success(function(e,o,t,r){n.resolve(e)}).error(function(e){n.reject(e)}),n.promise}function r(){var n=o.defer();return e({method:"GET",url:t+"/commerce/clientToken/"}).success(function(e,o,t,r){n.resolve(e)}).error(function(e){n.reject(e)}),n.promise}function i(t){var n=o.defer();return e.post("http://localhost:1338/campaign/create/",t).success(function(e){n.resolve(e)}).error(function(e){n.reject(e)}),n.promise}var a={getOptions:n,getClientToken:r,createCampaign:i};return a}angular.module("AnyDayBuddyAds").service("DataService",e),e.$inject=["$http","$q","baseApi"]}(),function(){"use strict";function e(){function e(e,t,n,r){return{options:{url:"https://api.cloudinary.com/v1_1/cloud9/image/upload",uploadMultiple:!1,maxFiles:1,acceptedFiles:"image/*",dictDefaultMessage:"Drop file or click here to upload",addRemoveLinks:!0,init:function(){this.on("thumbnail",function(t){t.width!==o[e].width||t.height!==o[e].height?t.rejectDimensions():t.acceptDimensions()})},accept:function(e,o){e.acceptDimensions=o,e.rejectDimensions=function(){o("Invalid dimension.")}}},eventHandlers:{sending:function(e,o,t){t.append("api_key",839988333153567),t.append("timestamp",Date.now()/1e3|0),t.append("upload_preset","sm2ev4nu"),n&&n()},success:t,removedfile:r}}}function t(e,o,t){return{options:{url:"https://api.cloudinary.com/v1_1/cloud9/image/upload",maxFiles:e,acceptedFiles:"image/*",dictDefaultMessage:"Drop files or click here to upload"},eventHandlers:{sending:function(e,o,n){n.append("api_key",839988333153567),n.append("timestamp",Date.now()/1e3|0),n.append("upload_preset","sm2ev4nu"),t&&t()},success:o}}}var n={create:e,createMultiple:t};return n}angular.module("AnyDayBuddyAds").service("DropzoneService",e);var o={mobile:{width:750,height:100},desktop:{width:880,height:1156}}}(),function(){"use strict";function e(e){function o(o,t){e.localStorage[o]=t}function t(o,t){return e.localStorage[o]||t}function n(o,t){e.localStorage[o]=JSON.stringify(t)}function r(o,t){return JSON.parse(e.localStorage[o]||(void 0!==t?t:"{}"))}function i(o){return e.localStorage.removeItem(o)}var a={set:o,get:t,setObject:n,getObject:r,remove:i};return a}angular.module("AnyDayBuddyAds").factory("$localstorage",e),e.$inject=["$window"]}(),function(){"use strict";function e(e){function o(o,t,n){var r,i;r=o.dropzone,i=new e(t[0],r.options),o.reset&&i.on("complete",function(e){i.removeFile(e)}),angular.forEach(r.eventHandlers,function(e,o){i.on(o,e)})}var t={link:o,restrict:"EA",scope:{dropzone:"=dropzone",reset:"@reset"}};return t}angular.module("AnyDayBuddyAds").directive("dropzone",e),e.$inject=["Dropzone"]}(),function(){"use strict";function e(){var e={restrict:"EA",templateUrl:"assets/views/footer/footer.html",controller:o,controllerAs:"vm",bindToController:!0};return e}function o(){function e(){console.log("footer Activated")}e()}angular.module("AnyDayBuddyAds").directive("footerDirective",e),o.$inject=[]}(),function(){"use strict";function e(){var e={restrict:"EA",templateUrl:"assets/views/header/header.html",controller:o,controllerAs:"vm",bindToController:!0,scope:{}};return e}function o(e,o,t){var n=this;n.logout=function(){console.log("LOGOUT"),e.logout()},t.$on("login",function(e,o){t.user||angular.copy(o,t.user),console.log("login",t.user)})}angular.module("AnyDayBuddyAds").directive("headerDirective",e),o.$inject=["Auth","$scope","$rootScope"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5tb2R1bGUuanMiLCJhcHAuY29uc3RhbnRzLmpzIiwiYXBwLmNvbmZpZy5qcyIsImFwcC5ydW4uanMiLCJhcHAucm91dGUuanMiLCJkYXNoYm9hcmQvZGFzaGJvYXJkLmNvbnRyb2xsZXIuanMiLCJkYXNoYm9hcmQvcHJvZmlsZS5jb250cm9sbGVyLmpzIiwibWFpbi9ob21lLmNvbnRyb2xsZXIuanMiLCJtYWluL2xvZ2luLmNvbnRyb2xsZXIuanMiLCJtYWluL3NpZ251cC5jb250cm9sbGVyLmpzIiwib3JkZXJzL2NhbXBhaWduLmRpcmVjdGl2ZS5qcyIsIm9yZGVycy9jaGVja291dC5kaXJlY3RpdmUuanMiLCJvcmRlcnMvY3VzdG9tZXIuZGlyZWN0aXZlLmpzIiwib3JkZXJzL29yZGVycy5jb250cm9sbGVyLmpzIiwib3JkZXJzL3Jlc3VtZS5kaXJlY3RpdmUuanMiLCJvcmRlcnMvdXRpbHMuZGlzcGxheS5kaXJlY3RpdmUuanMiLCJzZXJ2aWNlcy9hdXRoLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9kYXRhLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9kcm9wem9uZS5zZXJ2aWNlLmpzIiwic2VydmljZXMvbG9jYWxzdG9yYWdlLnNlcnZpY2UuanMiLCJzaGFyZWQvZHJvcHpvbmUuZGlyZWN0aXZlLmpzIiwiY29tcG9uZW50cy9mb290ZXIvZm9vdGVyLmRpcmVjdGl2ZS5qcyIsImNvbXBvbmVudHMvaGVhZGVyL2hlYWRlci5kaXJlY3RpdmUuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbnN0YW50Iiwid2luZG93IiwiXyIsImpRdWVyeSIsIkRyb3B6b25lIiwiYnJhaW50cmVlIiwibWFwc1Byb3ZpZGVyIiwidWlHbWFwR29vZ2xlTWFwQXBpUHJvdmlkZXIiLCJjb25maWd1cmUiLCJrZXkiLCJsaWJyYXJpZXMiLCJjb25maWciLCIkbWRUaGVtaW5nUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsImRlZmluZVBhbGV0dGUiLCI1MCIsIjEwMCIsIjIwMCIsIjMwMCIsIjQwMCIsIjUwMCIsIjYwMCIsIjcwMCIsIjgwMCIsIjkwMCIsIkExMDAiLCJBMjAwIiwiQTQwMCIsIkE3MDAiLCJjb250cmFzdERlZmF1bHRDb2xvciIsImNvbnRyYXN0RGFya0NvbG9ycyIsInRoZW1lIiwicHJpbWFyeVBhbGV0dGUiLCJhY2NlbnRQYWxldHRlIiwid2FyblBhbGV0dGUiLCIkaW5qZWN0IiwicnVuUHJvdmlkZXIiLCIkcm9vdFNjb3BlIiwiJHN0YXRlIiwiQXV0aCIsInVzZXIiLCJnZXRVc2VyIiwiJG9uIiwiZXZlbnQiLCJ0b1N0YXRlIiwiZmlsbCIsImluZGV4T2YiLCJuYW1lIiwiYXV0aGVudGljYXRlIiwiaXNBdXRoZW50aWNhdGVkIiwicHJldmVudERlZmF1bHQiLCJ0cmFuc2l0aW9uVG8iLCJydW4iLCJyb3V0ZXJQcm92aWRlciIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwic3RhdGUiLCJ1cmwiLCJ2aWV3cyIsIm1haW4iLCJjb250cm9sbGVyIiwiY29udHJvbGxlckFzIiwidGVtcGxhdGVVcmwiLCJkYXNoYm9hcmQiLCJvdGhlcndpc2UiLCJDb250cm9sbGVyIiwiJGh0dHAiLCIkcSIsInZtIiwidGhpcyIsImRhdGEiLCJIb21lQ29udHJvbGxlciIsImFjdGl2YXRlIiwic2Nyb2xsVG8iLCJlbGVtZW50IiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsIm9mZnNldCIsInRvcCIsInRpdGxlIiwiTG9naW5Db250cm9sbGVyIiwibG9hZGluZyIsImF1dGgiLCJjb25zb2xlIiwibG9nIiwibG9naW4iLCJ0aGVuIiwicmVzIiwiZ28iLCJjYXRjaCIsImVyciIsImZpbmFsbHkiLCJTaWdudXBDb250cm9sbGVyIiwiJG1kRGlhbG9nIiwiaXNDb25maXJtIiwiYXZhaWxhYmlsaXR5Iiwic2lnbnVwQXR0ZW1wdCIsInJlZ2lzdGVyIiwic2V0Q3JlZGVudGlhbHMiLCJoaWRlIiwiZXJyb3IiLCJjaGVja0NyZWRlbnRhaWxzQXZhaWxhYmlsaXR5IiwiY3JlZGVudGlhbCIsInF1ZXJ5IiwiY3JlZGVudGlhbEF2YWxpYWJpbGl0eSIsImNvbXBhcmUiLCJjb25maXJtUGFzc3dvcmQiLCJwYXNzd29yZCIsImNsb3NlIiwiY2FuY2VsIiwiZGlyZWN0aXZlIiwicmVzdHJpY3QiLCJzY29wZSIsIm9wdGlvbnMiLCJmb3JtIiwidG90YWwiLCJiaW5kVG9Db250cm9sbGVyIiwic3VjY2VzcyIsIiRzY29wZSIsIkRhdGFTZXJ2aWNlIiwiZ2V0Q2xpZW50VG9rZW4iLCJzZXR1cEdhdGV3YXkiLCJjbGllbnRUb2tlbiIsInRva2VuIiwic2V0dXAiLCJwYXlwYWwiLCJjb250YWluZXIiLCJzaW5nbGVVc2UiLCJhbW91bnQiLCJjdXJyZW5jeSIsImxvY2FsZSIsImVuYWJsZVNoaXBwaW5nQWRkcmVzcyIsIm9uUGF5bWVudE1ldGhvZFJlY2VpdmVkIiwib2JqIiwiZG9Tb21ldGhpbmdXaXRoVGhlTm9uY2UiLCJub25jZSIsIm9uUmVhZHkiLCJpbnRlZ3JhdGlvbiIsImNoZWNrb3V0IiwiJGFwcGx5IiwiYXV0aG9yaXphdGlvbiIsImxhdW5jaCIsImNyZWF0ZUNhbXBhaWduIiwiJHdhdGNoIiwiYyIsIm8iLCJjb250cm9sIiwibmV4dFRhYiIsInRhYnMiLCJ2YWxpZCIsInNlbGVjdGVkVGFiIiwic2lnbnVwIiwic2hvdyIsImZ1bGxzY3JlZW4iLCIkbWRUb2FzdCIsImdldE9wdGlvbnMiLCJyZXNwIiwidGFyZ2V0IiwiZG9fbWVyZ2UiLCJyb2xlcyIsIm1lcmdlciIsImEiLCJiIiwiaXNPYmplY3QiLCJtZXJnZSIsImFyZ3MiLCJmbGF0dGVuIiwiYXBwbHkiLCJvcGVuSW1hZ2UiLCIkZXZlbnQiLCJpbWFnZSIsInRhcmdldEV2ZW50IiwiY2xpY2tPdXRzaWRlVG9DbG9zZSIsImxvY2FscyIsImFkZCIsInNob3dWYWxpZE5vdGlmaWNhdGlvbiIsInNpbXBsZSIsInRleHRDb250ZW50IiwicG9zaXRpb24iLCJoaWRlRGVsYXkiLCJ2YWxpZGF0ZUJhbm5lciIsImRpc3BsYXkiLCJjaGVjayIsImlzRW1wdHkiLCJwaWNrQnkiLCJiYW5uZXIiLCJpc051bGwiLCJkZXNjcmlwdGlvbiIsInZhbGlkYXRlTWFwIiwibWFya2VyIiwidmFsaWRhdGVTdGVwWmVybyIsIm1lZGlhIiwidmFsaWRhdGVGb3JtIiwiaGFzT3duUHJvcGVydHkiLCJpbXByZXNzaW9ucyIsImltcHJlc3Npb25zVW5pdHMiLCJpbXByZXNzaW9uc1RpbWUiLCJkaXN0YW5jZSIsImFnZSIsImdlbmRlciIsIndlYnNpdGUiLCJhcHAiLCJpbnRlcmVzdHMiLCJjdXN0b21lciIsImZlZSIsIm1hcCIsIml0ZW0iLCJkaXNjb3VudCIsImxpbmtGdW5jIiwiZWwiLCJhdHRyIiwiY3RybCIsImxpbmsiLCJmb3JtYXRJbXByZXNzaW9ucyIsImltcHJlc3Npb25UeXBlIiwidHlwZXMiLCJqb2luIiwicXVhbnRpdHkiLCJ0eXBlIiwidGltZSIsInBlcmlvZCIsImZvcm1hdFRhcmdldCIsInZhbHVlIiwicmVuZGVyIiwicmFuZ2UiLCJzZWxlY3RlZCIsImkiLCJPYmplY3QiLCJrZXlzIiwiZm9ybWF0UmVzdW1lIiwicmVzdW1lIiwidWlHbWFwR29vZ2xlTWFwQXBpIiwidWlHbWFwSXNSZWFkeSIsIiR0aW1lb3V0IiwiRHJvcHpvbmVTZXJ2aWNlIiwicHJlcGFyZU1hcCIsImNlbnRlck1hcCIsImxvY2F0aW9uIiwic2Nyb2xsIiwicGFuVG8iLCJnb29nbGUiLCJtYXBzIiwiTGF0TG5nIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJwYW5CeSIsImNsaWNrTWFwIiwiZXZlbnROYW1lIiwib3JpZ2luYWxFdmVudEFyZ3MiLCJlIiwibGF0IiwibGF0TG5nIiwibG9uIiwibG5nIiwiaWQiLCJEYXRlIiwibm93IiwiYm91bmRzQ2hhbmdlZCIsInBsYWNlc1JlYWR5IiwiaW5zdGFuY2UiLCJhbGwiLCJwcm9taXNlIiwicmVzcG9uc2UiLCJwaXhlbE9mZnNldCIsIlNpemUiLCJjbG9zZUNsaWNrIiwiUGxhY2VzQXV0b2NvbXBsZXRlIiwicGxhY2VzIiwiQXV0b2NvbXBsZXRlU2VydmljZSIsIkRpcmVjdGlvbnNTZXJ2aWNlIiwiRGlyZWN0aW9uUmVuZGVyZXIiLCJEaXJlY3Rpb25zUmVuZGVyZXIiLCJzZXRNYXAiLCJQbGFjZXMiLCJQbGFjZXNTZXJ2aWNlIiwibWFya2VyQ29uZmlybWVkIiwidXBsb2FkaW5nIiwiY2VudGVyIiwiem9vbSIsInNjcm9sbHdoZWVsIiwibWFwTWFya2VyIiwiZGlzYWJsZURlZmF1bHRVSSIsImV2ZW50cyIsImNsaWNrIiwiaWRsZSIsImluZm8iLCJhZGRyZXNzIiwiaWNvbiIsImRlc2t0b3BEcm9wem9uZSIsImNyZWF0ZSIsImZpbGUiLCJzZWN1cmVfdXJsIiwibW9iaWxlRHJvcHpvbmUiLCJjbGlja01hcmtlciIsImF1dG9jb21wbGV0ZUFkZHJlc3MiLCJkZWZlcnJlZCIsImRlZmVyIiwiZ2V0UXVlcnlQcmVkaWN0aW9ucyIsImlucHV0IiwicmVzb2x2ZSIsImZpbHRlciIsImdldFBsYWNlIiwicGxhY2UiLCJnZXREZXRhaWxzIiwicGxhY2VJZCIsInBsYWNlX2lkIiwic3RhdHVzIiwiZm9ybWF0dGVkX2FkZHJlc3MiLCJwYXJzZUZsb2F0IiwiZ2VvbWV0cnkiLCJjb25maXJtTWFya2VyIiwiYmFzZUFwaSIsIiR3aW5kb3ciLCIkbG9jYWxzdG9yYWdlIiwiZ2V0T2JqZWN0IiwidmFsaWRhdGUiLCJwb3N0IiwicmVqZWN0IiwiY3JlZGVudGlhbHMiLCJoZWFkZXJzIiwiY29weSIsIiRlbWl0Iiwic2V0Iiwic2V0T2JqZWN0IiwicGF5bG9hZCIsInJlc2V0IiwicGFyYW1zIiwiZm9yZ290IiwibG9nb3V0IiwicmVtb3ZlIiwidmlldyIsImN1cnJlbnRTdGF0ZSIsInJlbG9hZCIsImZvcmNlIiwiZ2V0IiwiQXV0aEludGVyY2VwdG9yIiwiJGluamVjdG9yIiwicmVxdWVzdCIsIkF1dGhvcml6YXRpb24iLCJyZXNwb25zZUVycm9yIiwiZmFjdG9yeSIsIiRodHRwUHJvdmlkZXIiLCJpbnRlcmNlcHRvcnMiLCJwdXNoIiwiZGVmYXVsdHMiLCJ3aXRoQ3JlZGVudGlhbHMiLCJkYXRhU2VydmljZSIsIm1ldGhvZCIsInNlcnZpY2UiLCJzZW5kaW5nIiwicmVtb3ZlZGZpbGUiLCJ1cGxvYWRNdWx0aXBsZSIsIm1heEZpbGVzIiwiYWNjZXB0ZWRGaWxlcyIsImRpY3REZWZhdWx0TWVzc2FnZSIsImFkZFJlbW92ZUxpbmtzIiwiaW5pdCIsIm9uIiwid2lkdGgiLCJUWVBFUyIsImhlaWdodCIsInJlamVjdERpbWVuc2lvbnMiLCJhY2NlcHREaW1lbnNpb25zIiwiYWNjZXB0IiwiZG9uZSIsImV2ZW50SGFuZGxlcnMiLCJ4aHIiLCJmb3JtRGF0YSIsImFwcGVuZCIsImNyZWF0ZU11bHRpcGxlIiwibW9iaWxlIiwiZGVza3RvcCIsImxvY2FsU3RvcmFnZSIsImRlZmF1bHRWYWx1ZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJwYXJzZSIsInVuZGVmaW5lZCIsInJlbW92ZUl0ZW0iLCJkcm9wem9uZSIsImF0dHJzIiwiem9uZSIsInJlbW92ZUZpbGUiLCJmb3JFYWNoIiwiaGFuZGxlciIsImZvb3RlckRpcmVjdGl2ZSIsImZvb3RlckNvbnRyb2xsZXIiLCJoZWFkZXJEaXJlY3RpdmUiLCJoZWFkZXJDb250cm9sbGVyIl0sIm1hcHBpbmdzIjoiQ0FTQSxXQUNBLFlBRUFBLFNBQ0FDLE9BQUEsa0JBQ0EsWUFDQSxhQUNBLHlCQ2hCQSxXQUNBLFlBRUFELFNBQ0FDLE9BQUEsa0JBQ0FDLFNBQUEsSUFBQUMsT0FBQUMsR0FDQUYsU0FBQSxTQUFBQyxPQUFBRSxRQUNBSCxTQUFBLFdBQUFDLE9BQUFHLFVBQ0FKLFNBQUEsWUFBQUMsT0FBQUksV0FDQUwsU0FBQSxVQUFBLGtDQ1RBLFdBQ0EsWUFRQSxTQUFBTSxHQUFBQyxHQUNBQSxFQUFBQyxXQUNBQyxJQUFBLDBDQUVBQyxVQUFBLFdBTUEsUUFBQUMsR0FBQUMsRUFBQUMsR0FFQUQsRUFBQUUsY0FBQSxXQUNBQyxHQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNB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QWdXLEtBQ0EsR0FBQXJSLElBQ0FDLFNBQUEsS0FDQWpELFlBQUEsa0NBQ0FGLFdBQUF3VSxFQUNBdlUsYUFBQSxLQUNBdUQsa0JBQUEsRUFDQUosU0FHQSxPQUFBRixHQU1BLFFBQUFzUixHQUFBN1YsRUFBQStFLEVBQUFqRixHQUNBLEdBQUErQixHQUFBQyxJQUlBRCxHQUFBb1EsT0FBQSxXQUNBclAsUUFBQUMsSUFBQSxVQUNBN0MsRUFBQWlTLFVBSUFuUyxFQUFBSyxJQUFBLFFBQUEsU0FBQUMsRUFBQUgsR0FDQUgsRUFBQUcsTUFDQTFDLFFBQUFrVSxLQUFBeFIsRUFBQUgsRUFBQUcsTUFFQTJDLFFBQUFDLElBQUEsUUFBQS9DLEVBQUFHLFFBcENBMUMsUUFDQUMsT0FBQSxrQkFDQStHLFVBQUEsa0JBQUFxUixHQWdCQUMsRUFBQWpXLFNBQUEsT0FBQSxTQUFBIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQG5nZG9jIG92ZXJ2aWV3XG4gKiBAbmFtZSBBbnlEYXlCdWRkeUFkc1xuICogQHJlcXVpcmVzIHVpLnJvdXRlclxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogQW5ndWxhckpTIGJhc2ljIGFwcCB0ZW1wbGF0ZVxuICpcbiAqL1xuKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJywgW1xuICAgICAgJ3VpLnJvdXRlcicsXG4gICAgICAnbmdNYXRlcmlhbCcsXG4gICAgICAndWlHbWFwZ29vZ2xlLW1hcHMnLFxuICAgIF0pO1xuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuY29uc3RhbnQoJ18nLCB3aW5kb3cuXylcbiAgICAuY29uc3RhbnQoJ2pRdWVyeScsIHdpbmRvdy5qUXVlcnkpXG4gICAgLmNvbnN0YW50KCdEcm9wem9uZScsIHdpbmRvdy5Ecm9wem9uZSlcbiAgICAuY29uc3RhbnQoJ2JyYWludHJlZScsIHdpbmRvdy5icmFpbnRyZWUpXG4gICAgLmNvbnN0YW50KCdiYXNlQXBpJywgJ2h0dHBzOi8vYXBpLmFueWRheWJ1ZGR5LmNvbScpO1xufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgIC5jb25maWcoY29uZmlnKVxuICAgIC5jb25maWcobWFwc1Byb3ZpZGVyKTtcblxuICBtYXBzUHJvdmlkZXIuJGluamVjdCA9IFsndWlHbWFwR29vZ2xlTWFwQXBpUHJvdmlkZXInXTtcblxuICBmdW5jdGlvbiBtYXBzUHJvdmlkZXIodWlHbWFwR29vZ2xlTWFwQXBpUHJvdmlkZXIpIHtcbiAgICB1aUdtYXBHb29nbGVNYXBBcGlQcm92aWRlci5jb25maWd1cmUoe1xuICAgICAga2V5OiAnQUl6YVN5QW9uRnVDRGI3SGpYVXowdW9jS2JFR1VKejkxSUw5RVZzJywgLy9hZGItc2l0ZS0wIGtleVxuICAgICAgLy8ga2V5OiAnQUl6YVN5QWxXNmh1bjdWd3BGUHYwZnhfS09VaDUybDA4QlJwallNJyxcbiAgICAgIGxpYnJhcmllczogJ3BsYWNlcydcbiAgICB9KTtcbiAgfVxuXG4gIGNvbmZpZy4kaW5qZWN0ID0gWyckbWRUaGVtaW5nUHJvdmlkZXInLCAnJGxvY2F0aW9uUHJvdmlkZXInXTtcblxuICBmdW5jdGlvbiBjb25maWcoJG1kVGhlbWluZ1Byb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xuXG4gICAgJG1kVGhlbWluZ1Byb3ZpZGVyLmRlZmluZVBhbGV0dGUoJ3ByaW1hcnknLCB7XG4gICAgICAnNTAnOiAnIzlkY2VkYScsXG4gICAgICAnMTAwJzogJyM2NWIyYzUnLFxuICAgICAgJzIwMCc6ICcjNDI5YWIwJyxcbiAgICAgICczMDAnOiAnIzJmNmQ3YycsXG4gICAgICAnNDAwJzogJyMyNjU5NjYnLFxuICAgICAgJzUwMCc6ICcjMWU0NjUwJyxcbiAgICAgICc2MDAnOiAnIzE2MzIzYScsXG4gICAgICAnNzAwJzogJyMwZDFmMjMnLFxuICAgICAgJzgwMCc6ICcjMDUwYzBkJyxcbiAgICAgICc5MDAnOiAnIzAwMDAwMCcsXG4gICAgICAnQTEwMCc6ICcjOWRjZWRhJyxcbiAgICAgICdBMjAwJzogJyM2NWIyYzUnLFxuICAgICAgJ0E0MDAnOiAnIzI2NTk2NicsXG4gICAgICAnQTcwMCc6ICcjMGQxZjIzJyxcbiAgICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdsaWdodCcsXG4gICAgICAnY29udHJhc3REYXJrQ29sb3JzJzogJzUwIDEwMCAyMDAgQTEwMCBBMjAwJ1xuICAgIH0pO1xuICAgICRtZFRoZW1pbmdQcm92aWRlci5kZWZpbmVQYWxldHRlKCdhY2NlbnQnLCB7XG4gICAgICAnNTAnOiAnI2QwZWJlZCcsXG4gICAgICAnMTAwJzogJyM5OWQ0ZDgnLFxuICAgICAgJzIwMCc6ICcjNzBjM2M4JyxcbiAgICAgICczMDAnOiAnIzQzYTdhZScsXG4gICAgICAnNDAwJzogJyMzYTkyOTgnLFxuICAgICAgJzUwMCc6ICcjMzI3ZDgyJyxcbiAgICAgICc2MDAnOiAnIzI5Njg2YycsXG4gICAgICAnNzAwJzogJyMyMTUyNTYnLFxuICAgICAgJzgwMCc6ICcjMTgzZDQwJyxcbiAgICAgICc5MDAnOiAnIzEwMjgyYScsXG4gICAgICAnQTEwMCc6ICcjZDBlYmVkJyxcbiAgICAgICdBMjAwJzogJyM5OWQ0ZDgnLFxuICAgICAgJ0E0MDAnOiAnIzNhOTI5OCcsXG4gICAgICAnQTcwMCc6ICcjMjE1MjU2JyxcbiAgICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdsaWdodCcsXG4gICAgICAnY29udHJhc3REYXJrQ29sb3JzJzogJzUwIDEwMCAyMDAgMzAwIEExMDAgQTIwMCdcbiAgICB9KTtcbiAgICAkbWRUaGVtaW5nUHJvdmlkZXIuZGVmaW5lUGFsZXR0ZSgnd2FybicsIHtcbiAgICAgICc1MCc6ICcjZmFlZWU2JyxcbiAgICAgICcxMDAnOiAnI2VjYzNhNycsXG4gICAgICAnMjAwJzogJyNlMmEzNzknLFxuICAgICAgJzMwMCc6ICcjZDU3YjNlJyxcbiAgICAgICc0MDAnOiAnI2M5NmIyYicsXG4gICAgICAnNTAwJzogJyNiMDVlMjYnLFxuICAgICAgJzYwMCc6ICcjOTc1MTIxJyxcbiAgICAgICc3MDAnOiAnIzdlNDMxYicsXG4gICAgICAnODAwJzogJyM2NDM2MTYnLFxuICAgICAgJzkwMCc6ICcjNGIyODEwJyxcbiAgICAgICdBMTAwJzogJyNmYWVlZTYnLFxuICAgICAgJ0EyMDAnOiAnI2VjYzNhNycsXG4gICAgICAnQTQwMCc6ICcjYzk2YjJiJyxcbiAgICAgICdBNzAwJzogJyM3ZTQzMWInLFxuICAgICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2xpZ2h0JyxcbiAgICAgICdjb250cmFzdERhcmtDb2xvcnMnOiAnNTAgMTAwIDIwMCAzMDAgQTEwMCBBMjAwJ1xuICAgIH0pO1xuICAgICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnZGVmYXVsdCcpXG4gICAgICAucHJpbWFyeVBhbGV0dGUoJ3ByaW1hcnknKVxuICAgICAgLmFjY2VudFBhbGV0dGUoJ2FjY2VudCcpXG4gICAgICAud2FyblBhbGV0dGUoJ3dhcm4nKTtcbiAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgLnJ1bihydW5Qcm92aWRlcik7XG5cbiAgcnVuUHJvdmlkZXIuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICckc3RhdGUnLCAnQXV0aCddO1xuXG4gIGZ1bmN0aW9uIHJ1blByb3ZpZGVyKCRyb290U2NvcGUsICRzdGF0ZSwgQXV0aCkge1xuICAgICRyb290U2NvcGUuJHN0YXRlID0gJHN0YXRlO1xuICAgICRyb290U2NvcGUudXNlciA9IEF1dGguZ2V0VXNlcigpO1xuXG4gICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN0YXJ0JywgZnVuY3Rpb24oZXZlbnQsIHRvU3RhdGUpIHtcbiAgICAgICRyb290U2NvcGUuZmlsbCA9IFsnbG9naW4nLCAnZGFzaGJvYXJkJywgJ2Rhc2hib2FyZC5jYW1wYWlnbnMnXS5pbmRleE9mKHRvU3RhdGUubmFtZSkgIT09IC0xO1xuXG4gICAgICAvKipcbiAgICAgICAqIGlmIHRoZSBzdGF0ZSByZXF1aXJlcyBhdXRoZW50aWNhdGlvbiBhbmQgdGhlXG4gICAgICAgKiB1c2VyIGlzIG5vdCBsb2dnZWQgaW4sIHJlZGlyZWN0IHRvIHRoZSBsb2dpbiBwYWdlLlxuICAgICAgICovXG4gICAgICBpZiAodG9TdGF0ZS5hdXRoZW50aWNhdGUgJiYgIUF1dGguaXNBdXRoZW50aWNhdGVkKCkpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJHN0YXRlLnRyYW5zaXRpb25UbygnbG9naW4nKTtcbiAgICAgIH1cblxuICAgIH0pO1xuICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuY29uZmlnKHJvdXRlclByb3ZpZGVyKTtcblxuICByb3V0ZXJQcm92aWRlci4kaW5qZWN0ID0gWyckc3RhdGVQcm92aWRlcicsICckdXJsUm91dGVyUHJvdmlkZXInLCAnJGxvY2F0aW9uUHJvdmlkZXInXTtcblxuICBmdW5jdGlvbiByb3V0ZXJQcm92aWRlcigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xuICAgIC8vICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh7XG4gICAgLy8gICBlbmFibGVkOiB0cnVlLFxuICAgIC8vICAgcmVxdWlyZUJhc2U6IGZhbHNlXG4gICAgLy8gfSk7XG4gICAgLy9cbiAgICAkc3RhdGVQcm92aWRlclxuICAgICAgLnN0YXRlKCdob21lJywge1xuICAgICAgICB1cmw6ICcvJyxcbiAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAnbWFpbic6IHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdIb21lQ29udHJvbGxlcicsXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2Fzc2V0cy92aWV3cy9ob21lLmh0bWwnXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhdXRoZW50aWNhdGU6IGZhbHNlXG4gICAgICB9KVxuICAgICAgLnN0YXRlKCdkYXNoYm9hcmQnLCB7XG4gICAgICAgIHVybDogJy9kYXNoYm9hcmQnLFxuICAgICAgICB2aWV3czoge1xuICAgICAgICAgICdtYWluJzoge1xuICAgICAgICAgICAgY29udHJvbGxlcjogJ0Rhc2hib2FyZENvbnRyb2xsZXInLFxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhc3NldHMvdmlld3MvZGFzaGJvYXJkL2luZGV4Lmh0bWwnXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhdXRoZW50aWNhdGU6IHRydWVcbiAgICAgIH0pXG4gICAgICAuc3RhdGUoJ2Rhc2hib2FyZC5wcm9maWxlJywge1xuICAgICAgICB1cmw6ICcvcHJvZmlsZScsXG4gICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgJ2Rhc2hib2FyZCc6IHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdQcm9maWxlQ29udHJvbGxlcicsXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2Fzc2V0cy92aWV3cy9kYXNoYm9hcmQvcHJvZmlsZS5odG1sJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlXG4gICAgICB9KVxuICAgICAgLnN0YXRlKCdkYXNoYm9hcmQuY2FtcGFpZ25zJywge1xuICAgICAgICB1cmw6ICcvY2FtcGFpZ25zJyxcbiAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAnZGFzaGJvYXJkJzoge1xuICAgICAgICAgICAgY29udHJvbGxlcjogJ0Rhc2hib2FyZENvbnRyb2xsZXInLFxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhc3NldHMvdmlld3MvZGFzaGJvYXJkL2NhbXBhaWducy5odG1sJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlXG4gICAgICB9KVxuICAgICAgLnN0YXRlKCdvcmRlcnMnLCB7XG4gICAgICAgIHVybDogJy9vcmRlcnMnLFxuICAgICAgICB2aWV3czoge1xuICAgICAgICAgICdtYWluJzoge1xuICAgICAgICAgICAgY29udHJvbGxlcjogJ09yZGVyc0NvbnRyb2xsZXInLFxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhc3NldHMvdmlld3Mvb3JkZXJzLmh0bWwnXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhdXRoZW50aWNhdGU6IGZhbHNlXG4gICAgICB9KVxuICAgICAgLnN0YXRlKCdsb2dpbicsIHtcbiAgICAgICAgdXJsOiAnL2xvZ2luJyxcbiAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAnbWFpbic6IHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdMb2dpbkNvbnRyb2xsZXInLFxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhc3NldHMvdmlld3MvbG9naW4uaHRtbCdcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGF1dGhlbnRpY2F0ZTogZmFsc2VcbiAgICAgIH0pO1xuXG4gICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnLycpO1xuICB9XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgIC5jb250cm9sbGVyKCdEYXNoYm9hcmRDb250cm9sbGVyJywgQ29udHJvbGxlcik7XG5cbiAgZnVuY3Rpb24gQ29udHJvbGxlcigkaHR0cCwgJHEpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgLy8vLy8vLy8vLy8vLy8vL1xuXG4gIH1cbiAgXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuY29udHJvbGxlcignUHJvZmlsZUNvbnRyb2xsZXInLCBDb250cm9sbGVyKTtcblxuICBmdW5jdGlvbiBDb250cm9sbGVyKCRodHRwLCAkcSkge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgdm0uZGF0YSA9IHt9O1xuXG4gICAgLy8vLy8vLy8vLy8vLy8vL1xuXG4gIH1cbiAgXG59KSgpO1xuIiwiLyoqXG4gKiBAbmdkb2MgY29udHJvbGxlclxuICogQG5hbWUgSG9tZUNvbnRyb2xsZXJcbiAqIEByZXF1aXJlcyAkcm9vdFNjb3BlXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBNYW5lamEgZWwgY29tcG9ydGFtaWVudG8gZGUgbGEgdmlzdGEgcHJpbmNpcGFsXG4gKlxuICovXG5cbihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgLmNvbnRyb2xsZXIoJ0hvbWVDb250cm9sbGVyJywgSG9tZUNvbnRyb2xsZXIpO1xuXG4gIEhvbWVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnalF1ZXJ5J107XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIEhvbWVDb250cm9sbGVyKCRyb290U2NvcGUsIGpRdWVyeSkge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgdm0udGl0bGUgPSAnSG9tZSBDb250cm9sbGVyJztcbiAgICB2bS5zY3JvbGxUbyA9IHNjcm9sbFRvO1xuICAgIGFjdGl2YXRlKCk7XG5cbiAgICAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHt9XG5cbiAgICBmdW5jdGlvbiBzY3JvbGxUbyhlbGVtZW50KSB7XG4gICAgICBqUXVlcnkoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcbiAgICAgICAgc2Nyb2xsVG9wOiBqUXVlcnkoZWxlbWVudCkub2Zmc2V0KCkudG9wXG4gICAgICB9LCAxMDAwKTtcbiAgICB9XG4gIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgIC5jb250cm9sbGVyKCdMb2dpbkNvbnRyb2xsZXInLCBMb2dpbkNvbnRyb2xsZXIpO1xuXG4gIExvZ2luQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc3RhdGUnLCAnQXV0aCddO1xuXG4gIGZ1bmN0aW9uIExvZ2luQ29udHJvbGxlcigkc3RhdGUsIEF1dGgpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuICAgIHZtLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgICB2bS5hdXRoID0gZnVuY3Rpb24oKSB7XG4gICAgXHRjb25zb2xlLmxvZygnTE9HSU4nLCB2bS51c2VyKTtcbiAgICAgIHZtLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgQXV0aC5sb2dpbih2bS51c2VyKS50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgICAgICAgICRzdGF0ZS5nbygnZGFzaGJvYXJkLmNhbXBhaWducycpO1xuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICB2bS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgLmNvbnRyb2xsZXIoJ1NpZ251cENvbnRyb2xsZXInLCBTaWdudXBDb250cm9sbGVyKTtcblxuICBTaWdudXBDb250cm9sbGVyLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnJG1kRGlhbG9nJywgJ0F1dGgnXTtcblxuICBmdW5jdGlvbiBTaWdudXBDb250cm9sbGVyKCRyb290U2NvcGUsICRtZERpYWxvZywgQXV0aCkge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgdm0uZGF0YSA9IHt9O1xuICAgIHZtLmxvYWRpbmcgPSBmYWxzZTtcbiAgICB2bS5pc0NvbmZpcm0gPSB0cnVlO1xuICAgIHZtLmF2YWlsYWJpbGl0eSA9IHRydWU7XG5cbiAgICAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgICB2bS5zaWdudXBBdHRlbXB0ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2bS5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgIEF1dGgucmVnaXN0ZXIodm0uZGF0YSkudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgQXV0aC5zZXRDcmVkZW50aWFscyhyZXMpO1xuICAgICAgICAkbWREaWFsb2cuaGlkZSgpO1xuICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIHZtLmVycm9yID0gdHJ1ZTtcbiAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZtLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH07XG5cblxuICAgIHZtLmNoZWNrQ3JlZGVudGFpbHNBdmFpbGFiaWxpdHkgPSBmdW5jdGlvbihjcmVkZW50aWFsKSB7XG4gICAgICB2YXIgcXVlcnkgPSB7fTtcbiAgICAgIHZtLmF2YWlsYWJpbGl0eSA9IHRydWU7XG5cbiAgICAgIGlmICghdm0uZGF0YVtjcmVkZW50aWFsXSkgcmV0dXJuO1xuXG4gICAgICB2bS5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgIHF1ZXJ5W2NyZWRlbnRpYWxdID0gdm0uZGF0YVtjcmVkZW50aWFsXTtcbiAgICAgIEF1dGguY3JlZGVudGlhbEF2YWxpYWJpbGl0eShxdWVyeSkudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgdm0uYXZhaWxhYmlsaXR5ID0gcmVzLmF2YWlsYWJpbGl0eTtcbiAgICAgICAgdm0ubG9hZGluZyA9IGZhbHNlO1xuICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIHZtLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2bS5jb21wYXJlID0gZnVuY3Rpb24oKSB7XG4gICAgICB2bS5pc0NvbmZpcm0gPSB2bS5kYXRhLmNvbmZpcm1QYXNzd29yZCA9PSB2bS5kYXRhLnBhc3N3b3JkO1xuICAgIH07XG5cblxuICAgIHZtLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgICAkbWREaWFsb2cuY2FuY2VsKCk7XG4gICAgfTtcblxuICB9XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgIC5kaXJlY3RpdmUoJ2FkYk9yZGVyc0NhbXBhaWduJywgZGlyZWN0aXZlKTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gZGlyZWN0aXZlKCkge1xuICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgIHRlbXBsYXRlVXJsOiAnYXNzZXRzL3ZpZXdzL29yZGVycy9vcmRlcnMuY2FtcGFpZ24uaHRtbCcsXG4gICAgICBzY29wZToge1xuICAgICAgICBvcHRpb25zOiAnPScsXG4gICAgICAgIGZvcm06ICc9JyxcbiAgICAgICAgdG90YWw6ICc9J1xuICAgICAgfSxcbiAgICAgIGNvbnRyb2xsZXI6IENvbnRyb2xsZXIsXG4gICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXG4gICAgfTtcblxuICAgIHJldHVybiBkaXJlY3RpdmU7XG4gIH1cblxuICBDb250cm9sbGVyLiRpbmplY3QgPSBbJyRodHRwJywgJyRxJ107XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIENvbnRyb2xsZXIoJGh0dHAsICRxKSB7XG4gICAgdmFyIHZtID0gdGhpcztcblxuICAgIGFjdGl2YXRlKCk7XG5cbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcblxuICAgIH1cbiAgICBcbiAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgLmRpcmVjdGl2ZSgnYWRiT3JkZXJzQ2hlY2tvdXQnLCBkaXJlY3RpdmUpO1xuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiBkaXJlY3RpdmUoKSB7XG4gICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgdGVtcGxhdGVVcmw6ICdhc3NldHMvdmlld3Mvb3JkZXJzL29yZGVycy5jaGVja291dC5odG1sJyxcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIG9wdGlvbnM6ICc9JyxcbiAgICAgICAgZm9ybTogJz0nLFxuICAgICAgICB0b3RhbDogJz0nLFxuICAgICAgICBzdWNjZXNzOiAnPSdcbiAgICAgIH0sXG4gICAgICBjb250cm9sbGVyOiBDb250cm9sbGVyLFxuICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuICAgIH07XG5cbiAgICByZXR1cm4gZGlyZWN0aXZlO1xuICB9XG5cbiAgQ29udHJvbGxlci4kaW5qZWN0ID0gW1xuICAgICdfJyxcbiAgICAnYnJhaW50cmVlJyxcbiAgICAnJHNjb3BlJyxcbiAgICAnJHJvb3RTY29wZScsXG4gICAgJyRodHRwJyxcbiAgICAnJHEnLFxuICAgICdEYXRhU2VydmljZSdcbiAgXTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gQ29udHJvbGxlcihfLCBicmFpbnRyZWUsICRzY29wZSwgJHJvb3RTY29wZSwgJGh0dHAsICRxLCBEYXRhU2VydmljZSkge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgdm0uY2hlY2tvdXQgPSB7fTtcbiAgICB2bS5sb2FkaW5nID0gZmFsc2U7XG4gICAgdm0uYXV0aG9yaXphdGlvbiA9IGZhbHNlO1xuICAgIGFjdGl2YXRlKCk7XG5cbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgIERhdGFTZXJ2aWNlLmdldENsaWVudFRva2VuKCkudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKTtcbiAgICAgICAgc2V0dXBHYXRld2F5KHJlcy5jbGllbnRUb2tlbik7XG4gICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0dXBHYXRld2F5KHRva2VuKSB7XG4gICAgICBicmFpbnRyZWUuc2V0dXAodG9rZW4sICdjdXN0b20nLCB7XG4gICAgICAgIHBheXBhbDoge1xuICAgICAgICAgIGNvbnRhaW5lcjogJ3BheXBhbC1jb250YWluZXInLFxuICAgICAgICAgIHNpbmdsZVVzZTogdHJ1ZSxcbiAgICAgICAgICBhbW91bnQ6ICcwJyxcbiAgICAgICAgICBjdXJyZW5jeTogJ1VTRCcsXG4gICAgICAgICAgbG9jYWxlOiAnZW5fdXMnLFxuICAgICAgICAgIGVuYWJsZVNoaXBwaW5nQWRkcmVzczogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgb25QYXltZW50TWV0aG9kUmVjZWl2ZWQ6IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgIGRvU29tZXRoaW5nV2l0aFRoZU5vbmNlKG9iai5ub25jZSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uUmVhZHk6IGZ1bmN0aW9uKGludGVncmF0aW9uKSB7XG4gICAgICAgICAgdm0uY2hlY2tvdXQgPSBpbnRlZ3JhdGlvbjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdm0ubGF1bmNoID0gZnVuY3Rpb24oKSB7XG4gICAgICB2bS5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgIHZtLmZvcm0uYW1vdW50ID0gdm0udG90YWw7XG4gICAgICBEYXRhU2VydmljZS5jcmVhdGVDYW1wYWlnbih2bS5mb3JtKS50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgICAgICB2bS5zdWNjZXNzID0gdHJ1ZTtcbiAgICAgICAgJHJvb3RTY29wZS5maWxsID0gdHJ1ZTtcbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICB2bS5zdWNjZXNzID0gZmFsc2U7XG4gICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICB2bS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkb1NvbWV0aGluZ1dpdGhUaGVOb25jZShyZXMpIHtcbiAgICAgIGNvbnNvbGUubG9nKHJlcyk7XG5cbiAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZtLmZvcm0ubm9uY2UgPSByZXM7XG4gICAgICAgIHZtLmF1dGhvcml6YXRpb24gPSB0cnVlO1xuICAgICAgfSlcblxuICAgIH1cblxuXG4gICAgLy8gLy8gV2hlbiB5b3UgYXJlIHJlYWR5IHRvIHRlYXIgZG93biB5b3VyIGludGVncmF0aW9uXG4gICAgLy8gY2hlY2tvdXQudGVhcmRvd24oZnVuY3Rpb24oKSB7XG4gICAgLy8gICBjaGVja291dCA9IG51bGw7XG4gICAgLy8gICAvLyBicmFpbnRyZWUuc2V0dXAgY2FuIHNhZmVseSBiZSBydW4gYWdhaW4hXG4gICAgLy8gfSk7XG5cbiAgICAkc2NvcGUuJHdhdGNoKCd2bS5mb3JtJywgZnVuY3Rpb24oYywgbykge1xuICAgICAgaWYgKCFjKSByZXR1cm47XG5cbiAgICAgIGNvbnNvbGUubG9nKGMpO1xuICAgIH0pO1xuXG4gICAgJHNjb3BlLiR3YXRjaCgndm0uY2hlY2tvdXQnLCBmdW5jdGlvbihjLCBvKSB7XG4gICAgICBpZiAoIWMpIHJldHVybjtcblxuICAgICAgY29uc29sZS5sb2coYyk7XG4gICAgfSk7XG4gIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgIC5kaXJlY3RpdmUoJ2FkYk9yZGVyc0N1c3RvbWVyJywgZGlyZWN0aXZlKTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gZGlyZWN0aXZlKCkge1xuICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgIHRlbXBsYXRlVXJsOiAnYXNzZXRzL3ZpZXdzL29yZGVycy9vcmRlcnMuY3VzdG9tZXIuaHRtbCcsXG4gICAgICBzY29wZToge1xuICAgICAgICBvcHRpb25zOiAnPScsXG4gICAgICAgIGZvcm06ICc9JyxcbiAgICAgICAgdG90YWw6ICc9JyxcbiAgICAgICAgY29udHJvbDogJz0nXG4gICAgICB9LFxuICAgICAgY29udHJvbGxlcjogQ29udHJvbGxlcixcbiAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcbiAgICB9O1xuXG4gICAgcmV0dXJuIGRpcmVjdGl2ZTtcbiAgfVxuXG4gIENvbnRyb2xsZXIuJGluamVjdCA9IFsnJGh0dHAnLCAnJHEnLCAnJHJvb3RTY29wZScsICckbWREaWFsb2cnLCAnQXV0aCddO1xuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiBDb250cm9sbGVyKCRodHRwLCAkcSwgJHJvb3RTY29wZSwgJG1kRGlhbG9nLCBBdXRoKSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICB2bS5uZXh0VGFiID0gbmV4dFRhYjtcblxuICAgIGZ1bmN0aW9uIG5leHRUYWIoKSB7XG4gICAgICB2bS5jb250cm9sLnRhYnNbM10udmFsaWQgPSB0cnVlO1xuICAgICAgdm0uY29udHJvbC5zZWxlY3RlZFRhYiArPSAxO1xuICAgIH1cblxuICAgIHZtLmF1dGggPSBmdW5jdGlvbigpIHtcbiAgICAgIHZtLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgQXV0aC5sb2dpbih2bS5mb3JtLmF1dGgpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICAgIG5leHRUYWIoKTtcbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSkuZmluYWxseShmdW5jdGlvbigpIHtcbiAgICAgICAgdm0ubG9hZGluZyA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZtLnNpZ251cCA9IGZ1bmN0aW9uKCkge1xuICAgICAgJG1kRGlhbG9nLnNob3coe1xuICAgICAgICBmdWxsc2NyZWVuOiB0cnVlLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdTaWdudXBDb250cm9sbGVyJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdhc3NldHMvdmlld3MvbW9kYWwvc2lnbnVwLmh0bWwnLFxuICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIG5leHRUYWIoKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgLmNvbnRyb2xsZXIoJ09yZGVyc0NvbnRyb2xsZXInLCBDb250cm9sbGVyKTtcblxuICBDb250cm9sbGVyLiRpbmplY3QgPSBbXG4gICAgJ18nLFxuICAgICckc2NvcGUnLFxuICAgICckcm9vdFNjb3BlJyxcbiAgICAnJG1kRGlhbG9nJyxcbiAgICAnJG1kVG9hc3QnLFxuICAgICdEYXRhU2VydmljZSdcbiAgXTtcblxuICBmdW5jdGlvbiBDb250cm9sbGVyKF8sICRzY29wZSwgJHJvb3RTY29wZSwgJG1kRGlhbG9nLCAkbWRUb2FzdCwgRGF0YVNlcnZpY2UpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgdm0ub3BlbkltYWdlID0gb3BlbkltYWdlO1xuICAgIHZtLmFkZCA9IGFkZDtcbiAgICB2bS50b3RhbCA9IDA7XG4gICAgdm0uc3VjY2VzcyA9IGZhbHNlO1xuXG4gICAgdm0uY29udHJvbCA9IHtcbiAgICAgIHNlbGVjdGVkVGFiOiAwLFxuICAgICAgdGFiczogW3tcbiAgICAgICAgdmFsaWQ6IHRydWUsXG4gICAgICAgIHNob3c6IHRydWVcbiAgICAgIH0sIHtcbiAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICBzaG93OiB0cnVlLFxuICAgICAgfSwge1xuICAgICAgICB2YWxpZDogZmFsc2UsXG4gICAgICAgIHNob3c6IHRydWVcbiAgICAgIH0sIHtcbiAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICBzaG93OiB0cnVlXG4gICAgICB9XVxuICAgIH07XG5cbiAgICB2bS5vcHRpb25zID0ge1xuICAgICAgdGFyZ2V0OiB7XG4gICAgICAgIGRpc3BsYXk6IFtdLFxuICAgICAgICBtZWRpYTogW10sXG4gICAgICAgIGltcHJlc3Npb25zVW5pdHM6IFtdLFxuICAgICAgICBpbXByZXNzaW9uc1RpbWU6IFtdLFxuICAgICAgICBkaXN0YW5jZTogW10sXG4gICAgICAgIGFnZTogW10sXG4gICAgICAgIGdlbmRlcjogW11cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdm0uZm9ybSA9IHtcbiAgICAgIG1lZGlhOiB7fSxcbiAgICAgIGJhbm5lcjoge1xuICAgICAgICBkZXNjcmlwdGlvbjogbnVsbCxcbiAgICAgICAgdXJsOiBudWxsLFxuICAgICAgICB3ZWJzaXRlOiBudWxsLFxuICAgICAgICBhcHA6IG51bGwsXG4gICAgICB9LFxuICAgICAgbWFya2VyOiB7fSxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgZGlzcGxheToge30sXG4gICAgICAgIGltcHJlc3Npb25zOiB7fSxcbiAgICAgICAgZGlzdGFuY2U6IHt9LFxuICAgICAgICBhZ2U6IHt9LFxuICAgICAgICBnZW5kZXI6IHt9LFxuICAgICAgICBpbnRlcmVzdHM6IHt9XG4gICAgICB9LFxuICAgICAgY3VzdG9tZXI6IHt9LFxuICAgICAgYXV0aDoge31cbiAgICB9O1xuXG4gICAgYWN0aXZhdGUoKTtcblxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgRGF0YVNlcnZpY2UuZ2V0T3B0aW9ucygpLnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXNwKTtcbiAgICAgICAgdm0ub3B0aW9ucy50YXJnZXQgPSBkb19tZXJnZShyZXNwKTtcbiAgICAgICAgY29uc29sZS5sb2codm0uZm9ybSk7XG4gICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pXG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBkb19tZXJnZShyb2xlcykge1xuXG4gICAgICAvLyBDdXN0b20gbWVyZ2UgZnVuY3Rpb24gT1JzIHRvZ2V0aGVyIG5vbi1vYmplY3QgdmFsdWVzLCByZWN1cnNpdmVseVxuICAgICAgLy8gY2FsbHMgaXRzZWxmIG9uIE9iamVjdHMuXG4gICAgICB2YXIgbWVyZ2VyID0gZnVuY3Rpb24oYSwgYikge1xuICAgICAgICBpZiAoXy5pc09iamVjdChhKSkge1xuICAgICAgICAgIHJldHVybiBfLm1lcmdlKHt9LCBhLCBiLCBtZXJnZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBhIHx8IGI7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIC8vIEFsbG93IHJvbGVzIHRvIGJlIHBhc3NlZCB0byBfLm1lcmdlIGFzIGFuIGFycmF5IG9mIGFyYml0cmFyeSBsZW5ndGhcbiAgICAgIHZhciBhcmdzID0gXy5mbGF0dGVuKFt7fSwgcm9sZXMsIG1lcmdlcl0pO1xuICAgICAgcmV0dXJuIF8ubWVyZ2UuYXBwbHkoXywgYXJncyk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBvcGVuSW1hZ2UoJGV2ZW50LCBpbWFnZSkge1xuICAgICAgJG1kRGlhbG9nLnNob3coe1xuICAgICAgICBmdWxsc2NyZWVuOiB0cnVlLFxuICAgICAgICB0YXJnZXRFdmVudDogJGV2ZW50LFxuICAgICAgICBjbGlja091dHNpZGVUb0Nsb3NlOiB0cnVlLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC9zaGFyZWQvbGF5b3V0L2ltYWdlTW9kYWwuaHRtbCcsXG4gICAgICAgIGxvY2Fsczoge1xuICAgICAgICAgIGltYWdlOiBpbWFnZVxuICAgICAgICB9LFxuICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICdpbWFnZScsIGZ1bmN0aW9uKHNjb3BlLCBpbWFnZSkge1xuICAgICAgICAgIHNjb3BlLmltYWdlID0gaW1hZ2U7XG4gICAgICAgIH1dXG4gICAgICB9KTtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGFkZCgpIHtcbiAgICAgICRtZERpYWxvZy5zaG93KHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvY29tcG9uZW50cy9hZC9hZHZlcnRpc2VtZW50TW9kYWwuaHRtbCcsXG4gICAgICAgIGNsaWNrT3V0c2lkZVRvQ2xvc2U6IHRydWUsXG4gICAgICAgIGZ1bGxzY3JlZW46IHRydWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNob3dWYWxpZE5vdGlmaWNhdGlvbigpIHtcbiAgICAgICRtZFRvYXN0LnNob3coXG4gICAgICAgICRtZFRvYXN0LnNpbXBsZSgpXG4gICAgICAgIC50ZXh0Q29udGVudCgnQXdlc29tZSwgeW91IGNhbiBub3cgZ28gdG8gbmV4dCBzdGVwIScpXG4gICAgICAgIC5wb3NpdGlvbignYm90dG9tIHJpZ2h0JylcbiAgICAgICAgLmhpZGVEZWxheSgzMDAwKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZUJhbm5lcihkaXNwbGF5KSB7XG4gICAgICB2YXIgY2hlY2sgPSBmYWxzZTtcbiAgICAgIGlmIChkaXNwbGF5ID09PSAnYm90aCcpIHtcbiAgICAgICAgY2hlY2sgPSBfLmlzRW1wdHkoXy5waWNrQnkodm0uZm9ybS5iYW5uZXIsIF8uaXNOdWxsKSkgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgIHJldHVybiBjaGVjaztcbiAgICAgIH1cblxuICAgICAgY2hlY2sgPSAodm0uZm9ybS5iYW5uZXIuZGVzY3JpcHRpb24gJiYgdm0uZm9ybS5iYW5uZXIudXJsICYmIHZtLmZvcm0uYmFubmVyW2Rpc3BsYXldKSA/IHRydWUgOiBmYWxzZTtcbiAgICAgIHJldHVybiBjaGVjaztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZU1hcCgpIHtcbiAgICAgIHJldHVybiAhXy5pc0VtcHR5KHZtLmZvcm0ubWFya2VyKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZVN0ZXBaZXJvKCkge1xuICAgICAgdmFyIG1lZGlhID0gdm0uZm9ybS5tZWRpYS5kaXNwbGF5XG4gICAgICB2YXIgZGlzcGxheSA9IHZtLmZvcm0ub3B0aW9ucy5kaXNwbGF5LmRpc3BsYXk7XG5cbiAgICAgIHN3aXRjaCAoZGlzcGxheSkge1xuICAgICAgICBjYXNlICdiYW5uZXInOlxuICAgICAgICAgIHJldHVybiB2YWxpZGF0ZUJhbm5lcihtZWRpYSlcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbWFwJzpcbiAgICAgICAgICByZXR1cm4gdmFsaWRhdGVNYXAoKVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuXG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmFsaWRhdGVGb3JtKCkge1xuICAgICAgc3dpdGNoICh2bS5jb250cm9sLnNlbGVjdGVkVGFiKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZiAodm0uZm9ybS5tZWRpYS5oYXNPd25Qcm9wZXJ0eSgnaWQnKSAmJiB2bS5mb3JtLm9wdGlvbnMuZGlzcGxheS5oYXNPd25Qcm9wZXJ0eSgnaWQnKSAmJiB2YWxpZGF0ZVN0ZXBaZXJvKCkpIHtcbiAgICAgICAgICAgICAgdm0uY29udHJvbC50YWJzWzFdLnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgc2hvd1ZhbGlkTm90aWZpY2F0aW9uKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2bS5jb250cm9sLnRhYnNbMV0udmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlmICh2bS5mb3JtLm9wdGlvbnMuaW1wcmVzc2lvbnMuaGFzT3duUHJvcGVydHkoJ2lkJykpIHtcbiAgICAgICAgICAgICAgdm0uY29udHJvbC50YWJzWzJdLnZhbGlkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICBpZiAoJHJvb3RTY29wZS51c2VyKSB7XG4gICAgICAgICAgICAgICAgdm0uY29udHJvbC50YWJzWzNdLnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzaG93VmFsaWROb3RpZmljYXRpb24oKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZtLmNvbnRyb2wudGFic1syXS52YWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGNvbnNvbGUubG9nKHZtLmNvbnRyb2wuc2VsZWN0ZWRUYWIpO1xuICAgICAgfVxuICAgIH1cblxuICAgICRzY29wZS4kd2F0Y2goJ3ZtLmZvcm0nLCBmdW5jdGlvbihjLCBvKSB7XG4gICAgICBjb25zb2xlLmxvZyhjKTtcblxuICAgICAgdmFsaWRhdGVGb3JtKCk7XG5cbiAgICAgIHZtLnRvdGFsID0gYy5tZWRpYS5oYXNPd25Qcm9wZXJ0eSgnZmVlJykgPyBjLm1lZGlhLmZlZSA6IDA7XG5cbiAgICAgIF8ubWFwKGMub3B0aW9ucywgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBpZiAoaXRlbS5oYXNPd25Qcm9wZXJ0eSgnZmVlJykpIHtcbiAgICAgICAgICB2bS50b3RhbCArPSB2bS50b3RhbCAqIGl0ZW0uZmVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGl0ZW0uaGFzT3duUHJvcGVydHkoJ2Rpc2NvdW50JykpIHtcbiAgICAgICAgICB2bS50b3RhbCAtPSB2bS50b3RhbCAqIGl0ZW0uZGlzY291bnQ7XG4gICAgICAgIH1cblxuICAgICAgfSlcbiAgICB9LCB0cnVlKVxuXG4gIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgIC5kaXJlY3RpdmUoJ2FkYk9yZGVyc1Jlc3VtZScsIGRpcmVjdGl2ZSk7XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIGRpcmVjdGl2ZSgpIHtcbiAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICB0ZW1wbGF0ZVVybDogJ2Fzc2V0cy92aWV3cy9vcmRlcnMvb3JkZXJzLnJlc3VtZS5odG1sJyxcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIG9wdGlvbnM6ICc9JyxcbiAgICAgICAgZm9ybTogJz0nLFxuICAgICAgICB0b3RhbDogJz0nLFxuICAgICAgfSxcbiAgICAgIGxpbms6IGxpbmtGdW5jLFxuICAgICAgY29udHJvbGxlcjogQ29udHJvbGxlcixcbiAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcbiAgICB9O1xuXG4gICAgcmV0dXJuIGRpcmVjdGl2ZTtcblxuICAgIGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuXG4gICAgfVxuICB9XG5cbiAgQ29udHJvbGxlci4kaW5qZWN0ID0gWydfJywgJyRodHRwJywgJyRxJ107XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIENvbnRyb2xsZXIoXywgJGh0dHAsICRxKSB7XG4gICAgdmFyIHZtID0gdGhpcztcblxuICAgIGFjdGl2YXRlKCk7XG5cbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcblxuICAgIH1cblxuICAgIHZtLmZvcm1hdEltcHJlc3Npb25zID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgIGlmICghdm0uZm9ybS5pbXByZXNzaW9uVHlwZSB8fCAhdm0uZm9ybS5vcHRpb25zLmltcHJlc3Npb25zLmhhc093blByb3BlcnR5KCdpZCcpKSByZXR1cm47XG5cbiAgICAgIHZhciB0eXBlcyA9IHtcbiAgICAgICAgaW1wcmVzc2lvbnNVbml0czogXy5qb2luKFt2bS5mb3JtLm9wdGlvbnMuaW1wcmVzc2lvbnMucXVhbnRpdHksIHZtLmZvcm0ub3B0aW9ucy5pbXByZXNzaW9ucy50eXBlXSwgXCIgXCIpLFxuICAgICAgICBpbXByZXNzaW9uc1RpbWU6IF8uam9pbihbdm0uZm9ybS5vcHRpb25zLmltcHJlc3Npb25zLnRpbWUsIHZtLmZvcm0ub3B0aW9ucy5pbXByZXNzaW9ucy5wZXJpb2RdLCBcIiBcIiksXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0eXBlc1t2bS5mb3JtLmltcHJlc3Npb25UeXBlXTtcbiAgICB9XG5cbiAgICB2bS5mb3JtYXRUYXJnZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB0YXJnZXQgPSB7XG4gICAgICAgIGRpc3RhbmNlOiAge1xuICAgICAgICAgIHZhbHVlOiB2bS5mb3JtLm9wdGlvbnMuZGlzdGFuY2UsXG4gICAgICAgICAgcmVuZGVyOiBfLmpvaW4oWydEaXN0YW5jZTonLCAodm0uZm9ybS5vcHRpb25zLmRpc3RhbmNlLmRpc3RhbmNlIHx8ICcnKSwgJ0ttJ10sICcgJylcbiAgICAgICAgfSxcbiAgICAgICAgYWdlOiB7XG4gICAgICAgICAgdmFsdWU6IHZtLmZvcm0ub3B0aW9ucy5hZ2UsXG4gICAgICAgICAgcmVuZGVyOiBfLmpvaW4oWydBZ2UgYmV0d2VlbjonLCBfLmpvaW4odm0uZm9ybS5vcHRpb25zLmFnZS5yYW5nZSwgJy0nKSBdLCAnICcpXG4gICAgICAgIH0sXG4gICAgICAgIGdlbmRlcjogIHtcbiAgICAgICAgICB2YWx1ZTogdm0uZm9ybS5vcHRpb25zLmdlbmRlcixcbiAgICAgICAgICByZW5kZXI6IF8uam9pbihbJ0dlbmRlcjonLCB2bS5mb3JtLm9wdGlvbnMuZ2VuZGVyLmdlbmRlciBdLCAnICcpXG4gICAgICAgIH0sXG4gICAgICAgIGludGVyZXN0czoge1xuICAgICAgICAgIHZhbHVlOiB2bS5mb3JtLm9wdGlvbnMuaW50ZXJlc3RzLFxuICAgICAgICAgIHJlbmRlcjogXy5qb2luKFsnSW50ZXJlc3RzOicsIHZtLmZvcm0ub3B0aW9ucy5pbnRlcmVzdHMucXVhbnRpdHkgXSwgJyAnKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBzZWxlY3RlZCA9IF8ucGlja0J5KHRhcmdldCwgZnVuY3Rpb24oaSkge1xuICAgICAgICByZXR1cm4gaS52YWx1ZS5oYXNPd25Qcm9wZXJ0eSgnaWQnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoXy5pc0VtcHR5KHNlbGVjdGVkKSkgcmV0dXJuICcnO1xuXG4gICAgICByZXR1cm4gXy5qb2luKFsnVGFyZ2V0OiAnLCBfLm1hcChPYmplY3Qua2V5cyhzZWxlY3RlZCksIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0W2tleV0ucmVuZGVyO1xuICAgICAgfSldLCAnJyk7XG5cbiAgICB9XG5cblxuICAgIHZtLmZvcm1hdFJlc3VtZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHJlc3VtZTtcbiAgICB9XG4gIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgIC5kaXJlY3RpdmUoJ2FkYkRpc3BsYXlDaG9vc2VyJywgZGlyZWN0aXZlKTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gZGlyZWN0aXZlKCkge1xuICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgIHRlbXBsYXRlVXJsOiAnYXNzZXRzL3ZpZXdzL29yZGVycy9vcmRlcnMuZGlzcGxheS5odG1sJyxcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIG9wdGlvbnM6ICc9JyxcbiAgICAgICAgZm9ybTogJz0nLFxuICAgICAgICB0b3RhbDogJz0nXG4gICAgICB9LFxuICAgICAgY29udHJvbGxlcjogQ29udHJvbGxlcixcbiAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcbiAgICB9O1xuXG4gICAgcmV0dXJuIGRpcmVjdGl2ZTtcbiAgfVxuXG4gIENvbnRyb2xsZXIuJGluamVjdCA9IFsndWlHbWFwR29vZ2xlTWFwQXBpJyxcbiAgICAndWlHbWFwSXNSZWFkeScsXG4gICAgJyRxJyxcbiAgICAnJHNjb3BlJyxcbiAgICAnJHRpbWVvdXQnLFxuICAgICdEcm9wem9uZVNlcnZpY2UnXG4gIF07XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIENvbnRyb2xsZXIodWlHbWFwR29vZ2xlTWFwQXBpLCB1aUdtYXBJc1JlYWR5LCAkcSwgJHNjb3BlLCAkdGltZW91dCwgRHJvcHpvbmVTZXJ2aWNlKSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICB2YXIgUGxhY2VzID0gbnVsbDtcbiAgICB2YXIgRGlyZWN0aW9uUmVuZGVyZXIgPSBudWxsO1xuICAgIHZhciBEaXJlY3Rpb25zU2VydmljZSA9IG51bGw7XG4gICAgdmFyIFBsYWNlc0F1dG9jb21wbGV0ZSA9IG51bGw7XG4gICAgdm0ubWFya2VyQ29uZmlybWVkID0gZmFsc2U7XG4gICAgdm0ucGxhY2VzUmVhZHkgPSBmYWxzZTtcblxuICAgIHZtLmNvbnRyb2wgPSB7XG4gICAgICB1cGxvYWRpbmc6IGZhbHNlXG4gICAgfVxuICAgIHZtLm1hcCA9IHtcbiAgICAgIGNlbnRlcjoge1xuICAgICAgICBsYXRpdHVkZTogNDUuNTAxNzQ1MDI4MTY2NjcsXG4gICAgICAgIGxvbmdpdHVkZTogLTczLjU3MDM4ODE4Mjk5NzdcbiAgICAgIH0sXG4gICAgICB6b29tOiAxNCxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgc2Nyb2xsd2hlZWw6IHRydWVcbiAgICAgIH0sXG4gICAgICBtYXBNYXJrZXI6IHRydWUsXG4gICAgICBkaXNhYmxlRGVmYXVsdFVJOiB0cnVlLFxuICAgICAgY29udHJvbDoge30sXG4gICAgICBldmVudHM6IHtcbiAgICAgICAgY2xpY2s6IGNsaWNrTWFwLFxuICAgICAgICBpZGxlOiBib3VuZHNDaGFuZ2VkXG4gICAgICB9XG4gICAgfTtcblxuICAgIHZtLmluZm8gPSB7XG4gICAgICBuYW1lOiAnJyxcbiAgICAgIGFkZHJlc3M6ICcnLFxuICAgICAgaWNvbjogJycsXG4gICAgfVxuXG4gICAgdm0ubWFya2VyID0ge1xuICAgICAgaWQ6IDAsXG4gICAgICBsb2NhdGlvbjoge1xuICAgICAgICBsYXRpdHVkZTogNDUuNTAxNzQ1MDI4MTY2NjcsXG4gICAgICAgIGxvbmdpdHVkZTogLTczLjU3MDM4ODE4Mjk5NzdcbiAgICAgIH0sXG4gICAgICBzaG93OiBmYWxzZSxcbiAgICB9XG5cbiAgICB2bS5kZXNrdG9wRHJvcHpvbmUgPSBEcm9wem9uZVNlcnZpY2UuY3JlYXRlKCdkZXNrdG9wJywgZnVuY3Rpb24oZmlsZSwgcmVzcG9uc2UpIHtcbiAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLnNlY3VyZV91cmwpO1xuICAgICAgICB2bS5mb3JtLmJhbm5lci53ZWJzaXRlID0gcmVzcG9uc2Uuc2VjdXJlX3VybDtcbiAgICAgICAgdm0uY29udHJvbC51cGxvYWRpbmcgPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgdm0uY29udHJvbC51cGxvYWRpbmcgPSB0cnVlO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB2bS5tb2JpbGVEcm9wem9uZSA9IERyb3B6b25lU2VydmljZS5jcmVhdGUoJ21vYmlsZScsIGZ1bmN0aW9uKGZpbGUsIHJlc3BvbnNlKSB7XG4gICAgICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5zZWN1cmVfdXJsKTtcbiAgICAgICAgdm0uZm9ybS5iYW5uZXIuYXBwID0gcmVzcG9uc2Uuc2VjdXJlX3VybDtcbiAgICAgICAgdm0uY29udHJvbC51cGxvYWRpbmcgPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgdm0uY29udHJvbC51cGxvYWRpbmcgPSB0cnVlO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBhY3RpdmF0ZSgpO1xuXG4gICAgLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICBjb25zb2xlLmxvZygnYWN0aXZhdGUnKTtcbiAgICAgIHByZXBhcmVNYXAoKTtcbiAgICB9XG5cbiAgICB2bS5jbGlja01hcmtlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coJ2NsaWNrJyk7XG4gICAgICB2bS5tYXJrZXIuc2hvdyA9ICF2bS5tYXJrZXIuc2hvdztcbiAgICAgICRzY29wZS4kYXBwbHkoKTtcblxuICAgIH1cblxuICAgIHZtLmF1dG9jb21wbGV0ZUFkZHJlc3MgPSBmdW5jdGlvbihhZGRyZXNzKSB7XG5cbiAgICAgIHZtLm1hcmtlckNvbmZpcm1lZCA9IGZhbHNlO1xuXG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICBQbGFjZXNBdXRvY29tcGxldGUuZ2V0UXVlcnlQcmVkaWN0aW9ucyh7XG4gICAgICAgIGlucHV0OiBhZGRyZXNzXG4gICAgICB9LCBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSA/IF8uZmlsdGVyKGRhdGEsICdwbGFjZV9pZCcpIDogW10pO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH07XG5cbiAgICB2bS5nZXRQbGFjZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2codm0uaW5mby5wbGFjZSk7XG5cbiAgICAgIGlmICghdm0uaW5mby5wbGFjZSkgcmV0dXJuO1xuXG4gICAgICBQbGFjZXMuZ2V0RGV0YWlscyh7XG4gICAgICAgIHBsYWNlSWQ6IHZtLmluZm8ucGxhY2UucGxhY2VfaWRcbiAgICAgIH0sIGZ1bmN0aW9uKHBsYWNlLCBzdGF0dXMpIHtcbiAgICAgICAgY29uc29sZS5sb2cocGxhY2UsIHN0YXR1cyk7XG5cbiAgICAgICAgdm0ubWFya2VyID0ge1xuICAgICAgICAgIGlkOiBEYXRlLm5vdygpLFxuICAgICAgICAgIGFkZHJlc3M6IHBsYWNlLmZvcm1hdHRlZF9hZGRyZXNzLFxuICAgICAgICAgIG5hbWU6IHZtLmluZm8ubmFtZSxcbiAgICAgICAgICBsb2NhdGlvbjoge1xuICAgICAgICAgICAgbGF0aXR1ZGU6IHBhcnNlRmxvYXQocGxhY2UuZ2VvbWV0cnkubG9jYXRpb24ubGF0KCkpLFxuICAgICAgICAgICAgbG9uZ2l0dWRlOiBwYXJzZUZsb2F0KHBsYWNlLmdlb21ldHJ5LmxvY2F0aW9uLmxuZygpKSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNob3c6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgY2VudGVyTWFwKHZtLm1hcC5pbnN0YW5jZSwgdm0ubWFya2VyLmxvY2F0aW9uLCBudWxsLCB0cnVlKTtcbiAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZtLmNvbmZpcm1NYXJrZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmKCF2bS5pbmZvLm5hbWUpIHJldHVybjtcblxuICAgICAgdm0uZm9ybS5tYXJrZXIgPSB7XG4gICAgICAgIGlkOiB2bS5tYXJrZXIuaWQsXG4gICAgICAgIGFkZHJlc3M6IHZtLm1hcmtlci5hZGRyZXNzLFxuICAgICAgICBuYW1lOiB2bS5pbmZvLm5hbWUsXG4gICAgICAgIGxvY2F0aW9uOiB2bS5tYXJrZXIubG9jYXRpb24sXG4gICAgICAgIHNob3c6IHRydWVcbiAgICAgIH1cbiAgICAgIHZtLm1hcmtlckNvbmZpcm1lZCA9IHRydWU7XG4gICAgICBjb25zb2xlLmxvZyh2bS5mb3JtLm1hcmtlcik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2VudGVyTWFwKG1hcCwgbG9jYXRpb24sIG9mZnNldCwgc2Nyb2xsKSB7XG4gICAgICBjb25zb2xlLmxvZyhsb2NhdGlvbik7XG4gICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgbWFwLnBhblRvKG5ldyBnb29nbGUubWFwcy5MYXRMbmcobG9jYXRpb24ubGF0aXR1ZGUsIGxvY2F0aW9uLmxvbmdpdHVkZSkpO1xuICAgICAgICBpZiAob2Zmc2V0KSBtYXAucGFuQnkoMCwgLTIwMCk7XG4gICAgICB9LCAxMDApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsaWNrTWFwKG1hcCwgZXZlbnROYW1lLCBvcmlnaW5hbEV2ZW50QXJncykge1xuICAgICAgdmFyIGUgPSBvcmlnaW5hbEV2ZW50QXJnc1swXTtcbiAgICAgIHZhciBsYXQgPSBlLmxhdExuZy5sYXQoKSxcbiAgICAgICAgbG9uID0gZS5sYXRMbmcubG5nKCk7XG4gICAgICB2bS5tYXJrZXIgPSB7XG4gICAgICAgIGlkOiBEYXRlLm5vdygpLFxuICAgICAgICBsb2NhdGlvbjoge1xuICAgICAgICAgIGxhdGl0dWRlOiBsYXQsXG4gICAgICAgICAgbG9uZ2l0dWRlOiBsb25cbiAgICAgICAgfSxcbiAgICAgICAgc2hvdzogZmFsc2VcbiAgICAgIH07XG4gICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYm91bmRzQ2hhbmdlZCgpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdib3VuZHMgY2hhbmdlZCcpO1xuICAgICAgY29uc29sZS5sb2codm0ucGxhY2VzUmVhZHkpO1xuXG4gICAgICBpZiAoIXZtLm1hcC5pbnN0YW5jZSkge1xuICAgICAgICBwcmVwYXJlTWFwKCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJlcGFyZU1hcCgpIHtcbiAgICAgICRxLmFsbChbdWlHbWFwR29vZ2xlTWFwQXBpLCB1aUdtYXBJc1JlYWR5LnByb21pc2UoMSldKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBtYXAgPSByZXNwb25zZVswXTtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gcmVzcG9uc2VbMV1bMF0ubWFwO1xuXG4gICAgICAgIHZtLndpbmRvdyA9IHtcbiAgICAgICAgICBwaXhlbE9mZnNldDogbmV3IG1hcC5TaXplKDAsIC00MCksXG4gICAgICAgICAgY2xvc2VDbGljazogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2bS5tYXJrZXIuc2hvdyA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBQbGFjZXNBdXRvY29tcGxldGUgPSBuZXcgbWFwLnBsYWNlcy5BdXRvY29tcGxldGVTZXJ2aWNlKCk7XG4gICAgICAgIERpcmVjdGlvbnNTZXJ2aWNlID0gbmV3IG1hcC5EaXJlY3Rpb25zU2VydmljZSgpO1xuICAgICAgICBEaXJlY3Rpb25SZW5kZXJlciA9IG5ldyBtYXAuRGlyZWN0aW9uc1JlbmRlcmVyKCk7XG4gICAgICAgIHZtLm1hcC5pbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgICAgICBEaXJlY3Rpb25SZW5kZXJlci5zZXRNYXAodm0ubWFwLmluc3RhbmNlKTtcbiAgICAgICAgUGxhY2VzID0gbmV3IG1hcC5wbGFjZXMuUGxhY2VzU2VydmljZSh2bS5tYXAuaW5zdGFuY2UpO1xuICAgICAgICB2bS5wbGFjZXNSZWFkeSA9IHRydWU7XG4gICAgICAgIGNvbnNvbGUubG9nKCdyZWFkeScpO1xuICAgICAgICAvL2dldExvY2F0aW9uKCk7XG5cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldExvY2F0aW9uKCkge1xuICAgICAgaWYgKHZtLmRhdGEubG9jYXRpb24pIHtcbiAgICAgICAgdm0ubG9jYXRpb24gPSB7XG4gICAgICAgICAgbGF0OiBwYXJzZUZsb2F0KHZtLmRhdGEubG9jYXRpb25bMF0pLFxuICAgICAgICAgIGxuZzogcGFyc2VGbG9hdCh2bS5kYXRhLmxvY2F0aW9uWzFdKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vXG4gICAgICAvLyBVdGlsU2VydmljZS5nZXRMb2NhdGlvbigpXG4gICAgICAvLyAgIC50aGVuKGZ1bmN0aW9uKGxvY2F0aW9uKSB7XG4gICAgICAvLyAgICAgdm0ubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgIC8vICAgICAvL2NlbnRlck1hcCh2bS5tYXAuaW5zdGFuY2UsIHZtLmxvY2F0aW9uKTtcbiAgICAgIC8vICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG4gICAgICAvLyAgICAgaWYgKCRyb290U2NvcGUudXNlci5hZGRyZXNzUGxhY2UpXG4gICAgICAvLyAgICAgICBnZXRQbGFjZSgkcm9vdFNjb3BlLnVzZXIuYWRkcmVzc1BsYWNlLnBsYWNlX2lkKTtcbiAgICAgIC8vXG4gICAgICAvLyAgIH0pLmZpbmFsbHkoZnVuY3Rpb24oKSB7XG4gICAgICAvLyAgICAgLy92bS5tYXBWaXNpYmxlID0gdHJ1ZTtcbiAgICAgIC8vICAgICAvL3ZtLmFjdGl2aXRpZXMucHVzaChsb2NhdGlvbk1hcmtlcigpKTtcbiAgICAgIC8vICAgICBjb25zb2xlLmxvZygnbG9jYXRpb24nKTtcbiAgICAgIC8vICAgfSk7XG5cbiAgICB9XG4gIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgIC5mYWN0b3J5KCdBdXRoJywgQXV0aClcbiAgICAuZmFjdG9yeSgnQXV0aEludGVyY2VwdG9yJywgQXV0aEludGVyY2VwdG9yKVxuICAgIC5jb25maWcoZnVuY3Rpb24oJGh0dHBQcm92aWRlcikge1xuICAgICAgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaCgnQXV0aEludGVyY2VwdG9yJyk7XG4gICAgICAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLndpdGhDcmVkZW50aWFscyA9IHRydWU7XG4gICAgfSk7XG5cbiAgQXV0aC4kaW5qZWN0ID0gW1xuICAgICdiYXNlQXBpJyxcbiAgICAnJHdpbmRvdycsXG4gICAgJyRodHRwJyxcbiAgICAnJHEnLFxuICAgICckc3RhdGUnLFxuICAgICckcm9vdFNjb3BlJyxcbiAgICAnJGxvY2Fsc3RvcmFnZSdcbiAgXTtcblxuICBmdW5jdGlvbiBBdXRoKGJhc2VBcGksICR3aW5kb3csICRodHRwLCAkcSwgJHN0YXRlLCAkcm9vdFNjb3BlLCAkbG9jYWxzdG9yYWdlKSB7XG5cbiAgICB2YXIgQXV0aCA9IHtcbiAgICAgIGdldFVzZXI6IGdldFVzZXIsXG4gICAgICB2YWxpZGF0ZTogdmFsaWRhdGUsXG4gICAgICBpc0F1dGhlbnRpY2F0ZWQ6IGlzQXV0aGVudGljYXRlZCxcbiAgICAgIGxvZ2luOiBsb2dpbixcbiAgICAgIGxvZ291dDogbG9nb3V0LFxuICAgICAgcmVnaXN0ZXI6IHJlZ2lzdGVyLFxuICAgICAgZm9yZ290OiBmb3Jnb3QsXG4gICAgICByZXNldDogcmVzZXQsXG4gICAgICBzZXRDcmVkZW50aWFsczogc2V0Q3JlZGVudGlhbHMsXG4gICAgICBjcmVkZW50aWFsQXZhbGlhYmlsaXR5OiBjcmVkZW50aWFsQXZhbGlhYmlsaXR5XG4gICAgfTtcblxuICAgIHJldHVybiBBdXRoO1xuXG4gICAgLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgZnVuY3Rpb24gZ2V0VXNlcigpIHtcbiAgICAgIHJldHVybiAkbG9jYWxzdG9yYWdlLmdldE9iamVjdCgndXNlcicsIG51bGwpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHRva2VuKSB7XG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgJGh0dHAucG9zdChiYXNlQXBpICsgJy9hdXRoL3ZhbGlkYXRlLycgKyB0b2tlbilcbiAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUocmVzcCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5lcnJvcihmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBbbG9naW4gZGVzY3JpcHRpb25dXG4gICAgICogQG1ldGhvZCBsb2dpblxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxvZ2luKGNyZWRlbnRpYWxzKSB7XG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAkaHR0cC5wb3N0KGJhc2VBcGkgKyAnL2F1dGgvbG9naW4nLCBjcmVkZW50aWFscylcbiAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xuXG4gICAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoJ3Rva2VuJykpIHtcblxuICAgICAgICAgICAgJHJvb3RTY29wZS51c2VyID0gYW5ndWxhci5jb3B5KGRhdGEudXNlcik7XG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCdsb2dpbicsIGRhdGEudXNlcik7XG4gICAgICAgICAgICAkbG9jYWxzdG9yYWdlLnNldCgnYWNjZXNzX3Rva2VuJywgZGF0YS50b2tlbik7XG4gICAgICAgICAgICAkbG9jYWxzdG9yYWdlLnNldE9iamVjdCgndXNlcicsIGRhdGEudXNlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuZXJyb3IoZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycik7XG4gICAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBbcmVnaXN0ZXIgZGVzY3JpcHRpb25dXG4gICAgICogQG1ldGhvZCByZWdpc3RlclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlZ2lzdGVyKHBheWxvYWQpIHtcblxuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgJGh0dHAucG9zdChiYXNlQXBpICsgJy9hdXRoL3JlZ2lzdGVyJywgcGF5bG9hZClcbiAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xuICAgICAgICB9KVxuICAgICAgICAuZXJyb3IoZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycik7XG4gICAgICAgIH0pO1xuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBbcmVnaXN0ZXIgZGVzY3JpcHRpb25dXG4gICAgICogQG1ldGhvZCByZXNldFxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc2V0KHRva2VuLCBwYXJhbXMpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICRodHRwLnBvc3QoYmFzZUFwaSArICcvYXV0aC9yZXNldHBhc3N3b3JkLycgKyB0b2tlbiwgcGFyYW1zKVxuICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5lcnJvcihmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFtyZWdpc3RlciBkZXNjcmlwdGlvbl1cbiAgICAgKiBAbWV0aG9kIGZvcmdvdFxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvcmdvdChwYXlsb2FkKSB7XG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAkaHR0cC5wb3N0KGJhc2VBcGkgKyAnL2F1dGgvcmVzZXRQYXNzd29yZFJlcXVlc3QnLCBwYXlsb2FkKVxuICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5lcnJvcihmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFtsb2dvdXQgZGVzY3JpcHRpb25dXG4gICAgICogQG1ldGhvZCBsb2dvdXRcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb2dvdXQoKSB7XG4gICAgICAkbG9jYWxzdG9yYWdlLnJlbW92ZSgndXNlcicpO1xuICAgICAgJGxvY2Fsc3RvcmFnZS5yZW1vdmUoJ2FjY2Vzc190b2tlbicpO1xuICAgICAgJGxvY2Fsc3RvcmFnZS5yZW1vdmUoJ29yaWdpbmFsX3VzZXInKTtcblxuICAgICAgJHJvb3RTY29wZS5pc0F1dGhlbnRpY2F0ZWQgPSBmYWxzZTtcbiAgICAgICRyb290U2NvcGUudXNlciA9IG51bGw7XG4gICAgICAkcm9vdFNjb3BlLnZpZXcgPSAnYXV0aCc7XG4gICAgICAkcm9vdFNjb3BlLmN1cnJlbnRTdGF0ZSA9ICdsb2dpbic7XG4gICAgICAkd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFtzZXRDcmVkZW50aWFscyBkZXNjcmlwdGlvbl1cbiAgICAgKiBAbWV0aG9kIGF1dGhlbnRpY2F0ZVxuICAgICAqIEBwYXJhbSAge1t0eXBlXX0gICAgIHVzZXIgW2Rlc2NyaXB0aW9uXVxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgW2Rlc2NyaXB0aW9uXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldENyZWRlbnRpYWxzKGRhdGEsIGZvcmNlKSB7XG4gICAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eSgndG9rZW4nKSkge1xuICAgICAgICBpZiAoZm9yY2UgfHwgISRsb2NhbHN0b3JhZ2UuZ2V0KCdhY2Nlc3NfdG9rZW4nKSkge1xuICAgICAgICAgICRsb2NhbHN0b3JhZ2Uuc2V0KCdhY2Nlc3NfdG9rZW4nLCBkYXRhLnRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICAkcm9vdFNjb3BlLnVzZXIgPSBkYXRhLnVzZXI7XG4gICAgICAgICRsb2NhbHN0b3JhZ2Uuc2V0T2JqZWN0KCd1c2VyJywgZGF0YS51c2VyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdCYWQgRGF0ZScsIGRhdGEpO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogW2lzQXV0aGVudGljYXRlZCBkZXNjcmlwdGlvbl1cbiAgICAgKiBAbWV0aG9kIGlzQXV0aGVudGljYXRlZFxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59ICAgICAgIFtkZXNjcmlwdGlvbl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWQoKSB7XG4gICAgICByZXR1cm4gJGxvY2Fsc3RvcmFnZS5nZXQoJ2FjY2Vzc190b2tlbicpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogW2NyZWRlbnRpYWxBdmFsaWFiaWxpdHkgZGVzY3JpcHRpb25dXG4gICAgICogQG1ldGhvZCBjcmVkZW50aWFsQXZhbGlhYmlsaXR5XG4gICAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICAgICAgIFtkZXNjcmlwdGlvbl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVkZW50aWFsQXZhbGlhYmlsaXR5KHBheWxvYWQpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICRodHRwLmdldChiYXNlQXBpICsgJy91c2VyL2F2YWlsYWJpbGl0eS8nLCB7XG4gICAgICAgICAgcGFyYW1zOiBwYXlsb2FkXG4gICAgICAgIH0pXG4gICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmVycm9yKGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgIGRlZmVycmVkLnJlamVjdChlcnIpO1xuICAgICAgICB9KTtcbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIFtBdXRoSW50ZXJjZXB0b3IgZGVzY3JpcHRpb25dXG4gICAqIEBtZXRob2QgQXV0aEludGVyY2VwdG9yXG4gICAqL1xuICBmdW5jdGlvbiBBdXRoSW50ZXJjZXB0b3IoJHEsICRsb2NhbHN0b3JhZ2UsICRpbmplY3Rvcikge1xuXG4gICAgdmFyIEF1dGhJbnRlcmNlcHRvciA9IHtcbiAgICAgIHJlcXVlc3Q6IHJlcXVlc3QsXG4gICAgICByZXNwb25zZUVycm9yOiByZXNwb25zZUVycm9yXG4gICAgfTtcblxuICAgIHJldHVybiBBdXRoSW50ZXJjZXB0b3I7XG5cbiAgICBmdW5jdGlvbiByZXF1ZXN0KGNvbmZpZykge1xuXG4gICAgICB2YXIgdG9rZW47XG4gICAgICBpZiAoJGxvY2Fsc3RvcmFnZS5nZXQoJ2FjY2Vzc190b2tlbicpKSB7XG4gICAgICAgIHRva2VuID0gJGxvY2Fsc3RvcmFnZS5nZXQoJ2FjY2Vzc190b2tlbicpO1xuICAgICAgfVxuICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgIGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSAnQmVhcmVyICcgKyB0b2tlbjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb25maWc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzcG9uc2VFcnJvcihyZXNwb25zZSkge1xuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxIHx8IHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAzKSB7XG4gICAgICAgICRsb2NhbHN0b3JhZ2UucmVtb3ZlKCdhY2Nlc3NfdG9rZW4nKTtcbiAgICAgICAgJGluamVjdG9yLmdldCgnJHN0YXRlJykuZ28oJ2xvZ2luJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gJHEucmVqZWN0KHJlc3BvbnNlKTtcbiAgICB9XG5cbiAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgLnNlcnZpY2UoJ0RhdGFTZXJ2aWNlJywgZGF0YVNlcnZpY2UpO1xuXG4gIGRhdGFTZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJywgJyRxJywgJ2Jhc2VBcGknXTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gZGF0YVNlcnZpY2UoJGh0dHAsICRxLCBiYXNlQXBpKSB7XG4gICAgdmFyIGRhdGFTZXJ2aWNlID0ge1xuICAgICAgZ2V0T3B0aW9uczogZ2V0T3B0aW9ucyxcbiAgICAgIGdldENsaWVudFRva2VuIDogZ2V0Q2xpZW50VG9rZW4sXG4gICAgICBjcmVhdGVDYW1wYWlnbjogY3JlYXRlQ2FtcGFpZ25cbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YVNlcnZpY2U7XG5cbiAgICBmdW5jdGlvbiBnZXRPcHRpb25zKCkge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgJGh0dHAoe1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICB1cmw6IGJhc2VBcGkgKyAnL2NhbXBhaWduL29wdGlvbnMvJ1xuICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xuICAgICAgfSkuZXJyb3IoZnVuY3Rpb24gKGVycikge1xuICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRDbGllbnRUb2tlbigpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICRodHRwKHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgdXJsOiBiYXNlQXBpICsgJy9jb21tZXJjZS9jbGllbnRUb2tlbi8nXG4gICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XG4gICAgICB9KS5lcnJvcihmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGRlZmVycmVkLnJlamVjdChlcnIpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gY3JlYXRlQ2FtcGFpZ24ocGF5bG9hZCkge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICRodHRwLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MTMzOC9jYW1wYWlnbi9jcmVhdGUvJywgcGF5bG9hZClcbiAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5lcnJvcihmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9XG5cblxuXG5cblxuICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuc2VydmljZSgnRHJvcHpvbmVTZXJ2aWNlJywgRHJvcHpvbmVTZXJ2aWNlKTtcblxuICB2YXIgVFlQRVMgPSB7XG4gICAgbW9iaWxlOiB7XG4gICAgICB3aWR0aDogNzUwLFxuICAgICAgaGVpZ2h0OiAxMDBcbiAgICB9LFxuICAgIGRlc2t0b3A6IHtcbiAgICAgIHdpZHRoOiA4ODAsXG4gICAgICBoZWlnaHQ6IDExNTZcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gRHJvcHpvbmVTZXJ2aWNlKCkge1xuICAgIHZhciBzZXJ2aWNlID0ge1xuICAgICAgY3JlYXRlOiBjcmVhdGUsXG4gICAgICBjcmVhdGVNdWx0aXBsZTogY3JlYXRlTXVsdGlwbGVcbiAgICB9O1xuXG4gICAgcmV0dXJuIHNlcnZpY2U7XG5cbiAgICBmdW5jdGlvbiBjcmVhdGUodHlwZSwgc3VjY2Vzcywgc2VuZGluZywgcmVtb3ZlZGZpbGUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICB1cmw6ICdodHRwczovL2FwaS5jbG91ZGluYXJ5LmNvbS92MV8xL2Nsb3VkOS9pbWFnZS91cGxvYWQnLFxuICAgICAgICAgIHVwbG9hZE11bHRpcGxlOiBmYWxzZSxcbiAgICAgICAgICBtYXhGaWxlczogMSxcbiAgICAgICAgICBhY2NlcHRlZEZpbGVzOiAnaW1hZ2UvKicsXG4gICAgICAgICAgZGljdERlZmF1bHRNZXNzYWdlOiAnRHJvcCBmaWxlIG9yIGNsaWNrIGhlcmUgdG8gdXBsb2FkJyxcbiAgICAgICAgICBhZGRSZW1vdmVMaW5rczogdHJ1ZSxcbiAgICAgICAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMub24oJ3RodW1ibmFpbCcsIGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgICAgICAgaWYgKGZpbGUud2lkdGggIT09IFRZUEVTW3R5cGVdLndpZHRoIHx8IGZpbGUuaGVpZ2h0ICE9PSBUWVBFU1t0eXBlXS5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBmaWxlLnJlamVjdERpbWVuc2lvbnMoKVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZpbGUuYWNjZXB0RGltZW5zaW9ucygpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFjY2VwdDogZnVuY3Rpb24oZmlsZSwgZG9uZSkge1xuICAgICAgICAgICAgZmlsZS5hY2NlcHREaW1lbnNpb25zID0gZG9uZTtcbiAgICAgICAgICAgIGZpbGUucmVqZWN0RGltZW5zaW9ucyA9IGZ1bmN0aW9uKCkgeyBkb25lKCdJbnZhbGlkIGRpbWVuc2lvbi4nKTsgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGV2ZW50SGFuZGxlcnM6IHtcbiAgICAgICAgICBzZW5kaW5nOiBmdW5jdGlvbihmaWxlLCB4aHIsIGZvcm1EYXRhKSB7XG4gICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2FwaV9rZXknLCA4Mzk5ODgzMzMxNTM1NjcpO1xuICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCd0aW1lc3RhbXAnLCBEYXRlLm5vdygpIC8gMTAwMCB8IDApO1xuICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCd1cGxvYWRfcHJlc2V0JywgJ3NtMmV2NG51Jyk7XG4gICAgICAgICAgICBpZiAoc2VuZGluZykgc2VuZGluZygpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc3VjY2Vzczogc3VjY2VzcyxcbiAgICAgICAgICByZW1vdmVkZmlsZTogcmVtb3ZlZGZpbGVcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVNdWx0aXBsZShtYXhGaWxlcywgc3VjY2Vzcywgc2VuZGluZykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgIHVybDogJ2h0dHBzOi8vYXBpLmNsb3VkaW5hcnkuY29tL3YxXzEvY2xvdWQ5L2ltYWdlL3VwbG9hZCcsXG4gICAgICAgICAgbWF4RmlsZXM6IG1heEZpbGVzLFxuICAgICAgICAgIGFjY2VwdGVkRmlsZXM6ICdpbWFnZS8qJyxcbiAgICAgICAgICBkaWN0RGVmYXVsdE1lc3NhZ2U6ICdEcm9wIGZpbGVzIG9yIGNsaWNrIGhlcmUgdG8gdXBsb2FkJ1xuICAgICAgICB9LFxuICAgICAgICBldmVudEhhbmRsZXJzOiB7XG4gICAgICAgICAgc2VuZGluZzogZnVuY3Rpb24oZmlsZSwgeGhyLCBmb3JtRGF0YSkge1xuICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdhcGlfa2V5JywgODM5OTg4MzMzMTUzNTY3KTtcbiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgndGltZXN0YW1wJywgRGF0ZS5ub3coKSAvIDEwMDAgfCAwKTtcbiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgndXBsb2FkX3ByZXNldCcsICdzbTJldjRudScpO1xuICAgICAgICAgICAgaWYgKHNlbmRpbmcpIHNlbmRpbmcoKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHN1Y2Nlc3M6IHN1Y2Nlc3NcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgLmZhY3RvcnkoJyRsb2NhbHN0b3JhZ2UnLCAkbG9jYWxzdG9yYWdlKTtcblxuICAkbG9jYWxzdG9yYWdlLiRpbmplY3QgPSBbJyR3aW5kb3cnXTtcblxuICBmdW5jdGlvbiAkbG9jYWxzdG9yYWdlKCR3aW5kb3cpIHtcbiAgICB2YXIgc2VydmljZSA9IHtcbiAgICAgIHNldDogc2V0LFxuICAgICAgZ2V0OiBnZXQsXG4gICAgICBzZXRPYmplY3Q6IHNldE9iamVjdCxcbiAgICAgIGdldE9iamVjdDogZ2V0T2JqZWN0LFxuICAgICAgcmVtb3ZlOiByZW1vdmVcbiAgICB9O1xuXG4gICAgcmV0dXJuIHNlcnZpY2U7XG5cbiAgICAvLy8vLy8vLy8vXG5cbiAgICBmdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Vba2V5XSA9IHZhbHVlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldChrZXksIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuICR3aW5kb3cubG9jYWxTdG9yYWdlW2tleV0gfHwgZGVmYXVsdFZhbHVlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldE9iamVjdChrZXksIHZhbHVlKSB7XG4gICAgICAkd2luZG93LmxvY2FsU3RvcmFnZVtrZXldID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldE9iamVjdChrZXksIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuIEpTT04ucGFyc2UoJHdpbmRvdy5sb2NhbFN0b3JhZ2Vba2V5XSB8fCAoZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQgPyBkZWZhdWx0VmFsdWUgOiAne30nKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlKGtleSkge1xuICAgICAgcmV0dXJuICR3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICB9XG4gIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgIC5kaXJlY3RpdmUoJ2Ryb3B6b25lJywgZHJvcHpvbmUpO1xuXG4gIGRyb3B6b25lLiRpbmplY3QgPSBbJ0Ryb3B6b25lJ107XG5cbiAgZnVuY3Rpb24gZHJvcHpvbmUoRHJvcHpvbmUpIHtcbiAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgbGluazogbGluayxcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgZHJvcHpvbmU6ICc9ZHJvcHpvbmUnLFxuICAgICAgICByZXNldDogJ0ByZXNldCdcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBkaXJlY3RpdmU7XG5cbiAgICBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgdmFyIGNvbmZpZywgem9uZTtcblxuICAgICAgY29uZmlnID0gc2NvcGUuZHJvcHpvbmU7XG4gICAgICB6b25lID0gbmV3IERyb3B6b25lKGVsZW1lbnRbMF0sIGNvbmZpZy5vcHRpb25zKTtcblxuICAgICAgaWYgKHNjb3BlLnJlc2V0KSB7XG4gICAgICAgIHpvbmUub24oJ2NvbXBsZXRlJywgZnVuY3Rpb24oZmlsZSkge1xuICAgICAgICAgIHpvbmUucmVtb3ZlRmlsZShmaWxlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChjb25maWcuZXZlbnRIYW5kbGVycywgZnVuY3Rpb24oaGFuZGxlciwgZXZlbnQpIHtcbiAgICAgICAgem9uZS5vbihldmVudCwgaGFuZGxlcik7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnZm9vdGVyRGlyZWN0aXZlJywgZm9vdGVyRGlyZWN0aXZlKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGZvb3RlckRpcmVjdGl2ZSgpIHtcbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhc3NldHMvdmlld3MvZm9vdGVyL2Zvb3Rlci5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IGZvb3RlckNvbnRyb2xsZXIsXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcbiAgICB9XG5cbiAgICBmb290ZXJDb250cm9sbGVyLiRpbmplY3QgPSBbXTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGZvb3RlckNvbnRyb2xsZXIoKSB7XG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG5cbiAgICAgICAgYWN0aXZhdGUoKTtcblxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnZm9vdGVyIEFjdGl2YXRlZCcpO1xuICAgICAgICB9XG4gICAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgLmRpcmVjdGl2ZSgnaGVhZGVyRGlyZWN0aXZlJywgaGVhZGVyRGlyZWN0aXZlKTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gaGVhZGVyRGlyZWN0aXZlKCkge1xuICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgIHRlbXBsYXRlVXJsOiAnYXNzZXRzL3ZpZXdzL2hlYWRlci9oZWFkZXIuaHRtbCcsXG4gICAgICBjb250cm9sbGVyOiBoZWFkZXJDb250cm9sbGVyLFxuICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcbiAgICAgIHNjb3BlOiB7fVxuICAgIH07XG5cbiAgICByZXR1cm4gZGlyZWN0aXZlO1xuICB9XG5cbiAgaGVhZGVyQ29udHJvbGxlci4kaW5qZWN0ID0gWydBdXRoJywgJyRzY29wZScsJyRyb290U2NvcGUnXTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gaGVhZGVyQ29udHJvbGxlcihBdXRoLCAkc2NvcGUsICRyb290U2NvcGUpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgdm0ubG9nb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZygnTE9HT1VUJyk7XG4gICAgICBBdXRoLmxvZ291dCgpO1xuICAgIH07XG5cblxuICAgICRyb290U2NvcGUuJG9uKCdsb2dpbicsIGZ1bmN0aW9uKGV2ZW50LCB1c2VyKSB7XG4gICAgICBpZighJHJvb3RTY29wZS51c2VyKSB7XG4gICAgICAgIGFuZ3VsYXIuY29weSh1c2VyLCAkcm9vdFNjb3BlLnVzZXIpXG4gICAgICB9XG4gICAgICBjb25zb2xlLmxvZygnbG9naW4nLCAkcm9vdFNjb3BlLnVzZXIpO1xuICAgIH0pO1xuICB9XG59KSgpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
