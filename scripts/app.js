!function(){"use strict";angular.module("AnyDayBuddyAds",["ui.router","ngMaterial","uiGmapgoogle-maps"])}(),function(){"use strict";angular.module("AnyDayBuddyAds").constant("_",window._).constant("jQuery",window.jQuery).constant("Dropzone",window.Dropzone).constant("braintree",window.braintree).constant("baseApi","https://api.anydaybuddy.com")}(),function(){"use strict";function e(e){e.configure({key:"AIzaSyAonFuCDb7HjXUz0uocKbEGUJz91IL9EVs",libraries:"places"})}function o(e,o){e.definePalette("primary",{50:"#9dceda",100:"#65b2c5",200:"#429ab0",300:"#2f6d7c",400:"#265966",500:"#1e4650",600:"#16323a",700:"#0d1f23",800:"#050c0d",900:"#000000",A100:"#9dceda",A200:"#65b2c5",A400:"#265966",A700:"#0d1f23",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100 A200"}),e.definePalette("accent",{50:"#d0ebed",100:"#99d4d8",200:"#70c3c8",300:"#43a7ae",400:"#3a9298",500:"#327d82",600:"#29686c",700:"#215256",800:"#183d40",900:"#10282a",A100:"#d0ebed",A200:"#99d4d8",A400:"#3a9298",A700:"#215256",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100 A200"}),e.definePalette("warn",{50:"#faeee6",100:"#ecc3a7",200:"#e2a379",300:"#d57b3e",400:"#c96b2b",500:"#b05e26",600:"#975121",700:"#7e431b",800:"#643616",900:"#4b2810",A100:"#faeee6",A200:"#ecc3a7",A400:"#c96b2b",A700:"#7e431b",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100 A200"}),e.theme("default").primaryPalette("primary").accentPalette("accent").warnPalette("warn")}angular.module("AnyDayBuddyAds").config(o).config(e),e.$inject=["uiGmapGoogleMapApiProvider"],o.$inject=["$mdThemingProvider","$locationProvider"]}(),function(){"use strict";function e(e,o,t){e.$state=o,e.user=t.getUser(),e.$on("$stateChangeStart",function(n,r){e.fill=["login","dashboard","dashboard.campaigns"].indexOf(r.name)!==-1,r.authenticate&&!t.isAuthenticated()&&(n.preventDefault(),o.transitionTo("login"))})}angular.module("AnyDayBuddyAds").run(e),e.$inject=["$rootScope","$state","Auth"]}(),function(){"use strict";function e(e,o,t){e.state("home",{url:"/",views:{main:{controller:"HomeController",controllerAs:"vm",templateUrl:"assets/views/home.html"}},authenticate:!1}).state("dashboard",{url:"/dashboard",views:{main:{controller:"DashboardController",controllerAs:"vm",templateUrl:"assets/views/dashboard/index.html"}},authenticate:!0}).state("dashboard.campaigns",{url:"/campaigns",views:{dashboard:{controller:"DashboardController",controllerAs:"vm",templateUrl:"assets/views/dashboard/campaigns.html"}},authenticate:!0}).state("orders",{url:"/orders",views:{main:{controller:"OrdersController",controllerAs:"vm",templateUrl:"assets/views/orders.html"}},authenticate:!1}).state("login",{url:"/login",views:{main:{controller:"LoginController",controllerAs:"vm",templateUrl:"assets/views/login.html"}},authenticate:!1}),o.otherwise("/")}angular.module("AnyDayBuddyAds").config(e),e.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"]}(),function(){"use strict";function e(e,o){}e.$inject=["$http","$q"],angular.module("AnyDayBuddyAds").controller("DashboardController",e)}(),function(){"use strict";function e(e,o){function t(){}function n(e){o("html, body").animate({scrollTop:o(e).offset().top},1e3)}var r=this;r.title="Home Controller",r.scrollTo=n,t()}angular.module("AnyDayBuddyAds").controller("HomeController",e),e.$inject=["$rootScope","jQuery"]}(),function(){"use strict";function e(e,o){var t=this;t.loading=!1,t.auth=function(){console.log("LOGIN",t.user),t.loading=!0,o.login(t.user).then(function(o){console.log(o),e.go("dashboard.campaigns")}).catch(function(e){console.log(e)}).finally(function(){t.loading=!1})}}angular.module("AnyDayBuddyAds").controller("LoginController",e),e.$inject=["$state","Auth"]}(),function(){"use strict";function e(e,o,t){var n=this;n.data={},n.loading=!1,n.isConfirm=!0,n.availability=!0,n.signupAttempt=function(){n.loading=!0,t.register(n.data).then(function(e){t.setCredentials(e),o.hide()},function(e){console.log(e),n.error=!0}).finally(function(){n.loading=!1})},n.checkCredentailsAvailability=function(e){var o={};n.availability=!0,n.data[e]&&(n.loading=!0,o[e]=n.data[e],t.credentialAvaliability(o).then(function(e){n.availability=e.availability,n.loading=!1},function(e){n.loading=!1}))},n.compare=function(){n.isConfirm=n.data.confirmPassword==n.data.password},n.close=function(){o.cancel()}}angular.module("AnyDayBuddyAds").controller("SignupController",e),e.$inject=["$rootScope","$mdDialog","Auth"]}(),function(){"use strict";function e(e,o,t,n,r,i,a){function s(){return a.getObject("user",null)}function c(o){var r=n.defer();return t.post(e+"/auth/validate/"+o).success(function(e){r.resolve(e)}).error(function(e){r.reject(e)}),r.promise}function l(o){var r=n.defer();return t.post(e+"/auth/login",o).success(function(e,o,t,n){r.resolve(e),e.hasOwnProperty("token")&&(i.user=angular.copy(e.user),i.$emit("login",e.user),a.set("access_token",e.token),a.setObject("user",e.user))}).error(function(e){r.reject(e)}),r.promise}function u(o){var r=n.defer();return t.post(e+"/auth/register",o).success(function(e,o,t,n){r.resolve(e)}).error(function(e){r.reject(e)}),r.promise}function d(o,r){var i=n.defer();return t.post(e+"/auth/resetpassword/"+o,r).success(function(e,o,t,n){i.resolve(e)}).error(function(e){i.reject(e)}),i.promise}function p(o){var r=n.defer();return t.post(e+"/auth/resetPasswordRequest",o).success(function(e,o,t,n){r.resolve(e)}).error(function(e){r.reject(e)}),r.promise}function f(){a.remove("user"),a.remove("access_token"),a.remove("original_user"),i.isAuthenticated=!1,i.user=null,i.view="auth",i.currentState="login",o.location.reload()}function m(e,o){e.hasOwnProperty("token")?(!o&&a.get("access_token")||a.set("access_token",e.token),i.user=e.user,a.setObject("user",e.user)):console.log("Bad Date",e)}function g(){return a.get("access_token")}function h(o){var r=n.defer();return t.get(e+"/user/availability/",{params:o}).success(function(e,o,t,n){r.resolve(e)}).error(function(e){r.reject(e)}),r.promise}var v={getUser:s,validate:c,isAuthenticated:g,login:l,logout:f,register:u,forgot:p,reset:d,setCredentials:m,credentialAvaliability:h};return v}function o(e,o,t){function n(e){var t;return o.get("access_token")&&(t=o.get("access_token")),t&&(e.headers.Authorization="Bearer "+t),e}function r(n){return 401!==n.status&&403!==n.status||(o.remove("access_token"),t.get("$state").go("login")),e.reject(n)}var i={request:n,responseError:r};return i}o.$inject=["$q","$localstorage","$injector"],angular.module("AnyDayBuddyAds").factory("Auth",e).factory("AuthInterceptor",o).config(["$httpProvider",function(e){e.interceptors.push("AuthInterceptor"),e.defaults.withCredentials=!0}]),e.$inject=["baseApi","$window","$http","$q","$state","$rootScope","$localstorage"]}(),function(){"use strict";function e(e,o,t){function n(){var n=o.defer();return e({method:"GET",url:t+"/campaign/options/"}).success(function(e,o,t,r){n.resolve(e)}).error(function(e){n.reject(e)}),n.promise}function r(){var n=o.defer();return e({method:"GET",url:t+"/commerce/clientToken/"}).success(function(e,o,t,r){n.resolve(e)}).error(function(e){n.reject(e)}),n.promise}function i(n){var r=o.defer();return e.post(t+"/campaign/create/",n).success(function(e){r.resolve(e)}).error(function(e){r.reject(e)}),r.promise}var a={getOptions:n,getClientToken:r,createCampaign:i};return a}angular.module("AnyDayBuddyAds").service("DataService",e),e.$inject=["$http","$q","baseApi"]}(),function(){"use strict";function e(){function e(e,t,n,r){return{options:{url:"https://api.cloudinary.com/v1_1/cloud9/image/upload",uploadMultiple:!1,maxFiles:1,acceptedFiles:"image/*",dictDefaultMessage:"Drop file or click here to upload",addRemoveLinks:!0,init:function(){this.on("thumbnail",function(t){t.width!==o[e].width||t.height!==o[e].height?t.rejectDimensions():t.acceptDimensions()})},accept:function(e,o){e.acceptDimensions=o,e.rejectDimensions=function(){o("Invalid dimension.")}}},eventHandlers:{sending:function(e,o,t){t.append("api_key",839988333153567),t.append("timestamp",Date.now()/1e3|0),t.append("upload_preset","sm2ev4nu"),n&&n()},success:t,removedfile:r}}}function t(e,o,t){return{options:{url:"https://api.cloudinary.com/v1_1/cloud9/image/upload",maxFiles:e,acceptedFiles:"image/*",dictDefaultMessage:"Drop files or click here to upload"},eventHandlers:{sending:function(e,o,n){n.append("api_key",839988333153567),n.append("timestamp",Date.now()/1e3|0),n.append("upload_preset","sm2ev4nu"),t&&t()},success:o}}}var n={create:e,createMultiple:t};return n}angular.module("AnyDayBuddyAds").service("DropzoneService",e);var o={mobile:{width:750,height:100},desktop:{width:880,height:1156}}}(),function(){"use strict";function e(e){function o(o,t){e.localStorage[o]=t}function t(o,t){return e.localStorage[o]||t}function n(o,t){e.localStorage[o]=JSON.stringify(t)}function r(o,t){return JSON.parse(e.localStorage[o]||(void 0!==t?t:"{}"))}function i(o){return e.localStorage.removeItem(o)}var a={set:o,get:t,setObject:n,getObject:r,remove:i};return a}angular.module("AnyDayBuddyAds").factory("$localstorage",e),e.$inject=["$window"]}(),function(){"use strict";function e(){var e={restrict:"EA",templateUrl:"assets/views/orders/orders.campaign.html",scope:{options:"=",form:"=",total:"="},controller:o,controllerAs:"vm",bindToController:!0};return e}function o(e,o){function t(){}t()}angular.module("AnyDayBuddyAds").directive("adbOrdersCampaign",e),o.$inject=["$http","$q"]}(),function(){"use strict";function e(){function e(e,o,t,n){}var t={restrict:"EA",templateUrl:"assets/views/orders/orders.checkout.html",scope:{options:"=",form:"=",total:"="},link:e,controller:o,controllerAs:"vm",bindToController:!0};return t}function o(e,o,t,n,r,i){function a(){i.getClientToken().then(function(e){console.log(e),s(e.clientToken)}).catch(function(e){console.log(e)})}function s(e){o.setup(e,"custom",{paypal:{container:"paypal-container",singleUse:!0,amount:"0",currency:"USD",locale:"en_us",enableShippingAddress:!1},onPaymentMethodReceived:function(e){c(e.nonce)},onReady:function(e){l.checkout=e}})}function c(e){console.log(e),t.$apply(function(){l.form.nonce=e,l.authorization=!0})}var l=this;l.checkout={},l.loading=!1,l.authorization=!1,a(),l.launch=function(){l.loading=!0,l.form.amount=l.total,i.createCampaign(l.form).then(function(e){console.log(e)}).catch(function(e){console.log(e)}).finally(function(){l.loading=!1})},t.$watch("vm.form",function(e,o){e&&console.log(e)}),t.$watch("vm.checkout",function(e,o){e&&console.log(e)})}angular.module("AnyDayBuddyAds").directive("adbOrdersCheckout",e),o.$inject=["_","braintree","$scope","$http","$q","DataService"]}(),function(){"use strict";function e(){var e={restrict:"EA",templateUrl:"assets/views/orders/orders.customer.html",scope:{options:"=",form:"=",total:"=",control:"="},controller:o,controllerAs:"vm",bindToController:!0};return e}function o(e,o,t,n,r){function i(){a.control.tabs[3].valid=!0,a.control.selectedTab+=1}var a=this;a.nextTab=i,a.auth=function(){a.loading=!0,r.login(a.form.auth).then(function(e){console.log(e),i()}).catch(function(e){console.log(e)}).finally(function(){a.loading=!1})},a.signup=function(){n.show({fullscreen:!0,controllerAs:"vm",controller:"SignupController",templateUrl:"assets/views/modal/signup.html"}).then(function(){i()})}}angular.module("AnyDayBuddyAds").directive("adbOrdersCustomer",e),o.$inject=["$http","$q","$rootScope","$mdDialog","Auth"]}(),function(){"use strict";function e(e,o,t,n,r,i){function a(){i.getOptions().then(function(e){console.log(e),g.options.target=s(e),console.log(g.form)}).catch(function(e){console.log(e)})}function s(o){var t=function(o,n){return e.isObject(o)?e.merge({},o,n,t):o||n},n=e.flatten([{},o,t]);return e.merge.apply(e,n)}function c(e,o){n.show({fullscreen:!0,targetEvent:e,clickOutsideToClose:!0,templateUrl:"app/shared/layout/imageModal.html",locals:{image:o},controller:["$scope","image",function(e,o){e.image=o}]})}function l(){n.show({templateUrl:"app/components/ad/advertisementModal.html",clickOutsideToClose:!0,fullscreen:!0})}function u(){r.show(r.simple().textContent("Awesome, you can now go to next step!").position("bottom right").hideDelay(3e3))}function d(o){var t=!1;return t="both"===o?!!e.isEmpty(e.pickBy(g.form.banner,e.isNull)):!!(g.form.banner.description&&g.form.banner.url&&g.form.banner[o])}function p(){return!e.isEmpty(g.form.marker)}function f(){var e=g.form.media.display,o=g.form.options.display.display;switch(o){case"banner":return d(e);case"map":return p()}return!1}function m(){switch(g.control.selectedTab){case 0:g.form.media.hasOwnProperty("id")&&g.form.options.display.hasOwnProperty("id")&&f()?(g.control.tabs[1].valid=!0,u()):g.control.tabs[1].valid=!1;break;case 1:g.form.options.impressions.hasOwnProperty("id")?(g.control.tabs[2].valid=!0,t.user&&(g.control.tabs[3].valid=!0),u()):g.control.tabs[2].valid=!1;break;default:console.log(g.control.selectedTab)}}var g=this;g.openImage=c,g.add=l,g.total=0,g.control={selectedTab:0,tabs:[{valid:!0,show:!0},{valid:!1,show:!0},{valid:!1,show:!0},{valid:!1,show:!0}]},g.options={target:{display:[],media:[],impressionsUnits:[],impressionsTime:[],distance:[],age:[],gender:[]}},g.form={media:{},banner:{description:null,url:null,website:null,app:null},marker:{},options:{display:{},impressions:{},distance:{},age:{},gender:{},interests:{}},customer:{},auth:{}},a(),o.$watch("vm.form",function(o,t){console.log(o),m(),g.total=o.media.hasOwnProperty("fee")?o.media.fee:0,e.map(o.options,function(e){e.hasOwnProperty("fee")&&(g.total+=g.total*e.fee),e.hasOwnProperty("discount")&&(g.total-=g.total*e.discount)})},!0)}angular.module("AnyDayBuddyAds").controller("OrdersController",e),e.$inject=["_","$scope","$rootScope","$mdDialog","$mdToast","DataService"]}(),function(){"use strict";function e(){function e(e,o,t,n){}var t={restrict:"EA",templateUrl:"assets/views/orders/orders.resume.html",scope:{options:"=",form:"=",total:"="},link:e,controller:o,controllerAs:"vm",bindToController:!0};return t}function o(e,o,t){function n(){}var r=this;n(),r.formatImpressions=function(){if(r.form.impressionType&&r.form.options.impressions.hasOwnProperty("id")){var o={impressionsUnits:e.join([r.form.options.impressions.quantity,r.form.options.impressions.type]," "),impressionsTime:e.join([r.form.options.impressions.time,r.form.options.impressions.period]," ")};return o[r.form.impressionType]}},r.formatTarget=function(){var o={distance:{value:r.form.options.distance,render:e.join(["Distance:",r.form.options.distance.distance||"","Km"]," ")},age:{value:r.form.options.age,render:e.join(["Age between:",e.join(r.form.options.age.range,"-")]," ")},gender:{value:r.form.options.gender,render:e.join(["Gender:",r.form.options.gender.gender]," ")},interests:{value:r.form.options.interests,render:e.join(["Interests:",r.form.options.interests.quantity]," ")}},t=e.pickBy(o,function(e){return e.value.hasOwnProperty("id")});return e.isEmpty(t)?"":e.join(["Target: ",e.map(Object.keys(t),function(e){return o[e].render})],"")},r.formatResume=function(){return resume}}angular.module("AnyDayBuddyAds").directive("adbOrdersResume",e),o.$inject=["_","$http","$q"]}(),function(){"use strict";function e(){var e={restrict:"EA",templateUrl:"assets/views/orders/orders.display.html",scope:{options:"=",form:"=",total:"="},controller:o,controllerAs:"vm",bindToController:!0};return e}function o(e,o,t,n,r,i){function a(){console.log("activate"),u()}function s(e,o,t,n){console.log(o),r(function(){e.panTo(new google.maps.LatLng(o.latitude,o.longitude)),t&&e.panBy(0,-200)},100)}function c(e,o,t){var r=t[0],i=r.latLng.lat(),a=r.latLng.lng();d.marker={id:Date.now(),location:{latitude:i,longitude:a},show:!1},n.$apply()}function l(){console.log("bounds changed"),console.log(d.placesReady),d.map.instance||u()}function u(){t.all([e,o.promise(1)]).then(function(e){var o=e[0],t=e[1][0].map;d.window={pixelOffset:new o.Size(0,(-40)),closeClick:function(){d.marker.show=!1}},g=new o.places.AutocompleteService,m=new o.DirectionsService,f=new o.DirectionsRenderer,d.map.instance=t,f.setMap(d.map.instance),p=new o.places.PlacesService(d.map.instance),d.placesReady=!0,console.log("ready")})}var d=this,p=null,f=null,m=null,g=null;d.markerConfirmed=!1,d.placesReady=!1,d.control={uploading:!1},d.map={center:{latitude:45.50174502816667,longitude:-73.5703881829977},zoom:14,options:{scrollwheel:!0},mapMarker:!0,disableDefaultUI:!0,control:{},events:{click:c,idle:l}},d.info={name:"",address:"",icon:""},d.marker={id:0,location:{latitude:45.50174502816667,longitude:-73.5703881829977},show:!1},d.desktopDropzone=i.create("desktop",function(e,o){n.$apply(function(){console.log(o.secure_url),d.form.banner.website=o.secure_url,d.control.uploading=!1})},function(){n.$apply(function(){d.control.uploading=!0})}),d.mobileDropzone=i.create("mobile",function(e,o){n.$apply(function(){console.log(o.secure_url),d.form.banner.app=o.secure_url,d.control.uploading=!1})},function(){n.$apply(function(){d.control.uploading=!0})}),a(),d.clickMarker=function(){console.log("click"),d.marker.show=!d.marker.show,n.$apply()},d.autocompleteAddress=function(e){d.markerConfirmed=!1;var o=t.defer();return g.getQueryPredictions({input:e},function(e){o.resolve(e?_.filter(e,"place_id"):[])}),o.promise},d.getPlace=function(){console.log(d.info.place),d.info.place&&p.getDetails({placeId:d.info.place.place_id},function(e,o){console.log(e,o),d.marker={id:Date.now(),name:e.name,address:e.formatted_address,location:{latitude:parseFloat(e.geometry.location.lat()),longitude:parseFloat(e.geometry.location.lng())},show:!0},s(d.map.instance,d.marker.location,null,!0),n.$apply()})},d.confirmMarker=function(){angular.copy(d.marker,d.form.marker),d.markerConfirmed=!0}}angular.module("AnyDayBuddyAds").directive("adbDisplayChooser",e),o.$inject=["uiGmapGoogleMapApi","uiGmapIsReady","$q","$scope","$timeout","DropzoneService"]}(),function(){"use strict";function e(e){function o(o,t,n){var r,i;r=o.dropzone,i=new e(t[0],r.options),o.reset&&i.on("complete",function(e){i.removeFile(e)}),angular.forEach(r.eventHandlers,function(e,o){i.on(o,e)})}var t={link:o,restrict:"EA",scope:{dropzone:"=dropzone",reset:"@reset"}};return t}angular.module("AnyDayBuddyAds").directive("dropzone",e),e.$inject=["Dropzone"]}(),function(){"use strict";function e(){var e={restrict:"EA",templateUrl:"assets/views/footer/footer.html",controller:o,controllerAs:"vm",bindToController:!0};return e}function o(){function e(){console.log("footer Activated")}e()}angular.module("AnyDayBuddyAds").directive("footerDirective",e),o.$inject=[]}(),function(){"use strict";function e(){var e={restrict:"EA",templateUrl:"assets/views/header/header.html",controller:o,controllerAs:"vm",bindToController:!0,scope:{}};return e}function o(e,o,t){var n=this;n.logout=function(){console.log("LOGOUT"),e.logout()},t.$on("login",function(e,o){t.user||angular.copy(o,t.user),console.log("login",t.user)})}angular.module("AnyDayBuddyAds").directive("headerDirective",e),o.$inject=["Auth","$scope","$rootScope"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5tb2R1bGUuanMiLCJhcHAuY29uc3RhbnRzLmpzIiwiYXBwLmNvbmZpZy5qcyIsImFwcC5ydW4uanMiLCJhcHAucm91dGUuanMiLCJkYXNoYm9hcmQvZGFzaGJvYXJkLmNvbnRyb2xsZXIuanMiLCJtYWluL2hvbWUuY29udHJvbGxlci5qcyIsIm1haW4vbG9naW4uY29udHJvbGxlci5qcyIsIm1haW4vc2lnbnVwLmNvbnRyb2xsZXIuanMiLCJzZXJ2aWNlcy9hdXRoLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9kYXRhLnNlcnZpY2UuanMiLCJzZXJ2aWNlcy9kcm9wem9uZS5zZXJ2aWNlLmpzIiwic2VydmljZXMvbG9jYWxzdG9yYWdlLnNlcnZpY2UuanMiLCJvcmRlcnMvY2FtcGFpZ24uZGlyZWN0aXZlLmpzIiwib3JkZXJzL2NoZWNrb3V0LmRpcmVjdGl2ZS5qcyIsIm9yZGVycy9jdXN0b21lci5kaXJlY3RpdmUuanMiLCJvcmRlcnMvb3JkZXJzLmNvbnRyb2xsZXIuanMiLCJvcmRlcnMvcmVzdW1lLmRpcmVjdGl2ZS5qcyIsIm9yZGVycy91dGlscy5kaXNwbGF5LmRpcmVjdGl2ZS5qcyIsInNoYXJlZC9kcm9wem9uZS5kaXJlY3RpdmUuanMiLCJjb21wb25lbnRzL2Zvb3Rlci9mb290ZXIuZGlyZWN0aXZlLmpzIiwiY29tcG9uZW50cy9oZWFkZXIvaGVhZGVyLmRpcmVjdGl2ZS5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uc3RhbnQiLCJ3aW5kb3ciLCJfIiwialF1ZXJ5IiwiRHJvcHpvbmUiLCJicmFpbnRyZWUiLCJtYXBzUHJvdmlkZXIiLCJ1aUdtYXBHb29nbGVNYXBBcGlQcm92aWRlciIsImNvbmZpZ3VyZSIsImtleSIsImxpYnJhcmllcyIsImNvbmZpZyIsIiRtZFRoZW1pbmdQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwiZGVmaW5lUGFsZXR0ZSIsIjUwIiwiMTAwIiwiMjAwIiwiMzAwIiwiNDAwIiwiNTAwIiwiNjAwIiwiNzAwIiwiODAwIiwiOTAwIiwiQTEwMCIsIkEyMDAiLCJBNDAwIiwiQTcwMCIsImNvbnRyYXN0RGVmYXVsdENvbG9yIiwiY29udHJhc3REYXJrQ29sb3JzIiwidGhlbWUiLCJwcmltYXJ5UGFsZXR0ZSIsImFjY2VudFBhbGV0dGUiLCJ3YXJuUGFsZXR0ZSIsIiRpbmplY3QiLCJydW5Qcm92aWRlciIsIiRyb290U2NvcGUiLCIkc3RhdGUiLCJBdXRoIiwidXNlciIsImdldFVzZXIiLCIkb24iLCJldmVudCIsInRvU3RhdGUiLCJmaWxsIiwiaW5kZXhPZiIsIm5hbWUiLCJhdXRoZW50aWNhdGUiLCJpc0F1dGhlbnRpY2F0ZWQiLCJwcmV2ZW50RGVmYXVsdCIsInRyYW5zaXRpb25UbyIsInJ1biIsInJvdXRlclByb3ZpZGVyIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJzdGF0ZSIsInVybCIsInZpZXdzIiwibWFpbiIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJ0ZW1wbGF0ZVVybCIsImRhc2hib2FyZCIsIm90aGVyd2lzZSIsIkNvbnRyb2xsZXIiLCIkaHR0cCIsIiRxIiwiSG9tZUNvbnRyb2xsZXIiLCJhY3RpdmF0ZSIsInNjcm9sbFRvIiwiZWxlbWVudCIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCJ2bSIsInRoaXMiLCJ0aXRsZSIsIkxvZ2luQ29udHJvbGxlciIsImxvYWRpbmciLCJhdXRoIiwiY29uc29sZSIsImxvZyIsImxvZ2luIiwidGhlbiIsInJlcyIsImdvIiwiY2F0Y2giLCJlcnIiLCJmaW5hbGx5IiwiU2lnbnVwQ29udHJvbGxlciIsIiRtZERpYWxvZyIsImRhdGEiLCJpc0NvbmZpcm0iLCJhdmFpbGFiaWxpdHkiLCJzaWdudXBBdHRlbXB0IiwicmVnaXN0ZXIiLCJzZXRDcmVkZW50aWFscyIsImhpZGUiLCJlcnJvciIsImNoZWNrQ3JlZGVudGFpbHNBdmFpbGFiaWxpdHkiLCJjcmVkZW50aWFsIiwicXVlcnkiLCJjcmVkZW50aWFsQXZhbGlhYmlsaXR5IiwiY29tcGFyZSIsImNvbmZpcm1QYXNzd29yZCIsInBhc3N3b3JkIiwiY2xvc2UiLCJjYW5jZWwiLCJiYXNlQXBpIiwiJHdpbmRvdyIsIiRsb2NhbHN0b3JhZ2UiLCJnZXRPYmplY3QiLCJ2YWxpZGF0ZSIsInRva2VuIiwiZGVmZXJyZWQiLCJkZWZlciIsInBvc3QiLCJzdWNjZXNzIiwicmVzcCIsInJlc29sdmUiLCJyZWplY3QiLCJwcm9taXNlIiwiY3JlZGVudGlhbHMiLCJzdGF0dXMiLCJoZWFkZXJzIiwiaGFzT3duUHJvcGVydHkiLCJjb3B5IiwiJGVtaXQiLCJzZXQiLCJzZXRPYmplY3QiLCJwYXlsb2FkIiwicmVzZXQiLCJwYXJhbXMiLCJmb3Jnb3QiLCJsb2dvdXQiLCJyZW1vdmUiLCJ2aWV3IiwiY3VycmVudFN0YXRlIiwibG9jYXRpb24iLCJyZWxvYWQiLCJmb3JjZSIsImdldCIsIkF1dGhJbnRlcmNlcHRvciIsIiRpbmplY3RvciIsInJlcXVlc3QiLCJBdXRob3JpemF0aW9uIiwicmVzcG9uc2VFcnJvciIsInJlc3BvbnNlIiwiZmFjdG9yeSIsIiRodHRwUHJvdmlkZXIiLCJpbnRlcmNlcHRvcnMiLCJwdXNoIiwiZGVmYXVsdHMiLCJ3aXRoQ3JlZGVudGlhbHMiLCJkYXRhU2VydmljZSIsImdldE9wdGlvbnMiLCJtZXRob2QiLCJnZXRDbGllbnRUb2tlbiIsImNyZWF0ZUNhbXBhaWduIiwic2VydmljZSIsIkRyb3B6b25lU2VydmljZSIsImNyZWF0ZSIsInR5cGUiLCJzZW5kaW5nIiwicmVtb3ZlZGZpbGUiLCJvcHRpb25zIiwidXBsb2FkTXVsdGlwbGUiLCJtYXhGaWxlcyIsImFjY2VwdGVkRmlsZXMiLCJkaWN0RGVmYXVsdE1lc3NhZ2UiLCJhZGRSZW1vdmVMaW5rcyIsImluaXQiLCJvbiIsImZpbGUiLCJ3aWR0aCIsIlRZUEVTIiwiaGVpZ2h0IiwicmVqZWN0RGltZW5zaW9ucyIsImFjY2VwdERpbWVuc2lvbnMiLCJhY2NlcHQiLCJkb25lIiwiZXZlbnRIYW5kbGVycyIsInhociIsImZvcm1EYXRhIiwiYXBwZW5kIiwiRGF0ZSIsIm5vdyIsImNyZWF0ZU11bHRpcGxlIiwibW9iaWxlIiwiZGVza3RvcCIsInZhbHVlIiwibG9jYWxTdG9yYWdlIiwiZGVmYXVsdFZhbHVlIiwiSlNPTiIsInN0cmluZ2lmeSIsInBhcnNlIiwidW5kZWZpbmVkIiwicmVtb3ZlSXRlbSIsImRpcmVjdGl2ZSIsInJlc3RyaWN0Iiwic2NvcGUiLCJmb3JtIiwidG90YWwiLCJiaW5kVG9Db250cm9sbGVyIiwibGlua0Z1bmMiLCJlbCIsImF0dHIiLCJjdHJsIiwibGluayIsIiRzY29wZSIsIkRhdGFTZXJ2aWNlIiwic2V0dXBHYXRld2F5IiwiY2xpZW50VG9rZW4iLCJzZXR1cCIsInBheXBhbCIsImNvbnRhaW5lciIsInNpbmdsZVVzZSIsImFtb3VudCIsImN1cnJlbmN5IiwibG9jYWxlIiwiZW5hYmxlU2hpcHBpbmdBZGRyZXNzIiwib25QYXltZW50TWV0aG9kUmVjZWl2ZWQiLCJvYmoiLCJkb1NvbWV0aGluZ1dpdGhUaGVOb25jZSIsIm5vbmNlIiwib25SZWFkeSIsImludGVncmF0aW9uIiwiY2hlY2tvdXQiLCIkYXBwbHkiLCJhdXRob3JpemF0aW9uIiwibGF1bmNoIiwiJHdhdGNoIiwiYyIsIm8iLCJjb250cm9sIiwibmV4dFRhYiIsInRhYnMiLCJ2YWxpZCIsInNlbGVjdGVkVGFiIiwic2lnbnVwIiwic2hvdyIsImZ1bGxzY3JlZW4iLCIkbWRUb2FzdCIsInRhcmdldCIsImRvX21lcmdlIiwicm9sZXMiLCJtZXJnZXIiLCJhIiwiYiIsImlzT2JqZWN0IiwibWVyZ2UiLCJhcmdzIiwiZmxhdHRlbiIsImFwcGx5Iiwib3BlbkltYWdlIiwiJGV2ZW50IiwiaW1hZ2UiLCJ0YXJnZXRFdmVudCIsImNsaWNrT3V0c2lkZVRvQ2xvc2UiLCJsb2NhbHMiLCJhZGQiLCJzaG93VmFsaWROb3RpZmljYXRpb24iLCJzaW1wbGUiLCJ0ZXh0Q29udGVudCIsInBvc2l0aW9uIiwiaGlkZURlbGF5IiwidmFsaWRhdGVCYW5uZXIiLCJkaXNwbGF5IiwiY2hlY2siLCJpc0VtcHR5IiwicGlja0J5IiwiYmFubmVyIiwiaXNOdWxsIiwiZGVzY3JpcHRpb24iLCJ2YWxpZGF0ZU1hcCIsIm1hcmtlciIsInZhbGlkYXRlU3RlcFplcm8iLCJtZWRpYSIsInZhbGlkYXRlRm9ybSIsImltcHJlc3Npb25zIiwiaW1wcmVzc2lvbnNVbml0cyIsImltcHJlc3Npb25zVGltZSIsImRpc3RhbmNlIiwiYWdlIiwiZ2VuZGVyIiwid2Vic2l0ZSIsImFwcCIsImludGVyZXN0cyIsImN1c3RvbWVyIiwiZmVlIiwibWFwIiwiaXRlbSIsImRpc2NvdW50IiwiZm9ybWF0SW1wcmVzc2lvbnMiLCJpbXByZXNzaW9uVHlwZSIsInR5cGVzIiwiam9pbiIsInF1YW50aXR5IiwidGltZSIsInBlcmlvZCIsImZvcm1hdFRhcmdldCIsInJlbmRlciIsInJhbmdlIiwic2VsZWN0ZWQiLCJpIiwiT2JqZWN0Iiwia2V5cyIsImZvcm1hdFJlc3VtZSIsInJlc3VtZSIsInVpR21hcEdvb2dsZU1hcEFwaSIsInVpR21hcElzUmVhZHkiLCIkdGltZW91dCIsInByZXBhcmVNYXAiLCJjZW50ZXJNYXAiLCJzY3JvbGwiLCJwYW5UbyIsImdvb2dsZSIsIm1hcHMiLCJMYXRMbmciLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsInBhbkJ5IiwiY2xpY2tNYXAiLCJldmVudE5hbWUiLCJvcmlnaW5hbEV2ZW50QXJncyIsImUiLCJsYXQiLCJsYXRMbmciLCJsb24iLCJsbmciLCJpZCIsImJvdW5kc0NoYW5nZWQiLCJwbGFjZXNSZWFkeSIsImluc3RhbmNlIiwiYWxsIiwicGl4ZWxPZmZzZXQiLCJTaXplIiwiY2xvc2VDbGljayIsIlBsYWNlc0F1dG9jb21wbGV0ZSIsInBsYWNlcyIsIkF1dG9jb21wbGV0ZVNlcnZpY2UiLCJEaXJlY3Rpb25zU2VydmljZSIsIkRpcmVjdGlvblJlbmRlcmVyIiwiRGlyZWN0aW9uc1JlbmRlcmVyIiwic2V0TWFwIiwiUGxhY2VzIiwiUGxhY2VzU2VydmljZSIsIm1hcmtlckNvbmZpcm1lZCIsInVwbG9hZGluZyIsImNlbnRlciIsInpvb20iLCJzY3JvbGx3aGVlbCIsIm1hcE1hcmtlciIsImRpc2FibGVEZWZhdWx0VUkiLCJldmVudHMiLCJjbGljayIsImlkbGUiLCJpbmZvIiwiYWRkcmVzcyIsImljb24iLCJkZXNrdG9wRHJvcHpvbmUiLCJzZWN1cmVfdXJsIiwibW9iaWxlRHJvcHpvbmUiLCJjbGlja01hcmtlciIsImF1dG9jb21wbGV0ZUFkZHJlc3MiLCJnZXRRdWVyeVByZWRpY3Rpb25zIiwiaW5wdXQiLCJmaWx0ZXIiLCJnZXRQbGFjZSIsInBsYWNlIiwiZ2V0RGV0YWlscyIsInBsYWNlSWQiLCJwbGFjZV9pZCIsImZvcm1hdHRlZF9hZGRyZXNzIiwicGFyc2VGbG9hdCIsImdlb21ldHJ5IiwiY29uZmlybU1hcmtlciIsImRyb3B6b25lIiwiYXR0cnMiLCJ6b25lIiwicmVtb3ZlRmlsZSIsImZvckVhY2giLCJoYW5kbGVyIiwiZm9vdGVyRGlyZWN0aXZlIiwiZm9vdGVyQ29udHJvbGxlciIsImhlYWRlckRpcmVjdGl2ZSIsImhlYWRlckNvbnRyb2xsZXIiXSwibWFwcGluZ3MiOiJDQVNBLFdBQ0EsWUFFQUEsU0FDQUMsT0FBQSxrQkFDQSxZQUNBLGFBQ0EseUJDaEJBLFdBQ0EsWUFFQUQsU0FDQUMsT0FBQSxrQkFDQUMsU0FBQSxJQUFBQyxPQUFBQyxHQUNBRixTQUFBLFNBQUFDLE9BQUFFLFFBQ0FILFNBQUEsV0FBQUMsT0FBQUcsVUFDQUosU0FBQSxZQUFBQyxPQUFBSSxXQUNBTCxTQUFBLFVBQUEsa0NDVEEsV0FDQSxZQVFBLFNBQUFNLEdBQUFDLEdBQ0FBLEVBQUFDLFdBQ0FDLElBQUEsMENBRUFDLFVBQUEsV0FNQSxRQUFBQyxHQUFBQyxFQUFBQyxHQUVBRCxFQUFBRSxjQUFBLFdBQ0FDLEdBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FDLElBQUEsVUFDQUMsSUFBQSxVQUNBQyxJQUFBLFVBQ0FD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akwsUUFBQWlZLFFBQUFwWCxFQUFBNEssY0FBQSxTQUFBeU0sRUFBQXJWLEdBQ0FrVixFQUFBL00sR0FBQW5JLEVBQUFxVixLQXZCQSxHQUFBeEwsSUFDQVUsS0FBQUEsRUFDQVQsU0FBQSxLQUNBQyxPQUNBaUwsU0FBQSxZQUNBdFAsTUFBQSxVQUdBLE9BQUFtRSxHQWZBMU0sUUFDQUMsT0FBQSxrQkFDQXlNLFVBQUEsV0FBQW1MLEdBRUFBLEVBQUF4VixTQUFBLGVDUEEsV0FDQSxZQU9BLFNBQUE4VixLQUNBLEdBQUF6TCxJQUNBQyxTQUFBLEtBQ0EzSSxZQUFBLGtDQUNBRixXQUFBc1UsRUFDQXJVLGFBQUEsS0FDQWdKLGtCQUFBLEVBR0EsT0FBQUwsR0FNQSxRQUFBMEwsS0FLQSxRQUFBN1QsS0FDQWEsUUFBQUMsSUFBQSxvQkFIQWQsSUF2QkF2RSxRQUNBQyxPQUFBLGtCQUNBeU0sVUFBQSxrQkFBQXlMLEdBZUFDLEVBQUEvVixjQ3BCQSxXQUNBLFlBT0EsU0FBQWdXLEtBQ0EsR0FBQTNMLElBQ0FDLFNBQUEsS0FDQTNJLFlBQUEsa0NBQ0FGLFdBQUF3VSxFQUNBdlUsYUFBQSxLQUNBZ0osa0JBQUEsRUFDQUgsU0FHQSxPQUFBRixHQU1BLFFBQUE0TCxHQUFBN1YsRUFBQTRLLEVBQUE5SyxHQUNBLEdBQUF1QyxHQUFBQyxJQUlBRCxHQUFBNEQsT0FBQSxXQUNBdEQsUUFBQUMsSUFBQSxVQUNBNUMsRUFBQWlHLFVBSUFuRyxFQUFBSyxJQUFBLFFBQUEsU0FBQUMsRUFBQUgsR0FDQUgsRUFBQUcsTUFDQTFDLFFBQUFrSSxLQUFBeEYsRUFBQUgsRUFBQUcsTUFFQTBDLFFBQUFDLElBQUEsUUFBQTlDLEVBQUFHLFFBcENBMUMsUUFDQUMsT0FBQSxrQkFDQXlNLFVBQUEsa0JBQUEyTCxHQWdCQUMsRUFBQWpXLFNBQUEsT0FBQSxTQUFBIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQG5nZG9jIG92ZXJ2aWV3XG4gKiBAbmFtZSBBbnlEYXlCdWRkeUFkc1xuICogQHJlcXVpcmVzIHVpLnJvdXRlclxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogQW5ndWxhckpTIGJhc2ljIGFwcCB0ZW1wbGF0ZVxuICpcbiAqL1xuKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJywgW1xuICAgICAgJ3VpLnJvdXRlcicsXG4gICAgICAnbmdNYXRlcmlhbCcsXG4gICAgICAndWlHbWFwZ29vZ2xlLW1hcHMnLFxuICAgIF0pO1xuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuY29uc3RhbnQoJ18nLCB3aW5kb3cuXylcbiAgICAuY29uc3RhbnQoJ2pRdWVyeScsIHdpbmRvdy5qUXVlcnkpXG4gICAgLmNvbnN0YW50KCdEcm9wem9uZScsIHdpbmRvdy5Ecm9wem9uZSlcbiAgICAuY29uc3RhbnQoJ2JyYWludHJlZScsIHdpbmRvdy5icmFpbnRyZWUpXG4gICAgLmNvbnN0YW50KCdiYXNlQXBpJywgJ2h0dHBzOi8vYXBpLmFueWRheWJ1ZGR5LmNvbScpO1xufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgIC5jb25maWcoY29uZmlnKVxuICAgIC5jb25maWcobWFwc1Byb3ZpZGVyKTtcblxuICBtYXBzUHJvdmlkZXIuJGluamVjdCA9IFsndWlHbWFwR29vZ2xlTWFwQXBpUHJvdmlkZXInXTtcblxuICBmdW5jdGlvbiBtYXBzUHJvdmlkZXIodWlHbWFwR29vZ2xlTWFwQXBpUHJvdmlkZXIpIHtcbiAgICB1aUdtYXBHb29nbGVNYXBBcGlQcm92aWRlci5jb25maWd1cmUoe1xuICAgICAga2V5OiAnQUl6YVN5QW9uRnVDRGI3SGpYVXowdW9jS2JFR1VKejkxSUw5RVZzJywgLy9hZGItc2l0ZS0wIGtleVxuICAgICAgLy8ga2V5OiAnQUl6YVN5QWxXNmh1bjdWd3BGUHYwZnhfS09VaDUybDA4QlJwallNJyxcbiAgICAgIGxpYnJhcmllczogJ3BsYWNlcydcbiAgICB9KTtcbiAgfVxuXG4gIGNvbmZpZy4kaW5qZWN0ID0gWyckbWRUaGVtaW5nUHJvdmlkZXInLCAnJGxvY2F0aW9uUHJvdmlkZXInXTtcblxuICBmdW5jdGlvbiBjb25maWcoJG1kVGhlbWluZ1Byb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xuXG4gICAgJG1kVGhlbWluZ1Byb3ZpZGVyLmRlZmluZVBhbGV0dGUoJ3ByaW1hcnknLCB7XG4gICAgICAnNTAnOiAnIzlkY2VkYScsXG4gICAgICAnMTAwJzogJyM2NWIyYzUnLFxuICAgICAgJzIwMCc6ICcjNDI5YWIwJyxcbiAgICAgICczMDAnOiAnIzJmNmQ3YycsXG4gICAgICAnNDAwJzogJyMyNjU5NjYnLFxuICAgICAgJzUwMCc6ICcjMWU0NjUwJyxcbiAgICAgICc2MDAnOiAnIzE2MzIzYScsXG4gICAgICAnNzAwJzogJyMwZDFmMjMnLFxuICAgICAgJzgwMCc6ICcjMDUwYzBkJyxcbiAgICAgICc5MDAnOiAnIzAwMDAwMCcsXG4gICAgICAnQTEwMCc6ICcjOWRjZWRhJyxcbiAgICAgICdBMjAwJzogJyM2NWIyYzUnLFxuICAgICAgJ0E0MDAnOiAnIzI2NTk2NicsXG4gICAgICAnQTcwMCc6ICcjMGQxZjIzJyxcbiAgICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdsaWdodCcsXG4gICAgICAnY29udHJhc3REYXJrQ29sb3JzJzogJzUwIDEwMCAyMDAgQTEwMCBBMjAwJ1xuICAgIH0pO1xuICAgICRtZFRoZW1pbmdQcm92aWRlci5kZWZpbmVQYWxldHRlKCdhY2NlbnQnLCB7XG4gICAgICAnNTAnOiAnI2QwZWJlZCcsXG4gICAgICAnMTAwJzogJyM5OWQ0ZDgnLFxuICAgICAgJzIwMCc6ICcjNzBjM2M4JyxcbiAgICAgICczMDAnOiAnIzQzYTdhZScsXG4gICAgICAnNDAwJzogJyMzYTkyOTgnLFxuICAgICAgJzUwMCc6ICcjMzI3ZDgyJyxcbiAgICAgICc2MDAnOiAnIzI5Njg2YycsXG4gICAgICAnNzAwJzogJyMyMTUyNTYnLFxuICAgICAgJzgwMCc6ICcjMTgzZDQwJyxcbiAgICAgICc5MDAnOiAnIzEwMjgyYScsXG4gICAgICAnQTEwMCc6ICcjZDBlYmVkJyxcbiAgICAgICdBMjAwJzogJyM5OWQ0ZDgnLFxuICAgICAgJ0E0MDAnOiAnIzNhOTI5OCcsXG4gICAgICAnQTcwMCc6ICcjMjE1MjU2JyxcbiAgICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdsaWdodCcsXG4gICAgICAnY29udHJhc3REYXJrQ29sb3JzJzogJzUwIDEwMCAyMDAgMzAwIEExMDAgQTIwMCdcbiAgICB9KTtcbiAgICAkbWRUaGVtaW5nUHJvdmlkZXIuZGVmaW5lUGFsZXR0ZSgnd2FybicsIHtcbiAgICAgICc1MCc6ICcjZmFlZWU2JyxcbiAgICAgICcxMDAnOiAnI2VjYzNhNycsXG4gICAgICAnMjAwJzogJyNlMmEzNzknLFxuICAgICAgJzMwMCc6ICcjZDU3YjNlJyxcbiAgICAgICc0MDAnOiAnI2M5NmIyYicsXG4gICAgICAnNTAwJzogJyNiMDVlMjYnLFxuICAgICAgJzYwMCc6ICcjOTc1MTIxJyxcbiAgICAgICc3MDAnOiAnIzdlNDMxYicsXG4gICAgICAnODAwJzogJyM2NDM2MTYnLFxuICAgICAgJzkwMCc6ICcjNGIyODEwJyxcbiAgICAgICdBMTAwJzogJyNmYWVlZTYnLFxuICAgICAgJ0EyMDAnOiAnI2VjYzNhNycsXG4gICAgICAnQTQwMCc6ICcjYzk2YjJiJyxcbiAgICAgICdBNzAwJzogJyM3ZTQzMWInLFxuICAgICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2xpZ2h0JyxcbiAgICAgICdjb250cmFzdERhcmtDb2xvcnMnOiAnNTAgMTAwIDIwMCAzMDAgQTEwMCBBMjAwJ1xuICAgIH0pO1xuICAgICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnZGVmYXVsdCcpXG4gICAgICAucHJpbWFyeVBhbGV0dGUoJ3ByaW1hcnknKVxuICAgICAgLmFjY2VudFBhbGV0dGUoJ2FjY2VudCcpXG4gICAgICAud2FyblBhbGV0dGUoJ3dhcm4nKTtcbiAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgLnJ1bihydW5Qcm92aWRlcik7XG5cbiAgcnVuUHJvdmlkZXIuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICckc3RhdGUnLCAnQXV0aCddO1xuXG4gIGZ1bmN0aW9uIHJ1blByb3ZpZGVyKCRyb290U2NvcGUsICRzdGF0ZSwgQXV0aCkge1xuICAgICRyb290U2NvcGUuJHN0YXRlID0gJHN0YXRlO1xuICAgICRyb290U2NvcGUudXNlciA9IEF1dGguZ2V0VXNlcigpO1xuXG4gICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN0YXJ0JywgZnVuY3Rpb24oZXZlbnQsIHRvU3RhdGUpIHtcbiAgICAgICRyb290U2NvcGUuZmlsbCA9IFsnbG9naW4nLCAnZGFzaGJvYXJkJywgJ2Rhc2hib2FyZC5jYW1wYWlnbnMnXS5pbmRleE9mKHRvU3RhdGUubmFtZSkgIT09IC0xO1xuXG4gICAgICAvKipcbiAgICAgICAqIGlmIHRoZSBzdGF0ZSByZXF1aXJlcyBhdXRoZW50aWNhdGlvbiBhbmQgdGhlXG4gICAgICAgKiB1c2VyIGlzIG5vdCBsb2dnZWQgaW4sIHJlZGlyZWN0IHRvIHRoZSBsb2dpbiBwYWdlLlxuICAgICAgICovXG4gICAgICBpZiAodG9TdGF0ZS5hdXRoZW50aWNhdGUgJiYgIUF1dGguaXNBdXRoZW50aWNhdGVkKCkpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJHN0YXRlLnRyYW5zaXRpb25UbygnbG9naW4nKTtcbiAgICAgIH1cblxuICAgIH0pO1xuICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuY29uZmlnKHJvdXRlclByb3ZpZGVyKTtcblxuICByb3V0ZXJQcm92aWRlci4kaW5qZWN0ID0gWyckc3RhdGVQcm92aWRlcicsICckdXJsUm91dGVyUHJvdmlkZXInLCAnJGxvY2F0aW9uUHJvdmlkZXInXTtcblxuICBmdW5jdGlvbiByb3V0ZXJQcm92aWRlcigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xuICAgIC8vICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh7XG4gICAgLy8gICBlbmFibGVkOiB0cnVlLFxuICAgIC8vICAgcmVxdWlyZUJhc2U6IGZhbHNlXG4gICAgLy8gfSk7XG4gICAgLy9cbiAgICAkc3RhdGVQcm92aWRlclxuICAgICAgLnN0YXRlKCdob21lJywge1xuICAgICAgICB1cmw6ICcvJyxcbiAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAnbWFpbic6IHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdIb21lQ29udHJvbGxlcicsXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2Fzc2V0cy92aWV3cy9ob21lLmh0bWwnXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhdXRoZW50aWNhdGU6IGZhbHNlXG4gICAgICB9KVxuICAgICAgLnN0YXRlKCdkYXNoYm9hcmQnLCB7XG4gICAgICAgIHVybDogJy9kYXNoYm9hcmQnLFxuICAgICAgICB2aWV3czoge1xuICAgICAgICAgICdtYWluJzoge1xuICAgICAgICAgICAgY29udHJvbGxlcjogJ0Rhc2hib2FyZENvbnRyb2xsZXInLFxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhc3NldHMvdmlld3MvZGFzaGJvYXJkL2luZGV4Lmh0bWwnXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhdXRoZW50aWNhdGU6IHRydWVcbiAgICAgIH0pXG4gICAgICAuc3RhdGUoJ2Rhc2hib2FyZC5jYW1wYWlnbnMnLCB7XG4gICAgICAgIHVybDogJy9jYW1wYWlnbnMnLFxuICAgICAgICB2aWV3czoge1xuICAgICAgICAgICdkYXNoYm9hcmQnOiB7XG4gICAgICAgICAgICBjb250cm9sbGVyOiAnRGFzaGJvYXJkQ29udHJvbGxlcicsXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2Fzc2V0cy92aWV3cy9kYXNoYm9hcmQvY2FtcGFpZ25zLmh0bWwnXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhdXRoZW50aWNhdGU6IHRydWVcbiAgICAgIH0pXG4gICAgICAuc3RhdGUoJ29yZGVycycsIHtcbiAgICAgICAgdXJsOiAnL29yZGVycycsXG4gICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgJ21haW4nOiB7XG4gICAgICAgICAgICBjb250cm9sbGVyOiAnT3JkZXJzQ29udHJvbGxlcicsXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2Fzc2V0cy92aWV3cy9vcmRlcnMuaHRtbCdcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGF1dGhlbnRpY2F0ZTogZmFsc2VcbiAgICAgIH0pXG4gICAgICAuc3RhdGUoJ2xvZ2luJywge1xuICAgICAgICB1cmw6ICcvbG9naW4nLFxuICAgICAgICB2aWV3czoge1xuICAgICAgICAgICdtYWluJzoge1xuICAgICAgICAgICAgY29udHJvbGxlcjogJ0xvZ2luQ29udHJvbGxlcicsXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2Fzc2V0cy92aWV3cy9sb2dpbi5odG1sJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXV0aGVudGljYXRlOiBmYWxzZVxuICAgICAgfSk7XG5cbiAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvJyk7XG4gIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgLmNvbnRyb2xsZXIoJ0Rhc2hib2FyZENvbnRyb2xsZXInLCBDb250cm9sbGVyKTtcblxuICBmdW5jdGlvbiBDb250cm9sbGVyKCRodHRwLCAkcSkge1xuICAgIHZhciB2bSA9IHRoaXM7XG5cbiAgICAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgfVxuICBcbn0pKCk7XG4iLCIvKipcbiAqIEBuZ2RvYyBjb250cm9sbGVyXG4gKiBAbmFtZSBIb21lQ29udHJvbGxlclxuICogQHJlcXVpcmVzICRyb290U2NvcGVcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIE1hbmVqYSBlbCBjb21wb3J0YW1pZW50byBkZSBsYSB2aXN0YSBwcmluY2lwYWxcbiAqXG4gKi9cblxuKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuY29udHJvbGxlcignSG9tZUNvbnRyb2xsZXInLCBIb21lQ29udHJvbGxlcik7XG5cbiAgSG9tZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICdqUXVlcnknXTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gSG9tZUNvbnRyb2xsZXIoJHJvb3RTY29wZSwgalF1ZXJ5KSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICB2bS50aXRsZSA9ICdIb21lIENvbnRyb2xsZXInO1xuICAgIHZtLnNjcm9sbFRvID0gc2Nyb2xsVG87XG4gICAgYWN0aXZhdGUoKTtcblxuICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge31cblxuICAgIGZ1bmN0aW9uIHNjcm9sbFRvKGVsZW1lbnQpIHtcbiAgICAgIGpRdWVyeSgnaHRtbCwgYm9keScpLmFuaW1hdGUoe1xuICAgICAgICBzY3JvbGxUb3A6IGpRdWVyeShlbGVtZW50KS5vZmZzZXQoKS50b3BcbiAgICAgIH0sIDEwMDApO1xuICAgIH1cbiAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgLmNvbnRyb2xsZXIoJ0xvZ2luQ29udHJvbGxlcicsIExvZ2luQ29udHJvbGxlcik7XG5cbiAgTG9naW5Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzdGF0ZScsICdBdXRoJ107XG5cbiAgZnVuY3Rpb24gTG9naW5Db250cm9sbGVyKCRzdGF0ZSwgQXV0aCkge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgdm0ubG9hZGluZyA9IGZhbHNlO1xuICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgIHZtLmF1dGggPSBmdW5jdGlvbigpIHtcbiAgICBcdGNvbnNvbGUubG9nKCdMT0dJTicsIHZtLnVzZXIpO1xuICAgICAgdm0ubG9hZGluZyA9IHRydWU7XG4gICAgICBBdXRoLmxvZ2luKHZtLnVzZXIpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICAgICAgJHN0YXRlLmdvKCdkYXNoYm9hcmQuY2FtcGFpZ25zJyk7XG4gICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZtLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgfVxuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuY29udHJvbGxlcignU2lnbnVwQ29udHJvbGxlcicsIFNpZ251cENvbnRyb2xsZXIpO1xuXG4gIFNpZ251cENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICckbWREaWFsb2cnLCAnQXV0aCddO1xuXG4gIGZ1bmN0aW9uIFNpZ251cENvbnRyb2xsZXIoJHJvb3RTY29wZSwgJG1kRGlhbG9nLCBBdXRoKSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICB2bS5kYXRhID0ge307XG4gICAgdm0ubG9hZGluZyA9IGZhbHNlO1xuICAgIHZtLmlzQ29uZmlybSA9IHRydWU7XG4gICAgdm0uYXZhaWxhYmlsaXR5ID0gdHJ1ZTtcblxuICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgIHZtLnNpZ251cEF0dGVtcHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZtLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgQXV0aC5yZWdpc3Rlcih2bS5kYXRhKS50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICBBdXRoLnNldENyZWRlbnRpYWxzKHJlcyk7XG4gICAgICAgICRtZERpYWxvZy5oaWRlKCk7XG4gICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgdm0uZXJyb3IgPSB0cnVlO1xuICAgICAgfSkuZmluYWxseShmdW5jdGlvbigpIHtcbiAgICAgICAgdm0ubG9hZGluZyA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfTtcblxuXG4gICAgdm0uY2hlY2tDcmVkZW50YWlsc0F2YWlsYWJpbGl0eSA9IGZ1bmN0aW9uKGNyZWRlbnRpYWwpIHtcbiAgICAgIHZhciBxdWVyeSA9IHt9O1xuICAgICAgdm0uYXZhaWxhYmlsaXR5ID0gdHJ1ZTtcblxuICAgICAgaWYgKCF2bS5kYXRhW2NyZWRlbnRpYWxdKSByZXR1cm47XG5cbiAgICAgIHZtLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgcXVlcnlbY3JlZGVudGlhbF0gPSB2bS5kYXRhW2NyZWRlbnRpYWxdO1xuICAgICAgQXV0aC5jcmVkZW50aWFsQXZhbGlhYmlsaXR5KHF1ZXJ5KS50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICB2bS5hdmFpbGFiaWxpdHkgPSByZXMuYXZhaWxhYmlsaXR5O1xuICAgICAgICB2bS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgdm0ubG9hZGluZyA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZtLmNvbXBhcmUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZtLmlzQ29uZmlybSA9IHZtLmRhdGEuY29uZmlybVBhc3N3b3JkID09IHZtLmRhdGEucGFzc3dvcmQ7XG4gICAgfTtcblxuXG4gICAgdm0uY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICRtZERpYWxvZy5jYW5jZWwoKTtcbiAgICB9O1xuXG4gIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgLmZhY3RvcnkoJ0F1dGgnLCBBdXRoKVxuICAgIC5mYWN0b3J5KCdBdXRoSW50ZXJjZXB0b3InLCBBdXRoSW50ZXJjZXB0b3IpXG4gICAgLmNvbmZpZyhmdW5jdGlvbigkaHR0cFByb3ZpZGVyKSB7XG4gICAgICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCdBdXRoSW50ZXJjZXB0b3InKTtcbiAgICAgICRodHRwUHJvdmlkZXIuZGVmYXVsdHMud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICB9KTtcblxuICBBdXRoLiRpbmplY3QgPSBbXG4gICAgJ2Jhc2VBcGknLFxuICAgICckd2luZG93JyxcbiAgICAnJGh0dHAnLFxuICAgICckcScsXG4gICAgJyRzdGF0ZScsXG4gICAgJyRyb290U2NvcGUnLFxuICAgICckbG9jYWxzdG9yYWdlJ1xuICBdO1xuXG4gIGZ1bmN0aW9uIEF1dGgoYmFzZUFwaSwgJHdpbmRvdywgJGh0dHAsICRxLCAkc3RhdGUsICRyb290U2NvcGUsICRsb2NhbHN0b3JhZ2UpIHtcblxuICAgIHZhciBBdXRoID0ge1xuICAgICAgZ2V0VXNlcjogZ2V0VXNlcixcbiAgICAgIHZhbGlkYXRlOiB2YWxpZGF0ZSxcbiAgICAgIGlzQXV0aGVudGljYXRlZDogaXNBdXRoZW50aWNhdGVkLFxuICAgICAgbG9naW46IGxvZ2luLFxuICAgICAgbG9nb3V0OiBsb2dvdXQsXG4gICAgICByZWdpc3RlcjogcmVnaXN0ZXIsXG4gICAgICBmb3Jnb3Q6IGZvcmdvdCxcbiAgICAgIHJlc2V0OiByZXNldCxcbiAgICAgIHNldENyZWRlbnRpYWxzOiBzZXRDcmVkZW50aWFscyxcbiAgICAgIGNyZWRlbnRpYWxBdmFsaWFiaWxpdHk6IGNyZWRlbnRpYWxBdmFsaWFiaWxpdHlcbiAgICB9O1xuXG4gICAgcmV0dXJuIEF1dGg7XG5cbiAgICAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgICBmdW5jdGlvbiBnZXRVc2VyKCkge1xuICAgICAgcmV0dXJuICRsb2NhbHN0b3JhZ2UuZ2V0T2JqZWN0KCd1c2VyJywgbnVsbCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmFsaWRhdGUodG9rZW4pIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAkaHR0cC5wb3N0KGJhc2VBcGkgKyAnL2F1dGgvdmFsaWRhdGUvJyArIHRva2VuKVxuICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXNwKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmVycm9yKGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgIGRlZmVycmVkLnJlamVjdChlcnIpO1xuICAgICAgICB9KTtcbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFtsb2dpbiBkZXNjcmlwdGlvbl1cbiAgICAgKiBAbWV0aG9kIGxvZ2luXG4gICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXG4gICAgICovXG4gICAgZnVuY3Rpb24gbG9naW4oY3JlZGVudGlhbHMpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICRodHRwLnBvc3QoYmFzZUFwaSArICcvYXV0aC9sb2dpbicsIGNyZWRlbnRpYWxzKVxuICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XG5cbiAgICAgICAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eSgndG9rZW4nKSkge1xuXG4gICAgICAgICAgICAkcm9vdFNjb3BlLnVzZXIgPSBhbmd1bGFyLmNvcHkoZGF0YS51c2VyKTtcbiAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJ2xvZ2luJywgZGF0YS51c2VyKTtcbiAgICAgICAgICAgICRsb2NhbHN0b3JhZ2Uuc2V0KCdhY2Nlc3NfdG9rZW4nLCBkYXRhLnRva2VuKTtcbiAgICAgICAgICAgICRsb2NhbHN0b3JhZ2Uuc2V0T2JqZWN0KCd1c2VyJywgZGF0YS51c2VyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5lcnJvcihmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFtyZWdpc3RlciBkZXNjcmlwdGlvbl1cbiAgICAgKiBAbWV0aG9kIHJlZ2lzdGVyXG4gICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVnaXN0ZXIocGF5bG9hZCkge1xuXG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAkaHR0cC5wb3N0KGJhc2VBcGkgKyAnL2F1dGgvcmVnaXN0ZXInLCBwYXlsb2FkKVxuICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5lcnJvcihmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFtyZWdpc3RlciBkZXNjcmlwdGlvbl1cbiAgICAgKiBAbWV0aG9kIHJlc2V0XG4gICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVzZXQodG9rZW4sIHBhcmFtcykge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgJGh0dHAucG9zdChiYXNlQXBpICsgJy9hdXRoL3Jlc2V0cGFzc3dvcmQvJyArIHRva2VuLCBwYXJhbXMpXG4gICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmVycm9yKGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgIGRlZmVycmVkLnJlamVjdChlcnIpO1xuICAgICAgICB9KTtcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogW3JlZ2lzdGVyIGRlc2NyaXB0aW9uXVxuICAgICAqIEBtZXRob2QgZm9yZ290XG4gICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yZ290KHBheWxvYWQpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICRodHRwLnBvc3QoYmFzZUFwaSArICcvYXV0aC9yZXNldFBhc3N3b3JkUmVxdWVzdCcsIHBheWxvYWQpXG4gICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmVycm9yKGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgIGRlZmVycmVkLnJlamVjdChlcnIpO1xuICAgICAgICB9KTtcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogW2xvZ291dCBkZXNjcmlwdGlvbl1cbiAgICAgKiBAbWV0aG9kIGxvZ291dFxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxvZ291dCgpIHtcbiAgICAgICRsb2NhbHN0b3JhZ2UucmVtb3ZlKCd1c2VyJyk7XG4gICAgICAkbG9jYWxzdG9yYWdlLnJlbW92ZSgnYWNjZXNzX3Rva2VuJyk7XG4gICAgICAkbG9jYWxzdG9yYWdlLnJlbW92ZSgnb3JpZ2luYWxfdXNlcicpO1xuXG4gICAgICAkcm9vdFNjb3BlLmlzQXV0aGVudGljYXRlZCA9IGZhbHNlO1xuICAgICAgJHJvb3RTY29wZS51c2VyID0gbnVsbDtcbiAgICAgICRyb290U2NvcGUudmlldyA9ICdhdXRoJztcbiAgICAgICRyb290U2NvcGUuY3VycmVudFN0YXRlID0gJ2xvZ2luJztcbiAgICAgICR3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogW3NldENyZWRlbnRpYWxzIGRlc2NyaXB0aW9uXVxuICAgICAqIEBtZXRob2QgYXV0aGVudGljYXRlXG4gICAgICogQHBhcmFtICB7W3R5cGVdfSAgICAgdXNlciBbZGVzY3JpcHRpb25dXG4gICAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICAgICBbZGVzY3JpcHRpb25dXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0Q3JlZGVudGlhbHMoZGF0YSwgZm9yY2UpIHtcbiAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KCd0b2tlbicpKSB7XG4gICAgICAgIGlmIChmb3JjZSB8fCAhJGxvY2Fsc3RvcmFnZS5nZXQoJ2FjY2Vzc190b2tlbicpKSB7XG4gICAgICAgICAgJGxvY2Fsc3RvcmFnZS5zZXQoJ2FjY2Vzc190b2tlbicsIGRhdGEudG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgICRyb290U2NvcGUudXNlciA9IGRhdGEudXNlcjtcbiAgICAgICAgJGxvY2Fsc3RvcmFnZS5zZXRPYmplY3QoJ3VzZXInLCBkYXRhLnVzZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0JhZCBEYXRlJywgZGF0YSk7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBbaXNBdXRoZW50aWNhdGVkIGRlc2NyaXB0aW9uXVxuICAgICAqIEBtZXRob2QgaXNBdXRoZW50aWNhdGVkXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gICAgICAgW2Rlc2NyaXB0aW9uXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzQXV0aGVudGljYXRlZCgpIHtcbiAgICAgIHJldHVybiAkbG9jYWxzdG9yYWdlLmdldCgnYWNjZXNzX3Rva2VuJyk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBbY3JlZGVudGlhbEF2YWxpYWJpbGl0eSBkZXNjcmlwdGlvbl1cbiAgICAgKiBAbWV0aG9kIGNyZWRlbnRpYWxBdmFsaWFiaWxpdHlcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgICAgICAgW2Rlc2NyaXB0aW9uXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWRlbnRpYWxBdmFsaWFiaWxpdHkocGF5bG9hZCkge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgJGh0dHAuZ2V0KGJhc2VBcGkgKyAnL3VzZXIvYXZhaWxhYmlsaXR5LycsIHtcbiAgICAgICAgICBwYXJhbXM6IHBheWxvYWRcbiAgICAgICAgfSlcbiAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xuICAgICAgICB9KVxuICAgICAgICAuZXJyb3IoZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycik7XG4gICAgICAgIH0pO1xuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfVxuICB9XG5cblxuICAvKipcbiAgICogW0F1dGhJbnRlcmNlcHRvciBkZXNjcmlwdGlvbl1cbiAgICogQG1ldGhvZCBBdXRoSW50ZXJjZXB0b3JcbiAgICovXG4gIGZ1bmN0aW9uIEF1dGhJbnRlcmNlcHRvcigkcSwgJGxvY2Fsc3RvcmFnZSwgJGluamVjdG9yKSB7XG5cbiAgICB2YXIgQXV0aEludGVyY2VwdG9yID0ge1xuICAgICAgcmVxdWVzdDogcmVxdWVzdCxcbiAgICAgIHJlc3BvbnNlRXJyb3I6IHJlc3BvbnNlRXJyb3JcbiAgICB9O1xuXG4gICAgcmV0dXJuIEF1dGhJbnRlcmNlcHRvcjtcblxuICAgIGZ1bmN0aW9uIHJlcXVlc3QoY29uZmlnKSB7XG5cbiAgICAgIHZhciB0b2tlbjtcbiAgICAgIGlmICgkbG9jYWxzdG9yYWdlLmdldCgnYWNjZXNzX3Rva2VuJykpIHtcbiAgICAgICAgdG9rZW4gPSAkbG9jYWxzdG9yYWdlLmdldCgnYWNjZXNzX3Rva2VuJyk7XG4gICAgICB9XG4gICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9ICdCZWFyZXIgJyArIHRva2VuO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNwb25zZUVycm9yKHJlc3BvbnNlKSB7XG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDEgfHwgcmVzcG9uc2Uuc3RhdHVzID09PSA0MDMpIHtcbiAgICAgICAgJGxvY2Fsc3RvcmFnZS5yZW1vdmUoJ2FjY2Vzc190b2tlbicpO1xuICAgICAgICAkaW5qZWN0b3IuZ2V0KCckc3RhdGUnKS5nbygnbG9naW4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAkcS5yZWplY3QocmVzcG9uc2UpO1xuICAgIH1cblxuICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuc2VydmljZSgnRGF0YVNlcnZpY2UnLCBkYXRhU2VydmljZSk7XG5cbiAgZGF0YVNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCAnJHEnLCAnYmFzZUFwaSddO1xuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiBkYXRhU2VydmljZSgkaHR0cCwgJHEsIGJhc2VBcGkpIHtcbiAgICB2YXIgZGF0YVNlcnZpY2UgPSB7XG4gICAgICBnZXRPcHRpb25zOiBnZXRPcHRpb25zLFxuICAgICAgZ2V0Q2xpZW50VG9rZW4gOiBnZXRDbGllbnRUb2tlbixcbiAgICAgIGNyZWF0ZUNhbXBhaWduOiBjcmVhdGVDYW1wYWlnblxuICAgIH1cblxuICAgIHJldHVybiBkYXRhU2VydmljZTtcblxuICAgIGZ1bmN0aW9uIGdldE9wdGlvbnMoKSB7XG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAkaHR0cCh7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHVybDogYmFzZUFwaSArICcvY2FtcGFpZ24vb3B0aW9ucy8nXG4gICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XG4gICAgICB9KS5lcnJvcihmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGRlZmVycmVkLnJlamVjdChlcnIpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldENsaWVudFRva2VuKCkge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgJGh0dHAoe1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICB1cmw6IGJhc2VBcGkgKyAnL2NvbW1lcmNlL2NsaWVudFRva2VuLydcbiAgICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhKTtcbiAgICAgIH0pLmVycm9yKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycik7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBjcmVhdGVDYW1wYWlnbihwYXlsb2FkKSB7XG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgJGh0dHAucG9zdChiYXNlQXBpICsgJy9jYW1wYWlnbi9jcmVhdGUvJywgcGF5bG9hZClcbiAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5lcnJvcihmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9XG5cblxuXG5cblxuICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuc2VydmljZSgnRHJvcHpvbmVTZXJ2aWNlJywgRHJvcHpvbmVTZXJ2aWNlKTtcblxuICB2YXIgVFlQRVMgPSB7XG4gICAgbW9iaWxlOiB7XG4gICAgICB3aWR0aDogNzUwLFxuICAgICAgaGVpZ2h0OiAxMDBcbiAgICB9LFxuICAgIGRlc2t0b3A6IHtcbiAgICAgIHdpZHRoOiA4ODAsXG4gICAgICBoZWlnaHQ6IDExNTZcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gRHJvcHpvbmVTZXJ2aWNlKCkge1xuICAgIHZhciBzZXJ2aWNlID0ge1xuICAgICAgY3JlYXRlOiBjcmVhdGUsXG4gICAgICBjcmVhdGVNdWx0aXBsZTogY3JlYXRlTXVsdGlwbGVcbiAgICB9O1xuXG4gICAgcmV0dXJuIHNlcnZpY2U7XG5cbiAgICBmdW5jdGlvbiBjcmVhdGUodHlwZSwgc3VjY2Vzcywgc2VuZGluZywgcmVtb3ZlZGZpbGUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICB1cmw6ICdodHRwczovL2FwaS5jbG91ZGluYXJ5LmNvbS92MV8xL2Nsb3VkOS9pbWFnZS91cGxvYWQnLFxuICAgICAgICAgIHVwbG9hZE11bHRpcGxlOiBmYWxzZSxcbiAgICAgICAgICBtYXhGaWxlczogMSxcbiAgICAgICAgICBhY2NlcHRlZEZpbGVzOiAnaW1hZ2UvKicsXG4gICAgICAgICAgZGljdERlZmF1bHRNZXNzYWdlOiAnRHJvcCBmaWxlIG9yIGNsaWNrIGhlcmUgdG8gdXBsb2FkJyxcbiAgICAgICAgICBhZGRSZW1vdmVMaW5rczogdHJ1ZSxcbiAgICAgICAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMub24oJ3RodW1ibmFpbCcsIGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgICAgICAgaWYgKGZpbGUud2lkdGggIT09IFRZUEVTW3R5cGVdLndpZHRoIHx8IGZpbGUuaGVpZ2h0ICE9PSBUWVBFU1t0eXBlXS5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBmaWxlLnJlamVjdERpbWVuc2lvbnMoKVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZpbGUuYWNjZXB0RGltZW5zaW9ucygpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFjY2VwdDogZnVuY3Rpb24oZmlsZSwgZG9uZSkge1xuICAgICAgICAgICAgZmlsZS5hY2NlcHREaW1lbnNpb25zID0gZG9uZTtcbiAgICAgICAgICAgIGZpbGUucmVqZWN0RGltZW5zaW9ucyA9IGZ1bmN0aW9uKCkgeyBkb25lKCdJbnZhbGlkIGRpbWVuc2lvbi4nKTsgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGV2ZW50SGFuZGxlcnM6IHtcbiAgICAgICAgICBzZW5kaW5nOiBmdW5jdGlvbihmaWxlLCB4aHIsIGZvcm1EYXRhKSB7XG4gICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2FwaV9rZXknLCA4Mzk5ODgzMzMxNTM1NjcpO1xuICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCd0aW1lc3RhbXAnLCBEYXRlLm5vdygpIC8gMTAwMCB8IDApO1xuICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCd1cGxvYWRfcHJlc2V0JywgJ3NtMmV2NG51Jyk7XG4gICAgICAgICAgICBpZiAoc2VuZGluZykgc2VuZGluZygpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc3VjY2Vzczogc3VjY2VzcyxcbiAgICAgICAgICByZW1vdmVkZmlsZTogcmVtb3ZlZGZpbGVcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVNdWx0aXBsZShtYXhGaWxlcywgc3VjY2Vzcywgc2VuZGluZykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgIHVybDogJ2h0dHBzOi8vYXBpLmNsb3VkaW5hcnkuY29tL3YxXzEvY2xvdWQ5L2ltYWdlL3VwbG9hZCcsXG4gICAgICAgICAgbWF4RmlsZXM6IG1heEZpbGVzLFxuICAgICAgICAgIGFjY2VwdGVkRmlsZXM6ICdpbWFnZS8qJyxcbiAgICAgICAgICBkaWN0RGVmYXVsdE1lc3NhZ2U6ICdEcm9wIGZpbGVzIG9yIGNsaWNrIGhlcmUgdG8gdXBsb2FkJ1xuICAgICAgICB9LFxuICAgICAgICBldmVudEhhbmRsZXJzOiB7XG4gICAgICAgICAgc2VuZGluZzogZnVuY3Rpb24oZmlsZSwgeGhyLCBmb3JtRGF0YSkge1xuICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdhcGlfa2V5JywgODM5OTg4MzMzMTUzNTY3KTtcbiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgndGltZXN0YW1wJywgRGF0ZS5ub3coKSAvIDEwMDAgfCAwKTtcbiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgndXBsb2FkX3ByZXNldCcsICdzbTJldjRudScpO1xuICAgICAgICAgICAgaWYgKHNlbmRpbmcpIHNlbmRpbmcoKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHN1Y2Nlc3M6IHN1Y2Nlc3NcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgLmZhY3RvcnkoJyRsb2NhbHN0b3JhZ2UnLCAkbG9jYWxzdG9yYWdlKTtcblxuICAkbG9jYWxzdG9yYWdlLiRpbmplY3QgPSBbJyR3aW5kb3cnXTtcblxuICBmdW5jdGlvbiAkbG9jYWxzdG9yYWdlKCR3aW5kb3cpIHtcbiAgICB2YXIgc2VydmljZSA9IHtcbiAgICAgIHNldDogc2V0LFxuICAgICAgZ2V0OiBnZXQsXG4gICAgICBzZXRPYmplY3Q6IHNldE9iamVjdCxcbiAgICAgIGdldE9iamVjdDogZ2V0T2JqZWN0LFxuICAgICAgcmVtb3ZlOiByZW1vdmVcbiAgICB9O1xuXG4gICAgcmV0dXJuIHNlcnZpY2U7XG5cbiAgICAvLy8vLy8vLy8vXG5cbiAgICBmdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Vba2V5XSA9IHZhbHVlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldChrZXksIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuICR3aW5kb3cubG9jYWxTdG9yYWdlW2tleV0gfHwgZGVmYXVsdFZhbHVlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldE9iamVjdChrZXksIHZhbHVlKSB7XG4gICAgICAkd2luZG93LmxvY2FsU3RvcmFnZVtrZXldID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldE9iamVjdChrZXksIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuIEpTT04ucGFyc2UoJHdpbmRvdy5sb2NhbFN0b3JhZ2Vba2V5XSB8fCAoZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQgPyBkZWZhdWx0VmFsdWUgOiAne30nKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlKGtleSkge1xuICAgICAgcmV0dXJuICR3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICB9XG4gIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgIC5kaXJlY3RpdmUoJ2FkYk9yZGVyc0NhbXBhaWduJywgZGlyZWN0aXZlKTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gZGlyZWN0aXZlKCkge1xuICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgIHRlbXBsYXRlVXJsOiAnYXNzZXRzL3ZpZXdzL29yZGVycy9vcmRlcnMuY2FtcGFpZ24uaHRtbCcsXG4gICAgICBzY29wZToge1xuICAgICAgICBvcHRpb25zOiAnPScsXG4gICAgICAgIGZvcm06ICc9JyxcbiAgICAgICAgdG90YWw6ICc9J1xuICAgICAgfSxcbiAgICAgIGNvbnRyb2xsZXI6IENvbnRyb2xsZXIsXG4gICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXG4gICAgfTtcblxuICAgIHJldHVybiBkaXJlY3RpdmU7XG4gIH1cblxuICBDb250cm9sbGVyLiRpbmplY3QgPSBbJyRodHRwJywgJyRxJ107XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIENvbnRyb2xsZXIoJGh0dHAsICRxKSB7XG4gICAgdmFyIHZtID0gdGhpcztcblxuICAgIGFjdGl2YXRlKCk7XG5cbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcblxuICAgIH1cbiAgICBcbiAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgLmRpcmVjdGl2ZSgnYWRiT3JkZXJzQ2hlY2tvdXQnLCBkaXJlY3RpdmUpO1xuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiBkaXJlY3RpdmUoKSB7XG4gICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgdGVtcGxhdGVVcmw6ICdhc3NldHMvdmlld3Mvb3JkZXJzL29yZGVycy5jaGVja291dC5odG1sJyxcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIG9wdGlvbnM6ICc9JyxcbiAgICAgICAgZm9ybTogJz0nLFxuICAgICAgICB0b3RhbDogJz0nXG4gICAgICB9LFxuICAgICAgbGluazogbGlua0Z1bmMsXG4gICAgICBjb250cm9sbGVyOiBDb250cm9sbGVyLFxuICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuICAgIH07XG5cbiAgICByZXR1cm4gZGlyZWN0aXZlO1xuXG4gICAgZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG5cbiAgICB9XG4gIH1cblxuICBDb250cm9sbGVyLiRpbmplY3QgPSBbJ18nLCAnYnJhaW50cmVlJywgJyRzY29wZScsICckaHR0cCcsICckcScsICdEYXRhU2VydmljZSddO1xuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiBDb250cm9sbGVyKF8sIGJyYWludHJlZSwgJHNjb3BlLCAkaHR0cCwgJHEsIERhdGFTZXJ2aWNlKSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICB2bS5jaGVja291dCA9IHt9O1xuICAgIHZtLmxvYWRpbmcgPSBmYWxzZTtcbiAgICB2bS5hdXRob3JpemF0aW9uID0gZmFsc2U7XG4gICAgYWN0aXZhdGUoKTtcblxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgRGF0YVNlcnZpY2UuZ2V0Q2xpZW50VG9rZW4oKS50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgICAgICBzZXR1cEdhdGV3YXkocmVzLmNsaWVudFRva2VuKTtcbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXR1cEdhdGV3YXkodG9rZW4pIHtcbiAgICAgIGJyYWludHJlZS5zZXR1cCh0b2tlbiwgJ2N1c3RvbScsIHtcbiAgICAgICAgcGF5cGFsOiB7XG4gICAgICAgICAgY29udGFpbmVyOiAncGF5cGFsLWNvbnRhaW5lcicsXG4gICAgICAgICAgc2luZ2xlVXNlOiB0cnVlLFxuICAgICAgICAgIGFtb3VudDogJzAnLFxuICAgICAgICAgIGN1cnJlbmN5OiAnVVNEJyxcbiAgICAgICAgICBsb2NhbGU6ICdlbl91cycsXG4gICAgICAgICAgZW5hYmxlU2hpcHBpbmdBZGRyZXNzOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICBvblBheW1lbnRNZXRob2RSZWNlaXZlZDogZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgZG9Tb21ldGhpbmdXaXRoVGhlTm9uY2Uob2JqLm5vbmNlKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25SZWFkeTogZnVuY3Rpb24oaW50ZWdyYXRpb24pIHtcbiAgICAgICAgICB2bS5jaGVja291dCA9IGludGVncmF0aW9uO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB2bS5sYXVuY2ggPSBmdW5jdGlvbigpIHtcbiAgICAgIHZtLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgdm0uZm9ybS5hbW91bnQgPSB2bS50b3RhbDtcbiAgICAgIERhdGFTZXJ2aWNlLmNyZWF0ZUNhbXBhaWduKHZtLmZvcm0pLnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXNwKTtcbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSkuZmluYWxseShmdW5jdGlvbigpIHtcbiAgICAgICAgdm0ubG9hZGluZyA9IGZhbHNlO1xuICAgICAgfSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkb1NvbWV0aGluZ1dpdGhUaGVOb25jZShyZXMpIHtcbiAgICAgIGNvbnNvbGUubG9nKHJlcyk7XG5cbiAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZtLmZvcm0ubm9uY2UgPSByZXM7XG4gICAgICAgIHZtLmF1dGhvcml6YXRpb24gPSB0cnVlO1xuICAgICAgfSlcblxuICAgIH1cblxuXG4gICAgLy8gLy8gV2hlbiB5b3UgYXJlIHJlYWR5IHRvIHRlYXIgZG93biB5b3VyIGludGVncmF0aW9uXG4gICAgLy8gY2hlY2tvdXQudGVhcmRvd24oZnVuY3Rpb24oKSB7XG4gICAgLy8gICBjaGVja291dCA9IG51bGw7XG4gICAgLy8gICAvLyBicmFpbnRyZWUuc2V0dXAgY2FuIHNhZmVseSBiZSBydW4gYWdhaW4hXG4gICAgLy8gfSk7XG5cbiAgICAkc2NvcGUuJHdhdGNoKCd2bS5mb3JtJywgZnVuY3Rpb24oYywgbykge1xuICAgICAgaWYgKCFjKSByZXR1cm47XG5cbiAgICAgIGNvbnNvbGUubG9nKGMpO1xuICAgIH0pO1xuXG4gICAgJHNjb3BlLiR3YXRjaCgndm0uY2hlY2tvdXQnLCBmdW5jdGlvbihjLCBvKSB7XG4gICAgICBpZiAoIWMpIHJldHVybjtcblxuICAgICAgY29uc29sZS5sb2coYyk7XG4gICAgfSk7XG4gIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgIC5kaXJlY3RpdmUoJ2FkYk9yZGVyc0N1c3RvbWVyJywgZGlyZWN0aXZlKTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gZGlyZWN0aXZlKCkge1xuICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgIHRlbXBsYXRlVXJsOiAnYXNzZXRzL3ZpZXdzL29yZGVycy9vcmRlcnMuY3VzdG9tZXIuaHRtbCcsXG4gICAgICBzY29wZToge1xuICAgICAgICBvcHRpb25zOiAnPScsXG4gICAgICAgIGZvcm06ICc9JyxcbiAgICAgICAgdG90YWw6ICc9JyxcbiAgICAgICAgY29udHJvbDogJz0nXG4gICAgICB9LFxuICAgICAgY29udHJvbGxlcjogQ29udHJvbGxlcixcbiAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcbiAgICB9O1xuXG4gICAgcmV0dXJuIGRpcmVjdGl2ZTtcbiAgfVxuXG4gIENvbnRyb2xsZXIuJGluamVjdCA9IFsnJGh0dHAnLCAnJHEnLCAnJHJvb3RTY29wZScsICckbWREaWFsb2cnLCAnQXV0aCddO1xuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiBDb250cm9sbGVyKCRodHRwLCAkcSwgJHJvb3RTY29wZSwgJG1kRGlhbG9nLCBBdXRoKSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICB2bS5uZXh0VGFiID0gbmV4dFRhYjtcblxuICAgIGZ1bmN0aW9uIG5leHRUYWIoKSB7XG4gICAgICB2bS5jb250cm9sLnRhYnNbM10udmFsaWQgPSB0cnVlO1xuICAgICAgdm0uY29udHJvbC5zZWxlY3RlZFRhYiArPSAxO1xuICAgIH1cblxuICAgIHZtLmF1dGggPSBmdW5jdGlvbigpIHtcbiAgICAgIHZtLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgQXV0aC5sb2dpbih2bS5mb3JtLmF1dGgpLnRoZW4oZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICAgIG5leHRUYWIoKTtcbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSkuZmluYWxseShmdW5jdGlvbigpIHtcbiAgICAgICAgdm0ubG9hZGluZyA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZtLnNpZ251cCA9IGZ1bmN0aW9uKCkge1xuICAgICAgJG1kRGlhbG9nLnNob3coe1xuICAgICAgICBmdWxsc2NyZWVuOiB0cnVlLFxuICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgIGNvbnRyb2xsZXI6ICdTaWdudXBDb250cm9sbGVyJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdhc3NldHMvdmlld3MvbW9kYWwvc2lnbnVwLmh0bWwnLFxuICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIG5leHRUYWIoKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgLmNvbnRyb2xsZXIoJ09yZGVyc0NvbnRyb2xsZXInLCBDb250cm9sbGVyKTtcblxuICBDb250cm9sbGVyLiRpbmplY3QgPSBbJ18nLCAnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJG1kRGlhbG9nJywgICckbWRUb2FzdCcsICdEYXRhU2VydmljZSddO1xuXG4gIGZ1bmN0aW9uIENvbnRyb2xsZXIoXywgJHNjb3BlLCRyb290U2NvcGUsICAkbWREaWFsb2csICRtZFRvYXN0LCBEYXRhU2VydmljZSkge1xuICAgIHZhciB2bSA9IHRoaXM7XG5cbiAgICB2bS5vcGVuSW1hZ2UgPSBvcGVuSW1hZ2U7XG4gICAgdm0uYWRkID0gYWRkO1xuICAgIHZtLnRvdGFsID0gMDtcblxuICAgIHZtLmNvbnRyb2wgPSB7XG4gICAgICBzZWxlY3RlZFRhYjogMCxcbiAgICAgIHRhYnM6IFt7XG4gICAgICAgIHZhbGlkOiB0cnVlLFxuICAgICAgICBzaG93OiB0cnVlXG4gICAgICB9LCB7XG4gICAgICAgIHZhbGlkOiBmYWxzZSxcbiAgICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgIH0sIHtcbiAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICBzaG93OiB0cnVlXG4gICAgICB9LCB7XG4gICAgICAgIHZhbGlkOiBmYWxzZSxcbiAgICAgICAgc2hvdzogdHJ1ZVxuICAgICAgfV1cbiAgICB9O1xuXG4gICAgdm0ub3B0aW9ucyA9IHtcbiAgICAgIHRhcmdldDoge1xuICAgICAgICBkaXNwbGF5OiBbXSxcbiAgICAgICAgbWVkaWE6IFtdLFxuICAgICAgICBpbXByZXNzaW9uc1VuaXRzOiBbXSxcbiAgICAgICAgaW1wcmVzc2lvbnNUaW1lOiBbXSxcbiAgICAgICAgZGlzdGFuY2U6IFtdLFxuICAgICAgICBhZ2U6IFtdLFxuICAgICAgICBnZW5kZXI6IFtdXG4gICAgICB9XG4gICAgfTtcblxuICAgIHZtLmZvcm0gPSB7XG4gICAgICBtZWRpYToge30sXG4gICAgICBiYW5uZXI6IHtcbiAgICAgICAgZGVzY3JpcHRpb246IG51bGwsXG4gICAgICAgIHVybDogbnVsbCxcbiAgICAgICAgd2Vic2l0ZTogbnVsbCxcbiAgICAgICAgYXBwOiBudWxsLFxuICAgICAgfSxcbiAgICAgIG1hcmtlcjoge30sXG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIGRpc3BsYXk6IHt9LFxuICAgICAgICBpbXByZXNzaW9uczoge30sXG4gICAgICAgIGRpc3RhbmNlOiB7fSxcbiAgICAgICAgYWdlOiB7fSxcbiAgICAgICAgZ2VuZGVyOiB7fSxcbiAgICAgICAgaW50ZXJlc3RzOiB7fVxuICAgICAgfSxcbiAgICAgIGN1c3RvbWVyOiB7fSxcbiAgICAgIGF1dGg6IHt9XG4gICAgfTtcblxuICAgIGFjdGl2YXRlKCk7XG5cbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgIERhdGFTZXJ2aWNlLmdldE9wdGlvbnMoKS50aGVuKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzcCk7XG4gICAgICAgIHZtLm9wdGlvbnMudGFyZ2V0ID0gZG9fbWVyZ2UocmVzcCk7XG4gICAgICAgIGNvbnNvbGUubG9nKHZtLmZvcm0pO1xuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KVxuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gZG9fbWVyZ2Uocm9sZXMpIHtcblxuICAgICAgLy8gQ3VzdG9tIG1lcmdlIGZ1bmN0aW9uIE9ScyB0b2dldGhlciBub24tb2JqZWN0IHZhbHVlcywgcmVjdXJzaXZlbHlcbiAgICAgIC8vIGNhbGxzIGl0c2VsZiBvbiBPYmplY3RzLlxuICAgICAgdmFyIG1lcmdlciA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgaWYgKF8uaXNPYmplY3QoYSkpIHtcbiAgICAgICAgICByZXR1cm4gXy5tZXJnZSh7fSwgYSwgYiwgbWVyZ2VyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gYSB8fCBiO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICAvLyBBbGxvdyByb2xlcyB0byBiZSBwYXNzZWQgdG8gXy5tZXJnZSBhcyBhbiBhcnJheSBvZiBhcmJpdHJhcnkgbGVuZ3RoXG4gICAgICB2YXIgYXJncyA9IF8uZmxhdHRlbihbe30sIHJvbGVzLCBtZXJnZXJdKTtcbiAgICAgIHJldHVybiBfLm1lcmdlLmFwcGx5KF8sIGFyZ3MpO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gb3BlbkltYWdlKCRldmVudCwgaW1hZ2UpIHtcbiAgICAgICRtZERpYWxvZy5zaG93KHtcbiAgICAgICAgZnVsbHNjcmVlbjogdHJ1ZSxcbiAgICAgICAgdGFyZ2V0RXZlbnQ6ICRldmVudCxcbiAgICAgICAgY2xpY2tPdXRzaWRlVG9DbG9zZTogdHJ1ZSxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvc2hhcmVkL2xheW91dC9pbWFnZU1vZGFsLmh0bWwnLFxuICAgICAgICBsb2NhbHM6IHtcbiAgICAgICAgICBpbWFnZTogaW1hZ2VcbiAgICAgICAgfSxcbiAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnaW1hZ2UnLCBmdW5jdGlvbihzY29wZSwgaW1hZ2UpIHtcbiAgICAgICAgICBzY29wZS5pbWFnZSA9IGltYWdlO1xuICAgICAgICB9XVxuICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBhZGQoKSB7XG4gICAgICAkbWREaWFsb2cuc2hvdyh7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL2NvbXBvbmVudHMvYWQvYWR2ZXJ0aXNlbWVudE1vZGFsLmh0bWwnLFxuICAgICAgICBjbGlja091dHNpZGVUb0Nsb3NlOiB0cnVlLFxuICAgICAgICBmdWxsc2NyZWVuOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzaG93VmFsaWROb3RpZmljYXRpb24oKSB7XG4gICAgICAkbWRUb2FzdC5zaG93KFxuICAgICAgICAkbWRUb2FzdC5zaW1wbGUoKVxuICAgICAgICAudGV4dENvbnRlbnQoJ0F3ZXNvbWUsIHlvdSBjYW4gbm93IGdvIHRvIG5leHQgc3RlcCEnKVxuICAgICAgICAucG9zaXRpb24oJ2JvdHRvbSByaWdodCcpXG4gICAgICAgIC5oaWRlRGVsYXkoMzAwMClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmFsaWRhdGVCYW5uZXIoZGlzcGxheSkge1xuICAgICAgdmFyIGNoZWNrID0gZmFsc2U7XG4gICAgICBpZiAoZGlzcGxheSA9PT0gJ2JvdGgnKSB7XG4gICAgICAgIGNoZWNrID0gXy5pc0VtcHR5KF8ucGlja0J5KHZtLmZvcm0uYmFubmVyLCBfLmlzTnVsbCkpID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICByZXR1cm4gY2hlY2s7XG4gICAgICB9XG5cbiAgICAgIGNoZWNrID0gKHZtLmZvcm0uYmFubmVyLmRlc2NyaXB0aW9uICYmIHZtLmZvcm0uYmFubmVyLnVybCAmJiB2bS5mb3JtLmJhbm5lcltkaXNwbGF5XSkgPyB0cnVlIDogZmFsc2U7XG4gICAgICByZXR1cm4gY2hlY2s7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmFsaWRhdGVNYXAoKSB7XG4gICAgICByZXR1cm4gIV8uaXNFbXB0eSh2bS5mb3JtLm1hcmtlcik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmFsaWRhdGVTdGVwWmVybygpIHtcbiAgICAgIHZhciBtZWRpYSA9IHZtLmZvcm0ubWVkaWEuZGlzcGxheVxuICAgICAgdmFyIGRpc3BsYXkgPSB2bS5mb3JtLm9wdGlvbnMuZGlzcGxheS5kaXNwbGF5O1xuXG4gICAgICBzd2l0Y2ggKGRpc3BsYXkpIHtcbiAgICAgICAgY2FzZSAnYmFubmVyJzpcbiAgICAgICAgICByZXR1cm4gdmFsaWRhdGVCYW5uZXIobWVkaWEpXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ21hcCc6XG4gICAgICAgICAgcmV0dXJuIHZhbGlkYXRlTWFwKClcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcblxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlRm9ybSgpIHtcbiAgICAgIHN3aXRjaCAodm0uY29udHJvbC5zZWxlY3RlZFRhYikge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAge1xuICAgICAgICAgICAgaWYgKHZtLmZvcm0ubWVkaWEuaGFzT3duUHJvcGVydHkoJ2lkJykgJiYgdm0uZm9ybS5vcHRpb25zLmRpc3BsYXkuaGFzT3duUHJvcGVydHkoJ2lkJykgJiYgdmFsaWRhdGVTdGVwWmVybygpKSB7XG4gICAgICAgICAgICAgIHZtLmNvbnRyb2wudGFic1sxXS52YWxpZCA9IHRydWU7XG4gICAgICAgICAgICAgIHNob3dWYWxpZE5vdGlmaWNhdGlvbigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdm0uY29udHJvbC50YWJzWzFdLnZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZiAodm0uZm9ybS5vcHRpb25zLmltcHJlc3Npb25zLmhhc093blByb3BlcnR5KCdpZCcpKSB7XG4gICAgICAgICAgICAgIHZtLmNvbnRyb2wudGFic1syXS52YWxpZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgaWYoJHJvb3RTY29wZS51c2VyKSB7XG4gICAgICAgICAgICAgICAgICB2bS5jb250cm9sLnRhYnNbM10udmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNob3dWYWxpZE5vdGlmaWNhdGlvbigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdm0uY29udHJvbC50YWJzWzJdLnZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgY29uc29sZS5sb2codm0uY29udHJvbC5zZWxlY3RlZFRhYik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLiR3YXRjaCgndm0uZm9ybScsIGZ1bmN0aW9uKGMsIG8pIHtcbiAgICAgIGNvbnNvbGUubG9nKGMpO1xuXG4gICAgICB2YWxpZGF0ZUZvcm0oKTtcblxuICAgICAgdm0udG90YWwgPSBjLm1lZGlhLmhhc093blByb3BlcnR5KCdmZWUnKSA/IGMubWVkaWEuZmVlIDogMDtcblxuICAgICAgXy5tYXAoYy5vcHRpb25zLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIGlmIChpdGVtLmhhc093blByb3BlcnR5KCdmZWUnKSkge1xuICAgICAgICAgIHZtLnRvdGFsICs9IHZtLnRvdGFsICogaXRlbS5mZWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXRlbS5oYXNPd25Qcm9wZXJ0eSgnZGlzY291bnQnKSkge1xuICAgICAgICAgIHZtLnRvdGFsIC09IHZtLnRvdGFsICogaXRlbS5kaXNjb3VudDtcbiAgICAgICAgfVxuXG4gICAgICB9KVxuICAgIH0sIHRydWUpXG5cbiAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgLmRpcmVjdGl2ZSgnYWRiT3JkZXJzUmVzdW1lJywgZGlyZWN0aXZlKTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gZGlyZWN0aXZlKCkge1xuICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgIHRlbXBsYXRlVXJsOiAnYXNzZXRzL3ZpZXdzL29yZGVycy9vcmRlcnMucmVzdW1lLmh0bWwnLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgb3B0aW9uczogJz0nLFxuICAgICAgICBmb3JtOiAnPScsXG4gICAgICAgIHRvdGFsOiAnPScsXG4gICAgICB9LFxuICAgICAgbGluazogbGlua0Z1bmMsXG4gICAgICBjb250cm9sbGVyOiBDb250cm9sbGVyLFxuICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuICAgIH07XG5cbiAgICByZXR1cm4gZGlyZWN0aXZlO1xuXG4gICAgZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG5cbiAgICB9XG4gIH1cblxuICBDb250cm9sbGVyLiRpbmplY3QgPSBbJ18nLCAnJGh0dHAnLCAnJHEnXTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gQ29udHJvbGxlcihfLCAkaHR0cCwgJHEpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgYWN0aXZhdGUoKTtcblxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuXG4gICAgfVxuXG4gICAgdm0uZm9ybWF0SW1wcmVzc2lvbnMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgaWYgKCF2bS5mb3JtLmltcHJlc3Npb25UeXBlIHx8ICF2bS5mb3JtLm9wdGlvbnMuaW1wcmVzc2lvbnMuaGFzT3duUHJvcGVydHkoJ2lkJykpIHJldHVybjtcblxuICAgICAgdmFyIHR5cGVzID0ge1xuICAgICAgICBpbXByZXNzaW9uc1VuaXRzOiBfLmpvaW4oW3ZtLmZvcm0ub3B0aW9ucy5pbXByZXNzaW9ucy5xdWFudGl0eSwgdm0uZm9ybS5vcHRpb25zLmltcHJlc3Npb25zLnR5cGVdLCBcIiBcIiksXG4gICAgICAgIGltcHJlc3Npb25zVGltZTogXy5qb2luKFt2bS5mb3JtLm9wdGlvbnMuaW1wcmVzc2lvbnMudGltZSwgdm0uZm9ybS5vcHRpb25zLmltcHJlc3Npb25zLnBlcmlvZF0sIFwiIFwiKSxcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHR5cGVzW3ZtLmZvcm0uaW1wcmVzc2lvblR5cGVdO1xuICAgIH1cblxuICAgIHZtLmZvcm1hdFRhcmdldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHRhcmdldCA9IHtcbiAgICAgICAgZGlzdGFuY2U6ICB7XG4gICAgICAgICAgdmFsdWU6IHZtLmZvcm0ub3B0aW9ucy5kaXN0YW5jZSxcbiAgICAgICAgICByZW5kZXI6IF8uam9pbihbJ0Rpc3RhbmNlOicsICh2bS5mb3JtLm9wdGlvbnMuZGlzdGFuY2UuZGlzdGFuY2UgfHwgJycpLCAnS20nXSwgJyAnKVxuICAgICAgICB9LFxuICAgICAgICBhZ2U6IHtcbiAgICAgICAgICB2YWx1ZTogdm0uZm9ybS5vcHRpb25zLmFnZSxcbiAgICAgICAgICByZW5kZXI6IF8uam9pbihbJ0FnZSBiZXR3ZWVuOicsIF8uam9pbih2bS5mb3JtLm9wdGlvbnMuYWdlLnJhbmdlLCAnLScpIF0sICcgJylcbiAgICAgICAgfSxcbiAgICAgICAgZ2VuZGVyOiAge1xuICAgICAgICAgIHZhbHVlOiB2bS5mb3JtLm9wdGlvbnMuZ2VuZGVyLFxuICAgICAgICAgIHJlbmRlcjogXy5qb2luKFsnR2VuZGVyOicsIHZtLmZvcm0ub3B0aW9ucy5nZW5kZXIuZ2VuZGVyIF0sICcgJylcbiAgICAgICAgfSxcbiAgICAgICAgaW50ZXJlc3RzOiB7XG4gICAgICAgICAgdmFsdWU6IHZtLmZvcm0ub3B0aW9ucy5pbnRlcmVzdHMsXG4gICAgICAgICAgcmVuZGVyOiBfLmpvaW4oWydJbnRlcmVzdHM6Jywgdm0uZm9ybS5vcHRpb25zLmludGVyZXN0cy5xdWFudGl0eSBdLCAnICcpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIHNlbGVjdGVkID0gXy5waWNrQnkodGFyZ2V0LCBmdW5jdGlvbihpKSB7XG4gICAgICAgIHJldHVybiBpLnZhbHVlLmhhc093blByb3BlcnR5KCdpZCcpO1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChfLmlzRW1wdHkoc2VsZWN0ZWQpKSByZXR1cm4gJyc7XG5cbiAgICAgIHJldHVybiBfLmpvaW4oWydUYXJnZXQ6ICcsIF8ubWFwKE9iamVjdC5rZXlzKHNlbGVjdGVkKSwgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHJldHVybiB0YXJnZXRba2V5XS5yZW5kZXI7XG4gICAgICB9KV0sICcnKTtcblxuICAgIH1cblxuXG4gICAgdm0uZm9ybWF0UmVzdW1lID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcmVzdW1lO1xuICAgIH1cbiAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgLmRpcmVjdGl2ZSgnYWRiRGlzcGxheUNob29zZXInLCBkaXJlY3RpdmUpO1xuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiBkaXJlY3RpdmUoKSB7XG4gICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgdGVtcGxhdGVVcmw6ICdhc3NldHMvdmlld3Mvb3JkZXJzL29yZGVycy5kaXNwbGF5Lmh0bWwnLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgb3B0aW9uczogJz0nLFxuICAgICAgICBmb3JtOiAnPScsXG4gICAgICAgIHRvdGFsOiAnPSdcbiAgICAgIH0sXG4gICAgICBjb250cm9sbGVyOiBDb250cm9sbGVyLFxuICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuICAgIH07XG5cbiAgICByZXR1cm4gZGlyZWN0aXZlO1xuICB9XG5cbiAgQ29udHJvbGxlci4kaW5qZWN0ID0gWyd1aUdtYXBHb29nbGVNYXBBcGknLFxuICAgICd1aUdtYXBJc1JlYWR5JyxcbiAgICAnJHEnLFxuICAgICckc2NvcGUnLFxuICAgICckdGltZW91dCcsXG4gICAgJ0Ryb3B6b25lU2VydmljZSdcbiAgXTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gQ29udHJvbGxlcih1aUdtYXBHb29nbGVNYXBBcGksIHVpR21hcElzUmVhZHksICRxLCAkc2NvcGUsICR0aW1lb3V0LCBEcm9wem9uZVNlcnZpY2UpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuICAgIHZhciBQbGFjZXMgPSBudWxsO1xuICAgIHZhciBEaXJlY3Rpb25SZW5kZXJlciA9IG51bGw7XG4gICAgdmFyIERpcmVjdGlvbnNTZXJ2aWNlID0gbnVsbDtcbiAgICB2YXIgUGxhY2VzQXV0b2NvbXBsZXRlID0gbnVsbDtcbiAgICB2bS5tYXJrZXJDb25maXJtZWQgPSBmYWxzZTtcbiAgICB2bS5wbGFjZXNSZWFkeSA9IGZhbHNlO1xuXG4gICAgdm0uY29udHJvbCA9IHtcbiAgICAgIHVwbG9hZGluZzogZmFsc2VcbiAgICB9XG4gICAgdm0ubWFwID0ge1xuICAgICAgY2VudGVyOiB7XG4gICAgICAgIGxhdGl0dWRlOiA0NS41MDE3NDUwMjgxNjY2NyxcbiAgICAgICAgbG9uZ2l0dWRlOiAtNzMuNTcwMzg4MTgyOTk3N1xuICAgICAgfSxcbiAgICAgIHpvb206IDE0LFxuICAgICAgb3B0aW9uczoge1xuICAgICAgICBzY3JvbGx3aGVlbDogdHJ1ZVxuICAgICAgfSxcbiAgICAgIG1hcE1hcmtlcjogdHJ1ZSxcbiAgICAgIGRpc2FibGVEZWZhdWx0VUk6IHRydWUsXG4gICAgICBjb250cm9sOiB7fSxcbiAgICAgIGV2ZW50czoge1xuICAgICAgICBjbGljazogY2xpY2tNYXAsXG4gICAgICAgIGlkbGU6IGJvdW5kc0NoYW5nZWRcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdm0uaW5mbyA9IHtcbiAgICAgIG5hbWU6ICcnLFxuICAgICAgYWRkcmVzczogJycsXG4gICAgICBpY29uOiAnJyxcbiAgICB9XG5cbiAgICB2bS5tYXJrZXIgPSB7XG4gICAgICBpZDogMCxcbiAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgIGxhdGl0dWRlOiA0NS41MDE3NDUwMjgxNjY2NyxcbiAgICAgICAgbG9uZ2l0dWRlOiAtNzMuNTcwMzg4MTgyOTk3N1xuICAgICAgfSxcbiAgICAgIHNob3c6IGZhbHNlLFxuICAgIH1cblxuICAgIHZtLmRlc2t0b3BEcm9wem9uZSA9IERyb3B6b25lU2VydmljZS5jcmVhdGUoJ2Rlc2t0b3AnLCBmdW5jdGlvbihmaWxlLCByZXNwb25zZSkge1xuICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2Uuc2VjdXJlX3VybCk7XG4gICAgICAgIHZtLmZvcm0uYmFubmVyLndlYnNpdGUgPSByZXNwb25zZS5zZWN1cmVfdXJsO1xuICAgICAgICB2bS5jb250cm9sLnVwbG9hZGluZyA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICB2bS5jb250cm9sLnVwbG9hZGluZyA9IHRydWU7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHZtLm1vYmlsZURyb3B6b25lID0gRHJvcHpvbmVTZXJ2aWNlLmNyZWF0ZSgnbW9iaWxlJywgZnVuY3Rpb24oZmlsZSwgcmVzcG9uc2UpIHtcbiAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLnNlY3VyZV91cmwpO1xuICAgICAgICB2bS5mb3JtLmJhbm5lci5hcHAgPSByZXNwb25zZS5zZWN1cmVfdXJsO1xuICAgICAgICB2bS5jb250cm9sLnVwbG9hZGluZyA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICB2bS5jb250cm9sLnVwbG9hZGluZyA9IHRydWU7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGFjdGl2YXRlKCk7XG5cbiAgICAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdhY3RpdmF0ZScpO1xuICAgICAgcHJlcGFyZU1hcCgpO1xuICAgIH1cblxuICAgIHZtLmNsaWNrTWFya2VyID0gZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZygnY2xpY2snKTtcbiAgICAgIHZtLm1hcmtlci5zaG93ID0gIXZtLm1hcmtlci5zaG93O1xuICAgICAgJHNjb3BlLiRhcHBseSgpO1xuXG4gICAgfVxuXG4gICAgdm0uYXV0b2NvbXBsZXRlQWRkcmVzcyA9IGZ1bmN0aW9uKGFkZHJlc3MpIHtcblxuICAgICAgdm0ubWFya2VyQ29uZmlybWVkID0gZmFsc2U7XG5cbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgIFBsYWNlc0F1dG9jb21wbGV0ZS5nZXRRdWVyeVByZWRpY3Rpb25zKHtcbiAgICAgICAgaW5wdXQ6IGFkZHJlc3NcbiAgICAgIH0sIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhID8gXy5maWx0ZXIoZGF0YSwgJ3BsYWNlX2lkJykgOiBbXSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcblxuICAgIHZtLmdldFBsYWNlID0gZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZyh2bS5pbmZvLnBsYWNlKTtcblxuICAgICAgaWYgKCF2bS5pbmZvLnBsYWNlKSByZXR1cm47XG5cbiAgICAgIFBsYWNlcy5nZXREZXRhaWxzKHtcbiAgICAgICAgcGxhY2VJZDogdm0uaW5mby5wbGFjZS5wbGFjZV9pZFxuICAgICAgfSwgZnVuY3Rpb24ocGxhY2UsIHN0YXR1cykge1xuICAgICAgICBjb25zb2xlLmxvZyhwbGFjZSwgc3RhdHVzKTtcblxuICAgICAgICB2bS5tYXJrZXIgPSB7XG4gICAgICAgICAgaWQ6IERhdGUubm93KCksXG4gICAgICAgICAgbmFtZTogcGxhY2UubmFtZSxcbiAgICAgICAgICBhZGRyZXNzOiBwbGFjZS5mb3JtYXR0ZWRfYWRkcmVzcyxcbiAgICAgICAgICBsb2NhdGlvbjoge1xuICAgICAgICAgICAgbGF0aXR1ZGU6IHBhcnNlRmxvYXQocGxhY2UuZ2VvbWV0cnkubG9jYXRpb24ubGF0KCkpLFxuICAgICAgICAgICAgbG9uZ2l0dWRlOiBwYXJzZUZsb2F0KHBsYWNlLmdlb21ldHJ5LmxvY2F0aW9uLmxuZygpKSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNob3c6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgY2VudGVyTWFwKHZtLm1hcC5pbnN0YW5jZSwgdm0ubWFya2VyLmxvY2F0aW9uLCBudWxsLCB0cnVlKTtcbiAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZtLmNvbmZpcm1NYXJrZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIGFuZ3VsYXIuY29weSh2bS5tYXJrZXIsIHZtLmZvcm0ubWFya2VyKTtcbiAgICAgIHZtLm1hcmtlckNvbmZpcm1lZCA9IHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2VudGVyTWFwKG1hcCwgbG9jYXRpb24sIG9mZnNldCwgc2Nyb2xsKSB7XG4gICAgICBjb25zb2xlLmxvZyhsb2NhdGlvbik7XG4gICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgbWFwLnBhblRvKG5ldyBnb29nbGUubWFwcy5MYXRMbmcobG9jYXRpb24ubGF0aXR1ZGUsIGxvY2F0aW9uLmxvbmdpdHVkZSkpO1xuICAgICAgICBpZiAob2Zmc2V0KSBtYXAucGFuQnkoMCwgLTIwMCk7XG4gICAgICB9LCAxMDApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsaWNrTWFwKG1hcCwgZXZlbnROYW1lLCBvcmlnaW5hbEV2ZW50QXJncykge1xuICAgICAgdmFyIGUgPSBvcmlnaW5hbEV2ZW50QXJnc1swXTtcbiAgICAgIHZhciBsYXQgPSBlLmxhdExuZy5sYXQoKSxcbiAgICAgICAgbG9uID0gZS5sYXRMbmcubG5nKCk7XG4gICAgICB2bS5tYXJrZXIgPSB7XG4gICAgICAgIGlkOiBEYXRlLm5vdygpLFxuICAgICAgICBsb2NhdGlvbjoge1xuICAgICAgICAgIGxhdGl0dWRlOiBsYXQsXG4gICAgICAgICAgbG9uZ2l0dWRlOiBsb25cbiAgICAgICAgfSxcbiAgICAgICAgc2hvdzogZmFsc2VcbiAgICAgIH07XG4gICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYm91bmRzQ2hhbmdlZCgpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdib3VuZHMgY2hhbmdlZCcpO1xuICAgICAgY29uc29sZS5sb2codm0ucGxhY2VzUmVhZHkpO1xuXG4gICAgICBpZiAoIXZtLm1hcC5pbnN0YW5jZSkge1xuICAgICAgICBwcmVwYXJlTWFwKCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJlcGFyZU1hcCgpIHtcbiAgICAgICRxLmFsbChbdWlHbWFwR29vZ2xlTWFwQXBpLCB1aUdtYXBJc1JlYWR5LnByb21pc2UoMSldKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBtYXAgPSByZXNwb25zZVswXTtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gcmVzcG9uc2VbMV1bMF0ubWFwO1xuXG4gICAgICAgIHZtLndpbmRvdyA9IHtcbiAgICAgICAgICBwaXhlbE9mZnNldDogbmV3IG1hcC5TaXplKDAsIC00MCksXG4gICAgICAgICAgY2xvc2VDbGljazogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2bS5tYXJrZXIuc2hvdyA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBQbGFjZXNBdXRvY29tcGxldGUgPSBuZXcgbWFwLnBsYWNlcy5BdXRvY29tcGxldGVTZXJ2aWNlKCk7XG4gICAgICAgIERpcmVjdGlvbnNTZXJ2aWNlID0gbmV3IG1hcC5EaXJlY3Rpb25zU2VydmljZSgpO1xuICAgICAgICBEaXJlY3Rpb25SZW5kZXJlciA9IG5ldyBtYXAuRGlyZWN0aW9uc1JlbmRlcmVyKCk7XG4gICAgICAgIHZtLm1hcC5pbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgICAgICBEaXJlY3Rpb25SZW5kZXJlci5zZXRNYXAodm0ubWFwLmluc3RhbmNlKTtcbiAgICAgICAgUGxhY2VzID0gbmV3IG1hcC5wbGFjZXMuUGxhY2VzU2VydmljZSh2bS5tYXAuaW5zdGFuY2UpO1xuICAgICAgICB2bS5wbGFjZXNSZWFkeSA9IHRydWU7XG4gICAgICAgIGNvbnNvbGUubG9nKCdyZWFkeScpO1xuICAgICAgICAvL2dldExvY2F0aW9uKCk7XG5cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldExvY2F0aW9uKCkge1xuICAgICAgaWYgKHZtLmRhdGEubG9jYXRpb24pIHtcbiAgICAgICAgdm0ubG9jYXRpb24gPSB7XG4gICAgICAgICAgbGF0OiBwYXJzZUZsb2F0KHZtLmRhdGEubG9jYXRpb25bMF0pLFxuICAgICAgICAgIGxuZzogcGFyc2VGbG9hdCh2bS5kYXRhLmxvY2F0aW9uWzFdKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vXG4gICAgICAvLyBVdGlsU2VydmljZS5nZXRMb2NhdGlvbigpXG4gICAgICAvLyAgIC50aGVuKGZ1bmN0aW9uKGxvY2F0aW9uKSB7XG4gICAgICAvLyAgICAgdm0ubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgIC8vICAgICAvL2NlbnRlck1hcCh2bS5tYXAuaW5zdGFuY2UsIHZtLmxvY2F0aW9uKTtcbiAgICAgIC8vICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG4gICAgICAvLyAgICAgaWYgKCRyb290U2NvcGUudXNlci5hZGRyZXNzUGxhY2UpXG4gICAgICAvLyAgICAgICBnZXRQbGFjZSgkcm9vdFNjb3BlLnVzZXIuYWRkcmVzc1BsYWNlLnBsYWNlX2lkKTtcbiAgICAgIC8vXG4gICAgICAvLyAgIH0pLmZpbmFsbHkoZnVuY3Rpb24oKSB7XG4gICAgICAvLyAgICAgLy92bS5tYXBWaXNpYmxlID0gdHJ1ZTtcbiAgICAgIC8vICAgICAvL3ZtLmFjdGl2aXRpZXMucHVzaChsb2NhdGlvbk1hcmtlcigpKTtcbiAgICAgIC8vICAgICBjb25zb2xlLmxvZygnbG9jYXRpb24nKTtcbiAgICAgIC8vICAgfSk7XG5cbiAgICB9XG4gIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgIC5kaXJlY3RpdmUoJ2Ryb3B6b25lJywgZHJvcHpvbmUpO1xuXG4gIGRyb3B6b25lLiRpbmplY3QgPSBbJ0Ryb3B6b25lJ107XG5cbiAgZnVuY3Rpb24gZHJvcHpvbmUoRHJvcHpvbmUpIHtcbiAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgbGluazogbGluayxcbiAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgZHJvcHpvbmU6ICc9ZHJvcHpvbmUnLFxuICAgICAgICByZXNldDogJ0ByZXNldCdcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBkaXJlY3RpdmU7XG5cbiAgICBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgdmFyIGNvbmZpZywgem9uZTtcblxuICAgICAgY29uZmlnID0gc2NvcGUuZHJvcHpvbmU7XG4gICAgICB6b25lID0gbmV3IERyb3B6b25lKGVsZW1lbnRbMF0sIGNvbmZpZy5vcHRpb25zKTtcblxuICAgICAgaWYgKHNjb3BlLnJlc2V0KSB7XG4gICAgICAgIHpvbmUub24oJ2NvbXBsZXRlJywgZnVuY3Rpb24oZmlsZSkge1xuICAgICAgICAgIHpvbmUucmVtb3ZlRmlsZShmaWxlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChjb25maWcuZXZlbnRIYW5kbGVycywgZnVuY3Rpb24oaGFuZGxlciwgZXZlbnQpIHtcbiAgICAgICAgem9uZS5vbihldmVudCwgaGFuZGxlcik7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAgICAgLmRpcmVjdGl2ZSgnZm9vdGVyRGlyZWN0aXZlJywgZm9vdGVyRGlyZWN0aXZlKTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGZvb3RlckRpcmVjdGl2ZSgpIHtcbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhc3NldHMvdmlld3MvZm9vdGVyL2Zvb3Rlci5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IGZvb3RlckNvbnRyb2xsZXIsXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcbiAgICB9XG5cbiAgICBmb290ZXJDb250cm9sbGVyLiRpbmplY3QgPSBbXTtcblxuICAgIC8qIEBuZ0luamVjdCAqL1xuICAgIGZ1bmN0aW9uIGZvb3RlckNvbnRyb2xsZXIoKSB7XG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG5cbiAgICAgICAgYWN0aXZhdGUoKTtcblxuICAgICAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnZm9vdGVyIEFjdGl2YXRlZCcpO1xuICAgICAgICB9XG4gICAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgLmRpcmVjdGl2ZSgnaGVhZGVyRGlyZWN0aXZlJywgaGVhZGVyRGlyZWN0aXZlKTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gaGVhZGVyRGlyZWN0aXZlKCkge1xuICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgIHRlbXBsYXRlVXJsOiAnYXNzZXRzL3ZpZXdzL2hlYWRlci9oZWFkZXIuaHRtbCcsXG4gICAgICBjb250cm9sbGVyOiBoZWFkZXJDb250cm9sbGVyLFxuICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcbiAgICAgIHNjb3BlOiB7fVxuICAgIH07XG5cbiAgICByZXR1cm4gZGlyZWN0aXZlO1xuICB9XG5cbiAgaGVhZGVyQ29udHJvbGxlci4kaW5qZWN0ID0gWydBdXRoJywgJyRzY29wZScsJyRyb290U2NvcGUnXTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gaGVhZGVyQ29udHJvbGxlcihBdXRoLCAkc2NvcGUsICRyb290U2NvcGUpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgdm0ubG9nb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZygnTE9HT1VUJyk7XG4gICAgICBBdXRoLmxvZ291dCgpO1xuICAgIH07XG5cblxuICAgICRyb290U2NvcGUuJG9uKCdsb2dpbicsIGZ1bmN0aW9uKGV2ZW50LCB1c2VyKSB7XG4gICAgICBpZighJHJvb3RTY29wZS51c2VyKSB7XG4gICAgICAgIGFuZ3VsYXIuY29weSh1c2VyLCAkcm9vdFNjb3BlLnVzZXIpXG4gICAgICB9XG4gICAgICBjb25zb2xlLmxvZygnbG9naW4nLCAkcm9vdFNjb3BlLnVzZXIpO1xuICAgIH0pO1xuICB9XG59KSgpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
