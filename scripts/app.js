!function(){"use strict";angular.module("AnyDayBuddyAds",["ui.router","ngMaterial","uiGmapgoogle-maps"])}(),function(){"use strict";angular.module("AnyDayBuddyAds").constant("_",window._).constant("jQuery",window.jQuery).constant("Dropzone",window.Dropzone).constant("braintree",window.braintree).constant("baseApi","https://api.anydaybuddy.com")}(),function(){"use strict";function e(e){e.configure({key:"AIzaSyAonFuCDb7HjXUz0uocKbEGUJz91IL9EVs",libraries:"places"})}function t(e,t){e.definePalette("primary",{50:"#9dceda",100:"#65b2c5",200:"#429ab0",300:"#2f6d7c",400:"#265966",500:"#1e4650",600:"#16323a",700:"#0d1f23",800:"#050c0d",900:"#000000",A100:"#9dceda",A200:"#65b2c5",A400:"#265966",A700:"#0d1f23",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100 A200"}),e.definePalette("accent",{50:"#d0ebed",100:"#99d4d8",200:"#70c3c8",300:"#43a7ae",400:"#3a9298",500:"#327d82",600:"#29686c",700:"#215256",800:"#183d40",900:"#10282a",A100:"#d0ebed",A200:"#99d4d8",A400:"#3a9298",A700:"#215256",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100 A200"}),e.definePalette("warn",{50:"#faeee6",100:"#ecc3a7",200:"#e2a379",300:"#d57b3e",400:"#c96b2b",500:"#b05e26",600:"#975121",700:"#7e431b",800:"#643616",900:"#4b2810",A100:"#faeee6",A200:"#ecc3a7",A400:"#c96b2b",A700:"#7e431b",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100 A200"}),e.theme("default").primaryPalette("primary").accentPalette("accent").warnPalette("warn")}angular.module("AnyDayBuddyAds").config(t).config(e),e.$inject=["uiGmapGoogleMapApiProvider"],t.$inject=["$mdThemingProvider","$locationProvider"]}(),function(){"use strict";function e(e,t,o){e.$on("$stateChangeStart",function(t,o){e.fill="login"===o.name})}angular.module("AnyDayBuddyAds").run(e),e.$inject=["$rootScope","$state","Auth"]}(),function(){"use strict";function e(e,t,o){e.state("home",{url:"/",views:{main:{controller:"HomeController",controllerAs:"vm",templateUrl:"assets/views/home.html"}},authenticate:!1}).state("dashboard",{url:"/dashboard",views:{main:{controller:"DashboardController",controllerAs:"vm",templateUrl:"assets/views/dashboard/index.html"}},authenticate:!1}).state("dashboard.content",{url:"/content",views:{dashboard:{controller:"DashboardController",controllerAs:"vm",templateUrl:"assets/views/dashboard/content.html"}},authenticate:!1}).state("orders",{url:"/orders",views:{main:{controller:"OrdersController",controllerAs:"vm",templateUrl:"assets/views/orders.html"}},authenticate:!1}).state("login",{url:"/login",views:{main:{controller:"LoginController",controllerAs:"vm",templateUrl:"assets/views/login.html"}},authenticate:!1}),t.otherwise("/")}angular.module("AnyDayBuddyAds").config(e),e.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"]}(),function(){"use strict";function e(e,t){}e.$inject=["$http","$q"],angular.module("AnyDayBuddyAds").controller("DashboardController",e)}(),function(){"use strict";function e(e,t){function o(){}function n(e){t("html, body").animate({scrollTop:t(e).offset().top},1e3)}var r=this;r.title="Home Controller",r.scrollTo=n,o()}angular.module("AnyDayBuddyAds").controller("HomeController",e),e.$inject=["$rootScope","jQuery"]}(),function(){"use strict";function e(e){var t=this;t.login=function(){console.log("LOGIN",t.user),e.login(t.user).then(function(e){console.log(e)})}}angular.module("AnyDayBuddyAds").controller("LoginController",e),e.$inject=["Auth"]}(),function(){"use strict";function e(){function e(e,t,o,n){}var o={restrict:"EA",templateUrl:"assets/views/orders/orders.campaign.html",scope:{options:"=",form:"=",total:"="},link:e,controller:t,controllerAs:"vm",bindToController:!0};return o}function t(e,t){function o(){}o()}angular.module("AnyDayBuddyAds").directive("adbOrdersCampaign",e),t.$inject=["$http","$q"]}(),function(){"use strict";function e(){function e(e,t,o,n){}var o={restrict:"EA",templateUrl:"assets/views/orders/orders.checkout.html",scope:{options:"=",form:"=",total:"="},link:e,controller:t,controllerAs:"vm",bindToController:!0};return o}function t(e,t,o,n,r,i){function s(){i.getClientToken().then(function(e){console.log(e),a(e.clientToken)}).catch(function(e){console.log(e)})}function a(e){t.setup(e,"custom",{paypal:{container:"paypal-container",singleUse:!0,amount:"0",currency:"USD",locale:"en_us",enableShippingAddress:!1},onPaymentMethodReceived:function(e){c(e.nonce)},onReady:function(e){l.checkout=e}})}function c(e){console.log(e)}var l=this;l.checkout={},s(),l.launch=function(){console.log(l.checkout,l.form)},o.$watch("vm.checkout",function(e,t){e&&console.log(e)})}angular.module("AnyDayBuddyAds").directive("adbOrdersCheckout",e),t.$inject=["_","braintree","$scope","$http","$q","DataService"]}(),function(){"use strict";function e(){function e(e,t,o,n){}var o={restrict:"EA",templateUrl:"assets/views/orders/orders.customer.html",scope:{options:"=",form:"=",total:"=",control:"="},link:e,controller:t,controllerAs:"vm",bindToController:!0};return o}function t(e,t){function o(){}var n=this;o(),n.nextTab=function(){n.control.selectedTab+=1}}angular.module("AnyDayBuddyAds").directive("adbOrdersCustomer",e),t.$inject=["$http","$q"]}(),function(){"use strict";function e(e,t,o,n){function r(){n.getOptions().then(function(e){console.log(e),c.options.target=i(e),console.log(c.form)}).catch(function(e){console.log(e)})}function i(t){var o=function(t,n){return e.isObject(t)?e.merge({},t,n,o):t||n},n=e.flatten([{},t,o]);return e.merge.apply(e,n)}function s(e,t){o.show({fullscreen:!0,targetEvent:e,clickOutsideToClose:!0,templateUrl:"app/shared/layout/imageModal.html",locals:{image:t},controller:["$scope","image",function(e,t){e.image=t}]})}function a(){o.show({templateUrl:"app/components/ad/advertisementModal.html",clickOutsideToClose:!0,fullscreen:!0})}var c=this;c.openImage=s,c.add=a,c.total=0,c.control={selectedTab:0},c.options={target:{display:[],media:[],impressionsUnits:[],impressionsTime:[],distance:[],age:[],gender:[]}},c.form={media:{},options:{display:{},impressions:{},distance:{},age:{},gender:{},interests:{}},customer:{},auth:{}},r(),t.$watch("vm.form",function(t,o){console.log(t),c.total=t.media.hasOwnProperty("fee")?t.media.fee:0,e.map(t.options,function(e){e.hasOwnProperty("fee")&&(c.total+=c.total*e.fee),e.hasOwnProperty("discount")&&(c.total-=c.total*e.discount)})},!0)}angular.module("AnyDayBuddyAds").controller("OrdersController",e),e.$inject=["_","$scope","$mdDialog","DataService"]}(),function(){"use strict";function e(){function e(e,t,o,n){}var o={restrict:"EA",templateUrl:"assets/views/orders/orders.resume.html",scope:{options:"=",form:"=",total:"="},link:e,controller:t,controllerAs:"vm",bindToController:!0};return o}function t(e,t,o){function n(){}var r=this;n(),r.formatImpressions=function(){if(r.form.impressionType&&r.form.options.impressions.hasOwnProperty("id")){var t={impressionsUnits:e.join([r.form.options.impressions.quantity,r.form.options.impressions.type]," "),impressionsTime:e.join([r.form.options.impressions.time,r.form.options.impressions.period]," ")};return t[r.form.impressionType]}},r.formatTarget=function(){var t={distance:{value:r.form.options.distance,render:e.join(["Distance:",r.form.options.distance.distance||"","Km"]," ")},age:{value:r.form.options.age,render:e.join(["Age between:",e.join(r.form.options.age.range,"-")]," ")},gender:{value:r.form.options.gender,render:e.join(["Gender:",r.form.options.gender.gender]," ")},interests:{value:r.form.options.interests,render:e.join(["Interests:",r.form.options.interests.quantity]," ")}},o=e.pickBy(t,function(e){return e.value.hasOwnProperty("id")});return e.isEmpty(o)?"":e.join(["Target: ",e.map(Object.keys(o),function(e){return t[e].render})],"")},r.formatResume=function(){return resume}}angular.module("AnyDayBuddyAds").directive("adbOrdersResume",e),t.$inject=["_","$http","$q"]}(),function(){"use strict";function e(){function e(e,t,o,n){}var o={restrict:"EA",templateUrl:"assets/views/orders/orders.display.html",scope:{options:"=",form:"=",total:"="},link:e,controller:t,controllerAs:"vm",bindToController:!0};return o}function t(e,t,o,n,r,i){function s(){o.all([e,t.promise(1)]).then(function(e){var t=e[0],o=e[1][0].map;u.window={pixelOffset:new t.Size(0,(-40)),closeClick:function(){u.marker.show=!1}},m=new t.places.AutocompleteService,f=new t.DirectionsService,p=new t.DirectionsRenderer,u.map.instance=o,p.setMap(u.map.instance),d=new t.places.PlacesService(u.map.instance),u.placesReady=!0,console.log("ready")})}function a(e,t,o,n){console.log(t),r(function(){e.panTo(new google.maps.LatLng(t.latitude,t.longitude)),o&&e.panBy(0,-200)},100)}function c(e,t,o){var r=o[0],i=r.latLng.lat(),s=r.latLng.lng();u.marker={id:Date.now(),location:{latitude:i,longitude:s},show:!1},n.$apply()}function l(){console.log("bounds changed"),!u.map.instance}var u=this,d=null,p=null,f=null,m=null;u.control={uploading:!1},u.map={center:{latitude:45.50174502816667,longitude:-73.5703881829977},zoom:14,options:{scrollwheel:!0},mapMarker:!0,disableDefaultUI:!0,control:{},events:{click:c,idle:l}},u.info={name:"Venue name",address:"",icon:""},u.marker={id:0,location:{latitude:45.50174502816667,longitude:-73.5703881829977},show:!1},u.dropzone=i.create(function(e,t){n.$apply(function(){console.log(t.secure_url),u.control.uploading=!1})},function(){n.$apply(function(){u.control.uploading=!0})}),s(),u.clickMarker=function(){console.log("click"),u.marker.show=!u.marker.show,n.$apply()},u.autocompleteAddress=function(e){var t=o.defer();return m.getQueryPredictions({input:e},function(e){t.resolve(e?_.filter(e,"place_id"):[])}),t.promise},u.getPlace=function(){console.log(u.info.place),u.info.place&&d.getDetails({placeId:u.info.place.place_id},function(e,t){console.log(e,t),u.marker={id:Date.now(),name:e.name,location:{latitude:parseFloat(e.geometry.location.lat()),longitude:parseFloat(e.geometry.location.lng())},show:!0},a(u.map.instance,u.marker.location,null,!0),n.$apply()})}}angular.module("AnyDayBuddyAds").directive("adbDisplayChooser",e),t.$inject=["uiGmapGoogleMapApi","uiGmapIsReady","$q","$scope","$timeout","DropzoneService"]}(),function(){"use strict";function e(e,t,o,n,r,i,s){function a(t){var r=n.defer();return o.post(e+"/auth/validate/"+t).success(function(e){r.resolve(e)}).error(function(e){r.reject(e)}),r.promise}function c(t){var r=n.defer();return o.post(e+"/auth/login",t).success(function(e,t,o,n){r.resolve(e),e.hasOwnProperty("token")&&(angular.copy(e.user,i.user),s.set("access_token",e.token),s.setObject("user",e.user))}).error(function(e){r.reject(e)}),r.promise}function l(t){var r=n.defer();return o.post(e+"/auth/register",t).success(function(e,t,o,n){r.resolve(e)}).error(function(e){r.reject(e)}),r.promise}function u(t,r){var i=n.defer();return o.post(e+"/auth/resetpassword/"+t,r).success(function(e,t,o,n){i.resolve(e)}).error(function(e){i.reject(e)}),i.promise}function d(t){var r=n.defer();return o.post(e+"/auth/resetPasswordRequest",t).success(function(e,t,o,n){r.resolve(e)}).error(function(e){r.reject(e)}),r.promise}function p(){s.remove("user"),s.remove("access_token"),s.remove("original_user"),i.isAuthenticated=!1,i.user=null,i.view="auth",i.currentState="login",t.location.reload()}function f(e,t){e.hasOwnProperty("token")?(!t&&s.get("access_token")||s.set("access_token",e.token),i.user=e.user,s.setObject("user",e.user)):console.log("Bad Date",e)}function m(){return s.get("access_token")}var g={validate:a,isAuthenticated:m,login:c,logout:p,register:l,forgot:d,reset:u,setCredentials:f};return g}function t(e,t,o){function n(e){var o;return t.get("access_token")&&(o=t.get("access_token")),o&&(e.headers.Authorization="Bearer "+o),e}function r(n){return 401!==n.status&&403!==n.status||(t.remove("access_token"),o.get("$state").go("login")),e.reject(n)}var i={request:n,responseError:r};return i}t.$inject=["$q","$localstorage","$injector"],angular.module("AnyDayBuddyAds").factory("Auth",e).factory("AuthInterceptor",t).config(["$httpProvider",function(e){e.interceptors.push("AuthInterceptor"),e.defaults.withCredentials=!0}]),e.$inject=["baseApi","$window","$http","$q","$state","$rootScope","$localstorage"]}(),function(){"use strict";function e(e,t,o){function n(){var n=t.defer();return e({method:"GET",url:o+"/campaign/options/"}).success(function(e,t,o,r){n.resolve(e)}).error(function(e){n.reject(e)}),n.promise}function r(){var o=t.defer();return e({method:"GET",url:"http://localhost:1338/commerce/clientToken/"}).success(function(e,t,n,r){o.resolve(e)}).error(function(e){o.reject(e)}),o.promise}function i(o){var n=t.defer();return e.post("http://localhost:1338/campaign/create/",o).success(function(e){n.resolve(e)}).error(function(e){n.reject(e)}),n.promise}var s={getOptions:n,getClientToken:r,createCampaign:i};return s}angular.module("AnyDayBuddyAds").service("DataService",e),e.$inject=["$http","$q","baseApi"]}(),function(){"use strict";function e(){function e(e,t,o){return{options:{url:"https://api.cloudinary.com/v1_1/cloud9/image/upload",uploadMultiple:!1,maxFiles:1,acceptedFiles:"image/*",dictDefaultMessage:"Drop file or click here to upload",addRemoveLinks:!0},eventHandlers:{sending:function(e,o,n){n.append("api_key",839988333153567),n.append("timestamp",Date.now()/1e3|0),n.append("upload_preset","sm2ev4nu"),t&&t()},success:e,removedfile:o}}}function t(e,t,o){return{options:{url:"https://api.cloudinary.com/v1_1/cloud9/image/upload",maxFiles:e,acceptedFiles:"image/*",dictDefaultMessage:"Drop files or click here to upload"},eventHandlers:{sending:function(e,t,n){n.append("api_key",839988333153567),n.append("timestamp",Date.now()/1e3|0),n.append("upload_preset","sm2ev4nu"),o&&o()},success:t}}}var o={create:e,createMultiple:t};return o}angular.module("AnyDayBuddyAds").service("DropzoneService",e)}(),function(){"use strict";function e(e){function t(t,o){e.localStorage[t]=o}function o(t,o){return e.localStorage[t]||o}function n(t,o){e.localStorage[t]=JSON.stringify(o)}function r(t,o){return JSON.parse(e.localStorage[t]||o||"{}")}function i(t){return e.localStorage.removeItem(t)}var s={set:t,get:o,setObject:n,getObject:r,remove:i};return s}angular.module("AnyDayBuddyAds").factory("$localstorage",e),e.$inject=["$window"]}(),function(){"use strict";function e(e){function t(t,o,n){var r,i;r=t.dropzone,i=new e(o[0],r.options),t.reset&&i.on("complete",function(e){i.removeFile(e)}),angular.forEach(r.eventHandlers,function(e,t){i.on(t,e)})}var o={link:t,restrict:"EA",scope:{dropzone:"=dropzone",reset:"@reset"}};return o}angular.module("AnyDayBuddyAds").directive("dropzone",e),e.$inject=["Dropzone"]}(),function(){"use strict";function e(){var e={restrict:"EA",templateUrl:"assets/views/footer/footer.html",controller:t,controllerAs:"vm",bindToController:!0};return e}function t(){function e(){console.log("footer Activated")}e()}angular.module("AnyDayBuddyAds").directive("footerDirective",e),t.$inject=[]}(),function(){"use strict";function e(){var e={restrict:"EA",templateUrl:"assets/views/header/header.html",controller:t,controllerAs:"vm",bindToController:!0};return e}function t(){function e(){console.log("header Activated")}e()}angular.module("AnyDayBuddyAds").directive("headerDirective",e),t.$inject=[]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5tb2R1bGUuanMiLCJhcHAuY29uc3RhbnRzLmpzIiwiYXBwLmNvbmZpZy5qcyIsImFwcC5ydW4uanMiLCJhcHAucm91dGUuanMiLCJkYXNoYm9hcmQvZGFzaGJvYXJkLmNvbnRyb2xsZXIuanMiLCJtYWluL2hvbWUuY29udHJvbGxlci5qcyIsIm1haW4vbG9naW4uY29udHJvbGxlci5qcyIsIm9yZGVycy9jYW1wYWlnbi5kaXJlY3RpdmUuanMiLCJvcmRlcnMvY2hlY2tvdXQuZGlyZWN0aXZlLmpzIiwib3JkZXJzL2N1c3RvbWVyLmRpcmVjdGl2ZS5qcyIsIm9yZGVycy9vcmRlcnMuY29udHJvbGxlci5qcyIsIm9yZGVycy9yZXN1bWUuZGlyZWN0aXZlLmpzIiwib3JkZXJzL3V0aWxzLmRpc3BsYXkuZGlyZWN0aXZlLmpzIiwic2VydmljZXMvYXV0aC5zZXJ2aWNlLmpzIiwic2VydmljZXMvZGF0YS5zZXJ2aWNlLmpzIiwic2VydmljZXMvZHJvcHpvbmUuc2VydmljZS5qcyIsInNlcnZpY2VzL2xvY2Fsc3RvcmFnZS5zZXJ2aWNlLmpzIiwic2hhcmVkL2Ryb3B6b25lLmRpcmVjdGl2ZS5qcyIsImNvbXBvbmVudHMvZm9vdGVyL2Zvb3Rlci5kaXJlY3RpdmUuanMiLCJjb21wb25lbnRzL2hlYWRlci9oZWFkZXIuZGlyZWN0aXZlLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25zdGFudCIsIndpbmRvdyIsIl8iLCJqUXVlcnkiLCJEcm9wem9uZSIsImJyYWludHJlZSIsIm1hcHNQcm92aWRlciIsInVpR21hcEdvb2dsZU1hcEFwaVByb3ZpZGVyIiwiY29uZmlndXJlIiwia2V5IiwibGlicmFyaWVzIiwiY29uZmlnIiwiJG1kVGhlbWluZ1Byb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJkZWZpbmVQYWxldHRlIiwiNTAiLCIxMDAiLCIyMDAiLCIzMDAiLCI0MDAiLCI1MDAiLCI2MDAiLCI3MDAiLCI4MDAiLCI5MDAiLCJBMTAwIiwiQTIwMCIsIkE0MDAiLCJBNzAwIiwiY29udHJhc3REZWZhdWx0Q29sb3IiLCJjb250cmFzdERhcmtDb2xvcnMiLCJ0aGVtZSIsInByaW1hcnlQYWxldHRlIiwiYWNjZW50UGFsZXR0ZSIsIndhcm5QYWxldHRlIiwiJGluamVjdCIsInJ1blByb3ZpZGVyIiwiJHJvb3RTY29wZSIsIiRzdGF0ZSIsIkF1dGgiLCIkb24iLCJldmVudCIsInRvU3RhdGUiLCJmaWxsIiwibmFtZSIsInJ1biIsInJvdXRlclByb3ZpZGVyIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJzdGF0ZSIsInVybCIsInZpZXdzIiwibWFpbiIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJ0ZW1wbGF0ZVVybCIsImF1dGhlbnRpY2F0ZSIsImRhc2hib2FyZCIsIm90aGVyd2lzZSIsIkNvbnRyb2xsZXIiLCIkaHR0cCIsIiRxIiwiSG9tZUNvbnRyb2xsZXIiLCJhY3RpdmF0ZSIsInNjcm9sbFRvIiwiZWxlbWVudCIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCJ2bSIsInRoaXMiLCJ0aXRsZSIsIkxvZ2luQ29udHJvbGxlciIsImxvZ2luIiwiY29uc29sZSIsImxvZyIsInVzZXIiLCJ0aGVuIiwicmVzIiwiZGlyZWN0aXZlIiwibGlua0Z1bmMiLCJzY29wZSIsImVsIiwiYXR0ciIsImN0cmwiLCJyZXN0cmljdCIsIm9wdGlvbnMiLCJmb3JtIiwidG90YWwiLCJsaW5rIiwiYmluZFRvQ29udHJvbGxlciIsIiRzY29wZSIsIkRhdGFTZXJ2aWNlIiwiZ2V0Q2xpZW50VG9rZW4iLCJzZXR1cEdhdGV3YXkiLCJjbGllbnRUb2tlbiIsImNhdGNoIiwiZXJyIiwidG9rZW4iLCJzZXR1cCIsInBheXBhbCIsImNvbnRhaW5lciIsInNpbmdsZVVzZSIsImFtb3VudCIsImN1cnJlbmN5IiwibG9jYWxlIiwiZW5hYmxlU2hpcHBpbmdBZGRyZXNzIiwib25QYXltZW50TWV0aG9kUmVjZWl2ZWQiLCJvYmoiLCJkb1NvbWV0aGluZ1dpdGhUaGVOb25jZSIsIm5vbmNlIiwib25SZWFkeSIsImludGVncmF0aW9uIiwiY2hlY2tvdXQiLCJsYXVuY2giLCIkd2F0Y2giLCJjIiwibyIsImNvbnRyb2wiLCJuZXh0VGFiIiwic2VsZWN0ZWRUYWIiLCIkbWREaWFsb2ciLCJnZXRPcHRpb25zIiwicmVzcCIsInRhcmdldCIsImRvX21lcmdlIiwicm9sZXMiLCJtZXJnZXIiLCJhIiwiYiIsImlzT2JqZWN0IiwibWVyZ2UiLCJhcmdzIiwiZmxhdHRlbiIsImFwcGx5Iiwib3BlbkltYWdlIiwiJGV2ZW50IiwiaW1hZ2UiLCJzaG93IiwiZnVsbHNjcmVlbiIsInRhcmdldEV2ZW50IiwiY2xpY2tPdXRzaWRlVG9DbG9zZSIsImxvY2FscyIsImFkZCIsImRpc3BsYXkiLCJtZWRpYSIsImltcHJlc3Npb25zVW5pdHMiLCJpbXByZXNzaW9uc1RpbWUiLCJkaXN0YW5jZSIsImFnZSIsImdlbmRlciIsImltcHJlc3Npb25zIiwiaW50ZXJlc3RzIiwiY3VzdG9tZXIiLCJhdXRoIiwiaGFzT3duUHJvcGVydHkiLCJmZWUiLCJtYXAiLCJpdGVtIiwiZGlzY291bnQiLCJmb3JtYXRJbXByZXNzaW9ucyIsImltcHJlc3Npb25UeXBlIiwidHlwZXMiLCJqb2luIiwicXVhbnRpdHkiLCJ0eXBlIiwidGltZSIsInBlcmlvZCIsImZvcm1hdFRhcmdldCIsInZhbHVlIiwicmVuZGVyIiwicmFuZ2UiLCJzZWxlY3RlZCIsInBpY2tCeSIsImkiLCJpc0VtcHR5IiwiT2JqZWN0Iiwia2V5cyIsImZvcm1hdFJlc3VtZSIsInJlc3VtZSIsInVpR21hcEdvb2dsZU1hcEFwaSIsInVpR21hcElzUmVhZHkiLCIkdGltZW91dCIsIkRyb3B6b25lU2VydmljZSIsImFsbCIsInByb21pc2UiLCJyZXNwb25zZSIsImluc3RhbmNlIiwicGl4ZWxPZmZzZXQiLCJTaXplIiwiY2xvc2VDbGljayIsIm1hcmtlciIsIlBsYWNlc0F1dG9jb21wbGV0ZSIsInBsYWNlcyIsIkF1dG9jb21wbGV0ZVNlcnZpY2UiLCJEaXJlY3Rpb25zU2VydmljZSIsIkRpcmVjdGlvblJlbmRlcmVyIiwiRGlyZWN0aW9uc1JlbmRlcmVyIiwic2V0TWFwIiwiUGxhY2VzIiwiUGxhY2VzU2VydmljZSIsInBsYWNlc1JlYWR5IiwiY2VudGVyTWFwIiwibG9jYXRpb24iLCJzY3JvbGwiLCJwYW5UbyIsImdvb2dsZSIsIm1hcHMiLCJMYXRMbmciLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsInBhbkJ5IiwiY2xpY2tNYXAiLCJldmVudE5hbWUiLCJvcmlnaW5hbEV2ZW50QXJncyIsImUiLCJsYXQiLCJsYXRMbmciLCJsb24iLCJsbmciLCJpZCIsIkRhdGUiLCJub3ciLCIkYXBwbHkiLCJib3VuZHNDaGFuZ2VkIiwidXBsb2FkaW5nIiwiY2VudGVyIiwiem9vbSIsInNjcm9sbHdoZWVsIiwibWFwTWFya2VyIiwiZGlzYWJsZURlZmF1bHRVSSIsImV2ZW50cyIsImNsaWNrIiwiaWRsZSIsImluZm8iLCJhZGRyZXNzIiwiaWNvbiIsImRyb3B6b25lIiwiY3JlYXRlIiwiZmlsZSIsInNlY3VyZV91cmwiLCJjbGlja01hcmtlciIsImF1dG9jb21wbGV0ZUFkZHJlc3MiLCJkZWZlcnJlZCIsImRlZmVyIiwiZ2V0UXVlcnlQcmVkaWN0aW9ucyIsImlucHV0IiwiZGF0YSIsInJlc29sdmUiLCJmaWx0ZXIiLCJnZXRQbGFjZSIsInBsYWNlIiwiZ2V0RGV0YWlscyIsInBsYWNlSWQiLCJwbGFjZV9pZCIsInN0YXR1cyIsInBhcnNlRmxvYXQiLCJnZW9tZXRyeSIsImJhc2VBcGkiLCIkd2luZG93IiwiJGxvY2Fsc3RvcmFnZSIsInZhbGlkYXRlIiwicG9zdCIsInN1Y2Nlc3MiLCJlcnJvciIsInJlamVjdCIsImNyZWRlbnRpYWxzIiwiaGVhZGVycyIsImNvcHkiLCJzZXQiLCJzZXRPYmplY3QiLCJyZWdpc3RlciIsInBheWxvYWQiLCJyZXNldCIsInBhcmFtcyIsImZvcmdvdCIsImxvZ291dCIsInJlbW92ZSIsImlzQXV0aGVudGljYXRlZCIsInZpZXciLCJjdXJyZW50U3RhdGUiLCJyZWxvYWQiLCJzZXRDcmVkZW50aWFscyIsImZvcmNlIiwiZ2V0IiwiQXV0aEludGVyY2VwdG9yIiwiJGluamVjdG9yIiwicmVxdWVzdCIsIkF1dGhvcml6YXRpb24iLCJyZXNwb25zZUVycm9yIiwiZ28iLCJmYWN0b3J5IiwiJGh0dHBQcm92aWRlciIsImludGVyY2VwdG9ycyIsInB1c2giLCJkZWZhdWx0cyIsIndpdGhDcmVkZW50aWFscyIsImRhdGFTZXJ2aWNlIiwibWV0aG9kIiwiY3JlYXRlQ2FtcGFpZ24iLCJzZXJ2aWNlIiwic2VuZGluZyIsInJlbW92ZWRmaWxlIiwidXBsb2FkTXVsdGlwbGUiLCJtYXhGaWxlcyIsImFjY2VwdGVkRmlsZXMiLCJkaWN0RGVmYXVsdE1lc3NhZ2UiLCJhZGRSZW1vdmVMaW5rcyIsImV2ZW50SGFuZGxlcnMiLCJ4aHIiLCJmb3JtRGF0YSIsImFwcGVuZCIsImNyZWF0ZU11bHRpcGxlIiwibG9jYWxTdG9yYWdlIiwiZGVmYXVsdFZhbHVlIiwiSlNPTiIsInN0cmluZ2lmeSIsImdldE9iamVjdCIsInBhcnNlIiwicmVtb3ZlSXRlbSIsImF0dHJzIiwiem9uZSIsIm9uIiwicmVtb3ZlRmlsZSIsImZvckVhY2giLCJoYW5kbGVyIiwiZm9vdGVyRGlyZWN0aXZlIiwiZm9vdGVyQ29udHJvbGxlciIsImhlYWRlckRpcmVjdGl2ZSIsImhlYWRlckNvbnRyb2xsZXIiXSwibWFwcGluZ3MiOiJDQVNBLFdBQ0EsWUFFQUEsU0FDQUMsT0FBQSxrQkFDQSxZQUNBLGFBQ0EseUJDaEJBLFdBQ0EsWUFFQUQsU0FDQUMsT0FBQSxrQkFDQUMsU0FBQSxJQUFBQyxPQUFBQyxHQUNBRixTQUFBLFNBQUFDLE9BQUFFLFFBQ0FILFNBQUEsV0FBQUMsT0FBQUcsVUFDQUosU0FBQSxZQUFBQyxPQUFBSSxXQUNBTCxTQUFBLFVBQUEsa0NDVEEsV0FDQSxZQVFBLFNBQUFNLEdBQUFDLEdBQ0FBLEVBQUFDLFdBQ0FD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QUEsV0FBQSxTQUFBbkYsR0FDQWtGLEVBQUFFLFdBQUFwRixLQUlBbFAsUUFBQXVVLFFBQUExVCxFQUFBMFMsY0FBQSxTQUFBaUIsRUFBQTdSLEdBQ0F5UixFQUFBQyxHQUFBMVIsRUFBQTZSLEtBdkJBLEdBQUF0UCxJQUNBVSxLQUFBQSxFQUNBSixTQUFBLEtBQ0FKLE9BQ0E0SixTQUFBLFlBQ0FvQyxNQUFBLFVBR0EsT0FBQWxNLEdBZkFsRixRQUNBQyxPQUFBLGtCQUNBaUYsVUFBQSxXQUFBOEosR0FFQUEsRUFBQTNNLFNBQUEsZUNQQSxXQUNBLFlBT0EsU0FBQW9TLEtBQ0EsR0FBQXZQLElBQ0FNLFNBQUEsS0FDQS9CLFlBQUEsa0NBQ0FGLFdBQUFtUixFQUNBbFIsYUFBQSxLQUNBcUMsa0JBQUEsRUFHQSxPQUFBWCxHQU1BLFFBQUF3UCxLQUtBLFFBQUF6USxLQUNBWSxRQUFBQyxJQUFBLG9CQUhBYixJQXZCQWpFLFFBQ0FDLE9BQUEsa0JBQ0FpRixVQUFBLGtCQUFBdVAsR0FlQUMsRUFBQXJTLGNDcEJBLFdBQ0EsWUFPQSxTQUFBc1MsS0FDQSxHQUFBelAsSUFDQU0sU0FBQSxLQUNBL0IsWUFBQSxrQ0FDQUYsV0FBQXFSLEVBQ0FwUixhQUFBLEtBQ0FxQyxrQkFBQSxFQUdBLE9BQUFYLEdBTUEsUUFBQTBQLEtBS0EsUUFBQTNRLEtBQ0FZLFFBQUFDLElBQUEsb0JBSEFiLElBdkJBakUsUUFDQUMsT0FBQSxrQkFDQWlGLFVBQUEsa0JBQUF5UCxHQWVBQyxFQUFBdlMiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbmdkb2Mgb3ZlcnZpZXdcbiAqIEBuYW1lIEFueURheUJ1ZGR5QWRzXG4gKiBAcmVxdWlyZXMgdWkucm91dGVyXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiBBbmd1bGFySlMgYmFzaWMgYXBwIHRlbXBsYXRlXG4gKlxuICovXG4oZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnLCBbXG4gICAgICAndWkucm91dGVyJyxcbiAgICAgICduZ01hdGVyaWFsJyxcbiAgICAgICd1aUdtYXBnb29nbGUtbWFwcycsXG4gICAgXSk7XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgIC5jb25zdGFudCgnXycsIHdpbmRvdy5fKVxuICAgIC5jb25zdGFudCgnalF1ZXJ5Jywgd2luZG93LmpRdWVyeSlcbiAgICAuY29uc3RhbnQoJ0Ryb3B6b25lJywgd2luZG93LkRyb3B6b25lKVxuICAgIC5jb25zdGFudCgnYnJhaW50cmVlJywgd2luZG93LmJyYWludHJlZSlcbiAgICAuY29uc3RhbnQoJ2Jhc2VBcGknLCAnaHR0cHM6Ly9hcGkuYW55ZGF5YnVkZHkuY29tJyk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgLmNvbmZpZyhjb25maWcpXG4gICAgLmNvbmZpZyhtYXBzUHJvdmlkZXIpO1xuXG4gIG1hcHNQcm92aWRlci4kaW5qZWN0ID0gWyd1aUdtYXBHb29nbGVNYXBBcGlQcm92aWRlciddO1xuXG4gIGZ1bmN0aW9uIG1hcHNQcm92aWRlcih1aUdtYXBHb29nbGVNYXBBcGlQcm92aWRlcikge1xuICAgIHVpR21hcEdvb2dsZU1hcEFwaVByb3ZpZGVyLmNvbmZpZ3VyZSh7XG4gICAgICBrZXk6ICdBSXphU3lBb25GdUNEYjdIalhVejB1b2NLYkVHVUp6OTFJTDlFVnMnLCAvL2FkYi1zaXRlLTAga2V5XG4gICAgICAvLyBrZXk6ICdBSXphU3lBbFc2aHVuN1Z3cEZQdjBmeF9LT1VoNTJsMDhCUnBqWU0nLFxuICAgICAgbGlicmFyaWVzOiAncGxhY2VzJ1xuICAgIH0pO1xuICB9XG5cbiAgY29uZmlnLiRpbmplY3QgPSBbJyRtZFRoZW1pbmdQcm92aWRlcicsICckbG9jYXRpb25Qcm92aWRlciddO1xuXG4gIGZ1bmN0aW9uIGNvbmZpZygkbWRUaGVtaW5nUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XG5cbiAgICAkbWRUaGVtaW5nUHJvdmlkZXIuZGVmaW5lUGFsZXR0ZSgncHJpbWFyeScsIHtcbiAgICAgICc1MCc6ICcjOWRjZWRhJyxcbiAgICAgICcxMDAnOiAnIzY1YjJjNScsXG4gICAgICAnMjAwJzogJyM0MjlhYjAnLFxuICAgICAgJzMwMCc6ICcjMmY2ZDdjJyxcbiAgICAgICc0MDAnOiAnIzI2NTk2NicsXG4gICAgICAnNTAwJzogJyMxZTQ2NTAnLFxuICAgICAgJzYwMCc6ICcjMTYzMjNhJyxcbiAgICAgICc3MDAnOiAnIzBkMWYyMycsXG4gICAgICAnODAwJzogJyMwNTBjMGQnLFxuICAgICAgJzkwMCc6ICcjMDAwMDAwJyxcbiAgICAgICdBMTAwJzogJyM5ZGNlZGEnLFxuICAgICAgJ0EyMDAnOiAnIzY1YjJjNScsXG4gICAgICAnQTQwMCc6ICcjMjY1OTY2JyxcbiAgICAgICdBNzAwJzogJyMwZDFmMjMnLFxuICAgICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2xpZ2h0JyxcbiAgICAgICdjb250cmFzdERhcmtDb2xvcnMnOiAnNTAgMTAwIDIwMCBBMTAwIEEyMDAnXG4gICAgfSk7XG4gICAgJG1kVGhlbWluZ1Byb3ZpZGVyLmRlZmluZVBhbGV0dGUoJ2FjY2VudCcsIHtcbiAgICAgICc1MCc6ICcjZDBlYmVkJyxcbiAgICAgICcxMDAnOiAnIzk5ZDRkOCcsXG4gICAgICAnMjAwJzogJyM3MGMzYzgnLFxuICAgICAgJzMwMCc6ICcjNDNhN2FlJyxcbiAgICAgICc0MDAnOiAnIzNhOTI5OCcsXG4gICAgICAnNTAwJzogJyMzMjdkODInLFxuICAgICAgJzYwMCc6ICcjMjk2ODZjJyxcbiAgICAgICc3MDAnOiAnIzIxNTI1NicsXG4gICAgICAnODAwJzogJyMxODNkNDAnLFxuICAgICAgJzkwMCc6ICcjMTAyODJhJyxcbiAgICAgICdBMTAwJzogJyNkMGViZWQnLFxuICAgICAgJ0EyMDAnOiAnIzk5ZDRkOCcsXG4gICAgICAnQTQwMCc6ICcjM2E5Mjk4JyxcbiAgICAgICdBNzAwJzogJyMyMTUyNTYnLFxuICAgICAgJ2NvbnRyYXN0RGVmYXVsdENvbG9yJzogJ2xpZ2h0JyxcbiAgICAgICdjb250cmFzdERhcmtDb2xvcnMnOiAnNTAgMTAwIDIwMCAzMDAgQTEwMCBBMjAwJ1xuICAgIH0pO1xuICAgICRtZFRoZW1pbmdQcm92aWRlci5kZWZpbmVQYWxldHRlKCd3YXJuJywge1xuICAgICAgJzUwJzogJyNmYWVlZTYnLFxuICAgICAgJzEwMCc6ICcjZWNjM2E3JyxcbiAgICAgICcyMDAnOiAnI2UyYTM3OScsXG4gICAgICAnMzAwJzogJyNkNTdiM2UnLFxuICAgICAgJzQwMCc6ICcjYzk2YjJiJyxcbiAgICAgICc1MDAnOiAnI2IwNWUyNicsXG4gICAgICAnNjAwJzogJyM5NzUxMjEnLFxuICAgICAgJzcwMCc6ICcjN2U0MzFiJyxcbiAgICAgICc4MDAnOiAnIzY0MzYxNicsXG4gICAgICAnOTAwJzogJyM0YjI4MTAnLFxuICAgICAgJ0ExMDAnOiAnI2ZhZWVlNicsXG4gICAgICAnQTIwMCc6ICcjZWNjM2E3JyxcbiAgICAgICdBNDAwJzogJyNjOTZiMmInLFxuICAgICAgJ0E3MDAnOiAnIzdlNDMxYicsXG4gICAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnbGlnaHQnLFxuICAgICAgJ2NvbnRyYXN0RGFya0NvbG9ycyc6ICc1MCAxMDAgMjAwIDMwMCBBMTAwIEEyMDAnXG4gICAgfSk7XG4gICAgJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdkZWZhdWx0JylcbiAgICAgIC5wcmltYXJ5UGFsZXR0ZSgncHJpbWFyeScpXG4gICAgICAuYWNjZW50UGFsZXR0ZSgnYWNjZW50JylcbiAgICAgIC53YXJuUGFsZXR0ZSgnd2FybicpO1xuICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAucnVuKHJ1blByb3ZpZGVyKTtcblxuICBydW5Qcm92aWRlci4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJywgJyRzdGF0ZScsICdBdXRoJ107XG5cbiAgZnVuY3Rpb24gcnVuUHJvdmlkZXIoJHJvb3RTY29wZSwgJHN0YXRlLCBBdXRoKSB7XG5cbiAgICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbihldmVudCwgdG9TdGF0ZSkge1xuICAgICAgJHJvb3RTY29wZS5maWxsID0gdG9TdGF0ZS5uYW1lID09PSAnbG9naW4nO1xuICAgICAgLyoqXG4gICAgICAgKiBpZiB0aGUgc3RhdGUgZG9lcyBub3QgcmVxdWlyZXMgYXV0aGVudGljYXRpb24gYW5kIHRoZVxuICAgICAgICogdXNlciBpcyBsb2dnZWQgaW4sIHJlZGlyZWN0IHRvIHRoZSBkYXNoYm9hcmQgcGFnZS5cbiAgICAgICAqL1xuICAgICAgLy8gaWYgKCF0b1N0YXRlLmF1dGhlbnRpY2F0ZSAmJiBBdXRoLmlzQXV0aGVudGljYXRlZCgpKSB7XG4gICAgICAvLyAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAvLyAgICRzdGF0ZS50cmFuc2l0aW9uVG8oJ2Rhc2hib2FyZCcpO1xuICAgICAgLy8gfVxuXG4gICAgICAvKipcbiAgICAgICAqIGlmIHRoZSBzdGF0ZSByZXF1aXJlcyBhdXRoZW50aWNhdGlvbiBhbmQgdGhlXG4gICAgICAgKiB1c2VyIGlzIG5vdCBsb2dnZWQgaW4sIHJlZGlyZWN0IHRvIHRoZSBsb2dpbiBwYWdlLlxuICAgICAgICovXG4gICAgICAvLyBpZiAodG9TdGF0ZS5hdXRoZW50aWNhdGUgJiYgIUF1dGguaXNBdXRoZW50aWNhdGVkKCkpIHtcbiAgICAgIC8vICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIC8vICAgJHN0YXRlLnRyYW5zaXRpb25UbygnbG9naW4nKTtcbiAgICAgIC8vIH1cblxuICAgIH0pO1xuICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuY29uZmlnKHJvdXRlclByb3ZpZGVyKTtcblxuICByb3V0ZXJQcm92aWRlci4kaW5qZWN0ID0gWyckc3RhdGVQcm92aWRlcicsICckdXJsUm91dGVyUHJvdmlkZXInLCAnJGxvY2F0aW9uUHJvdmlkZXInXTtcblxuICBmdW5jdGlvbiByb3V0ZXJQcm92aWRlcigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xuICAgIC8vICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh7XG4gICAgLy8gICBlbmFibGVkOiB0cnVlLFxuICAgIC8vICAgcmVxdWlyZUJhc2U6IGZhbHNlXG4gICAgLy8gfSk7XG4gICAgLy9cbiAgICAkc3RhdGVQcm92aWRlclxuICAgICAgLnN0YXRlKCdob21lJywge1xuICAgICAgICB1cmw6ICcvJyxcbiAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAnbWFpbic6IHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdIb21lQ29udHJvbGxlcicsXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2Fzc2V0cy92aWV3cy9ob21lLmh0bWwnXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhdXRoZW50aWNhdGU6IGZhbHNlXG4gICAgICB9KVxuICAgICAgLnN0YXRlKCdkYXNoYm9hcmQnLCB7XG4gICAgICAgIHVybDogJy9kYXNoYm9hcmQnLFxuICAgICAgICB2aWV3czoge1xuICAgICAgICAgICdtYWluJzoge1xuICAgICAgICAgICAgY29udHJvbGxlcjogJ0Rhc2hib2FyZENvbnRyb2xsZXInLFxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhc3NldHMvdmlld3MvZGFzaGJvYXJkL2luZGV4Lmh0bWwnXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhdXRoZW50aWNhdGU6IGZhbHNlXG4gICAgICB9KVxuICAgICAgLnN0YXRlKCdkYXNoYm9hcmQuY29udGVudCcsIHtcbiAgICAgICAgdXJsOiAnL2NvbnRlbnQnLFxuICAgICAgICB2aWV3czoge1xuICAgICAgICAgICdkYXNoYm9hcmQnOiB7XG4gICAgICAgICAgICBjb250cm9sbGVyOiAnRGFzaGJvYXJkQ29udHJvbGxlcicsXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2Fzc2V0cy92aWV3cy9kYXNoYm9hcmQvY29udGVudC5odG1sJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXV0aGVudGljYXRlOiBmYWxzZVxuICAgICAgfSlcbiAgICAgIC5zdGF0ZSgnb3JkZXJzJywge1xuICAgICAgICB1cmw6ICcvb3JkZXJzJyxcbiAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAnbWFpbic6IHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdPcmRlcnNDb250cm9sbGVyJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXNzZXRzL3ZpZXdzL29yZGVycy5odG1sJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXV0aGVudGljYXRlOiBmYWxzZVxuICAgICAgfSlcbiAgICAgIC5zdGF0ZSgnbG9naW4nLCB7XG4gICAgICAgIHVybDogJy9sb2dpbicsXG4gICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgJ21haW4nOiB7XG4gICAgICAgICAgICBjb250cm9sbGVyOiAnTG9naW5Db250cm9sbGVyJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXNzZXRzL3ZpZXdzL2xvZ2luLmh0bWwnXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhdXRoZW50aWNhdGU6IGZhbHNlXG4gICAgICB9KTtcblxuICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcbiAgfVxuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuY29udHJvbGxlcignRGFzaGJvYXJkQ29udHJvbGxlcicsIENvbnRyb2xsZXIpO1xuXG4gIGZ1bmN0aW9uIENvbnRyb2xsZXIoJGh0dHAsICRxKSB7XG4gICAgdmFyIHZtID0gdGhpcztcblxuICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICB9XG4gIFxufSkoKTtcbiIsIi8qKlxuICogQG5nZG9jIGNvbnRyb2xsZXJcbiAqIEBuYW1lIEhvbWVDb250cm9sbGVyXG4gKiBAcmVxdWlyZXMgJHJvb3RTY29wZVxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogTWFuZWphIGVsIGNvbXBvcnRhbWllbnRvIGRlIGxhIHZpc3RhIHByaW5jaXBhbFxuICpcbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgIC5jb250cm9sbGVyKCdIb21lQ29udHJvbGxlcicsIEhvbWVDb250cm9sbGVyKTtcblxuICBIb21lQ29udHJvbGxlci4kaW5qZWN0ID0gWyckcm9vdFNjb3BlJywgJ2pRdWVyeSddO1xuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiBIb21lQ29udHJvbGxlcigkcm9vdFNjb3BlLCBqUXVlcnkpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuICAgIHZtLnRpdGxlID0gJ0hvbWUgQ29udHJvbGxlcic7XG4gICAgdm0uc2Nyb2xsVG8gPSBzY3JvbGxUbztcbiAgICBhY3RpdmF0ZSgpO1xuXG4gICAgLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7fVxuXG4gICAgZnVuY3Rpb24gc2Nyb2xsVG8oZWxlbWVudCkge1xuICAgICAgalF1ZXJ5KCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XG4gICAgICAgIHNjcm9sbFRvcDogalF1ZXJ5KGVsZW1lbnQpLm9mZnNldCgpLnRvcFxuICAgICAgfSwgMTAwMCk7XG4gICAgfVxuICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuY29udHJvbGxlcignTG9naW5Db250cm9sbGVyJywgTG9naW5Db250cm9sbGVyKTtcblxuICBMb2dpbkNvbnRyb2xsZXIuJGluamVjdCA9IFsnQXV0aCddO1xuXG4gIGZ1bmN0aW9uIExvZ2luQ29udHJvbGxlcihBdXRoKSB7XG4gICAgdmFyIHZtID0gdGhpcztcblxuICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgIHZtLmxvZ2luID0gZnVuY3Rpb24oKSB7XG4gICAgXHRjb25zb2xlLmxvZygnTE9HSU4nLCB2bS51c2VyKTtcbiAgICAgIEF1dGgubG9naW4odm0udXNlcikudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgfVxuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuZGlyZWN0aXZlKCdhZGJPcmRlcnNDYW1wYWlnbicsIGRpcmVjdGl2ZSk7XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIGRpcmVjdGl2ZSgpIHtcbiAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICB0ZW1wbGF0ZVVybDogJ2Fzc2V0cy92aWV3cy9vcmRlcnMvb3JkZXJzLmNhbXBhaWduLmh0bWwnLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgb3B0aW9uczogJz0nLFxuICAgICAgICBmb3JtOiAnPScsXG4gICAgICAgIHRvdGFsOiAnPSdcbiAgICAgIH0sXG4gICAgICBsaW5rOiBsaW5rRnVuYyxcbiAgICAgIGNvbnRyb2xsZXI6IENvbnRyb2xsZXIsXG4gICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXG4gICAgfTtcblxuICAgIHJldHVybiBkaXJlY3RpdmU7XG5cbiAgICBmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcblxuICAgIH1cbiAgfVxuXG4gIENvbnRyb2xsZXIuJGluamVjdCA9IFsnJGh0dHAnLCAnJHEnXTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gQ29udHJvbGxlcigkaHR0cCwgJHEpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgYWN0aXZhdGUoKTtcblxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuXG4gICAgfVxuICAgIFxuICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuZGlyZWN0aXZlKCdhZGJPcmRlcnNDaGVja291dCcsIGRpcmVjdGl2ZSk7XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIGRpcmVjdGl2ZSgpIHtcbiAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICB0ZW1wbGF0ZVVybDogJ2Fzc2V0cy92aWV3cy9vcmRlcnMvb3JkZXJzLmNoZWNrb3V0Lmh0bWwnLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgb3B0aW9uczogJz0nLFxuICAgICAgICBmb3JtOiAnPScsXG4gICAgICAgIHRvdGFsOiAnPSdcbiAgICAgIH0sXG4gICAgICBsaW5rOiBsaW5rRnVuYyxcbiAgICAgIGNvbnRyb2xsZXI6IENvbnRyb2xsZXIsXG4gICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXG4gICAgfTtcblxuICAgIHJldHVybiBkaXJlY3RpdmU7XG5cbiAgICBmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcblxuICAgIH1cbiAgfVxuXG4gIENvbnRyb2xsZXIuJGluamVjdCA9IFsnXycsICdicmFpbnRyZWUnLCAnJHNjb3BlJywnJGh0dHAnLCAnJHEnLCAnRGF0YVNlcnZpY2UnXTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gQ29udHJvbGxlcihfLCBicmFpbnRyZWUsICRzY29wZSwgJGh0dHAsICRxLCBEYXRhU2VydmljZSkge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgdm0uY2hlY2tvdXQgPSB7fTtcblxuICAgIGFjdGl2YXRlKCk7XG5cbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgIERhdGFTZXJ2aWNlLmdldENsaWVudFRva2VuKCkudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKTtcbiAgICAgICAgc2V0dXBHYXRld2F5KHJlcy5jbGllbnRUb2tlbik7XG4gICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0dXBHYXRld2F5KHRva2VuKSB7XG4gICAgICBicmFpbnRyZWUuc2V0dXAodG9rZW4sICdjdXN0b20nLCB7XG4gICAgICAgIHBheXBhbDoge1xuICAgICAgICAgIGNvbnRhaW5lcjogJ3BheXBhbC1jb250YWluZXInLFxuICAgICAgICAgIHNpbmdsZVVzZTogdHJ1ZSxcbiAgICAgICAgICBhbW91bnQ6ICcwJyxcbiAgICAgICAgICBjdXJyZW5jeTogJ1VTRCcsXG4gICAgICAgICAgbG9jYWxlOiAnZW5fdXMnLFxuICAgICAgICAgIGVuYWJsZVNoaXBwaW5nQWRkcmVzczogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgb25QYXltZW50TWV0aG9kUmVjZWl2ZWQ6IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgIGRvU29tZXRoaW5nV2l0aFRoZU5vbmNlKG9iai5ub25jZSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uUmVhZHk6IGZ1bmN0aW9uKGludGVncmF0aW9uKSB7XG4gICAgICAgICAgdm0uY2hlY2tvdXQgPSBpbnRlZ3JhdGlvbjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdm0ubGF1bmNoID0gZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZyh2bS5jaGVja291dCwgdm0uZm9ybSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZG9Tb21ldGhpbmdXaXRoVGhlTm9uY2UocmVzKSB7XG4gICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgIH1cblxuXG5cbiAgICAvLyAvLyBXaGVuIHlvdSBhcmUgcmVhZHkgdG8gdGVhciBkb3duIHlvdXIgaW50ZWdyYXRpb25cbiAgICAvLyBjaGVja291dC50ZWFyZG93bihmdW5jdGlvbigpIHtcbiAgICAvLyAgIGNoZWNrb3V0ID0gbnVsbDtcbiAgICAvLyAgIC8vIGJyYWludHJlZS5zZXR1cCBjYW4gc2FmZWx5IGJlIHJ1biBhZ2FpbiFcbiAgICAvLyB9KTtcblxuICAgICRzY29wZS4kd2F0Y2goJ3ZtLmNoZWNrb3V0JywgZnVuY3Rpb24oYywgbykge1xuICAgICAgaWYgKCFjKSByZXR1cm47XG5cbiAgICAgIGNvbnNvbGUubG9nKGMpO1xuICAgIH0pO1xuICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuZGlyZWN0aXZlKCdhZGJPcmRlcnNDdXN0b21lcicsIGRpcmVjdGl2ZSk7XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIGRpcmVjdGl2ZSgpIHtcbiAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICB0ZW1wbGF0ZVVybDogJ2Fzc2V0cy92aWV3cy9vcmRlcnMvb3JkZXJzLmN1c3RvbWVyLmh0bWwnLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgb3B0aW9uczogJz0nLFxuICAgICAgICBmb3JtOiAnPScsXG4gICAgICAgIHRvdGFsOiAnPScsXG4gICAgICAgIGNvbnRyb2w6ICc9J1xuICAgICAgfSxcbiAgICAgIGxpbms6IGxpbmtGdW5jLFxuICAgICAgY29udHJvbGxlcjogQ29udHJvbGxlcixcbiAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcbiAgICB9O1xuXG4gICAgcmV0dXJuIGRpcmVjdGl2ZTtcblxuICAgIGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuXG4gICAgfVxuICB9XG5cbiAgQ29udHJvbGxlci4kaW5qZWN0ID0gWyckaHR0cCcsICckcSddO1xuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiBDb250cm9sbGVyKCRodHRwLCAkcSkge1xuICAgIHZhciB2bSA9IHRoaXM7XG5cbiAgICBhY3RpdmF0ZSgpO1xuXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG5cbiAgICB9XG5cbiAgICB2bS5uZXh0VGFiID0gZnVuY3Rpb24oKSB7XG4gICAgICB2bS5jb250cm9sLnNlbGVjdGVkVGFiICs9IDE7XG4gICAgfVxuICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuY29udHJvbGxlcignT3JkZXJzQ29udHJvbGxlcicsIENvbnRyb2xsZXIpO1xuXG4gIENvbnRyb2xsZXIuJGluamVjdCA9IFsnXycsICckc2NvcGUnLCAnJG1kRGlhbG9nJywgJ0RhdGFTZXJ2aWNlJ107XG5cbiAgZnVuY3Rpb24gQ29udHJvbGxlcihfLCAkc2NvcGUsICRtZERpYWxvZywgRGF0YVNlcnZpY2UpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgdm0ub3BlbkltYWdlID0gb3BlbkltYWdlO1xuICAgIHZtLmFkZCA9IGFkZDtcbiAgICB2bS50b3RhbCA9IDA7XG5cbiAgICB2bS5jb250cm9sID0ge1xuICAgICAgc2VsZWN0ZWRUYWI6IDBcbiAgICB9XG5cbiAgICB2bS5vcHRpb25zID0ge1xuICAgICAgdGFyZ2V0OiB7XG4gICAgICAgIGRpc3BsYXk6IFtdLFxuICAgICAgICBtZWRpYTogW10sXG4gICAgICAgIGltcHJlc3Npb25zVW5pdHM6IFtdLFxuICAgICAgICBpbXByZXNzaW9uc1RpbWU6IFtdLFxuICAgICAgICBkaXN0YW5jZTogW10sXG4gICAgICAgIGFnZTogW10sXG4gICAgICAgIGdlbmRlcjogW11cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdm0uZm9ybSA9IHtcbiAgICAgIG1lZGlhOiB7fSxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgZGlzcGxheToge30sXG4gICAgICAgIGltcHJlc3Npb25zOiB7fSxcbiAgICAgICAgZGlzdGFuY2U6IHt9LFxuICAgICAgICBhZ2U6IHt9LFxuICAgICAgICBnZW5kZXI6IHt9LFxuICAgICAgICBpbnRlcmVzdHM6IHt9XG4gICAgICB9LFxuICAgICAgY3VzdG9tZXI6IHt9LFxuICAgICAgYXV0aDoge31cbiAgICB9XG5cbiAgICBhY3RpdmF0ZSgpO1xuXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICBEYXRhU2VydmljZS5nZXRPcHRpb25zKCkudGhlbihmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3ApO1xuICAgICAgICB2bS5vcHRpb25zLnRhcmdldCA9IGRvX21lcmdlKHJlc3ApO1xuICAgICAgICBjb25zb2xlLmxvZyh2bS5mb3JtKTtcbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSlcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGRvX21lcmdlKHJvbGVzKSB7XG5cbiAgICAgIC8vIEN1c3RvbSBtZXJnZSBmdW5jdGlvbiBPUnMgdG9nZXRoZXIgbm9uLW9iamVjdCB2YWx1ZXMsIHJlY3Vyc2l2ZWx5XG4gICAgICAvLyBjYWxscyBpdHNlbGYgb24gT2JqZWN0cy5cbiAgICAgIHZhciBtZXJnZXIgPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgIGlmIChfLmlzT2JqZWN0KGEpKSB7XG4gICAgICAgICAgcmV0dXJuIF8ubWVyZ2Uoe30sIGEsIGIsIG1lcmdlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGEgfHwgYjtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLy8gQWxsb3cgcm9sZXMgdG8gYmUgcGFzc2VkIHRvIF8ubWVyZ2UgYXMgYW4gYXJyYXkgb2YgYXJiaXRyYXJ5IGxlbmd0aFxuICAgICAgdmFyIGFyZ3MgPSBfLmZsYXR0ZW4oW3t9LCByb2xlcywgbWVyZ2VyXSk7XG4gICAgICByZXR1cm4gXy5tZXJnZS5hcHBseShfLCBhcmdzKTtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIG9wZW5JbWFnZSgkZXZlbnQsIGltYWdlKSB7XG4gICAgICAkbWREaWFsb2cuc2hvdyh7XG4gICAgICAgIGZ1bGxzY3JlZW46IHRydWUsXG4gICAgICAgIHRhcmdldEV2ZW50OiAkZXZlbnQsXG4gICAgICAgIGNsaWNrT3V0c2lkZVRvQ2xvc2U6IHRydWUsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL3NoYXJlZC9sYXlvdXQvaW1hZ2VNb2RhbC5odG1sJyxcbiAgICAgICAgbG9jYWxzOiB7XG4gICAgICAgICAgaW1hZ2U6IGltYWdlXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJ2ltYWdlJywgZnVuY3Rpb24oc2NvcGUsIGltYWdlKSB7XG4gICAgICAgICAgc2NvcGUuaW1hZ2UgPSBpbWFnZTtcbiAgICAgICAgfV1cbiAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gYWRkKCkge1xuICAgICAgJG1kRGlhbG9nLnNob3coe1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC9jb21wb25lbnRzL2FkL2FkdmVydGlzZW1lbnRNb2RhbC5odG1sJyxcbiAgICAgICAgY2xpY2tPdXRzaWRlVG9DbG9zZTogdHJ1ZSxcbiAgICAgICAgZnVsbHNjcmVlbjogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLiR3YXRjaCgndm0uZm9ybScsIGZ1bmN0aW9uKGMsIG8pIHtcbiAgICAgIGNvbnNvbGUubG9nKGMpO1xuXG4gICAgICB2bS50b3RhbCA9IGMubWVkaWEuaGFzT3duUHJvcGVydHkoJ2ZlZScpP2MubWVkaWEuZmVlOjA7XG5cbiAgICAgIF8ubWFwKGMub3B0aW9ucywgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBpZiAoaXRlbS5oYXNPd25Qcm9wZXJ0eSgnZmVlJykpe1xuICAgICAgICAgICAgdm0udG90YWwgKz0gIHZtLnRvdGFsICogaXRlbS5mZWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXRlbS5oYXNPd25Qcm9wZXJ0eSgnZGlzY291bnQnKSl7XG4gICAgICAgICAgICB2bS50b3RhbCAtPSB2bS50b3RhbCAqIGl0ZW0uZGlzY291bnQ7XG4gICAgICAgIH1cblxuICAgICAgfSlcbiAgICB9LCB0cnVlKVxuXG4gIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgIC5kaXJlY3RpdmUoJ2FkYk9yZGVyc1Jlc3VtZScsIGRpcmVjdGl2ZSk7XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIGRpcmVjdGl2ZSgpIHtcbiAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICB0ZW1wbGF0ZVVybDogJ2Fzc2V0cy92aWV3cy9vcmRlcnMvb3JkZXJzLnJlc3VtZS5odG1sJyxcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIG9wdGlvbnM6ICc9JyxcbiAgICAgICAgZm9ybTogJz0nLFxuICAgICAgICB0b3RhbDogJz0nLFxuICAgICAgfSxcbiAgICAgIGxpbms6IGxpbmtGdW5jLFxuICAgICAgY29udHJvbGxlcjogQ29udHJvbGxlcixcbiAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcbiAgICB9O1xuXG4gICAgcmV0dXJuIGRpcmVjdGl2ZTtcblxuICAgIGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuXG4gICAgfVxuICB9XG5cbiAgQ29udHJvbGxlci4kaW5qZWN0ID0gWydfJywgJyRodHRwJywgJyRxJ107XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIENvbnRyb2xsZXIoXywgJGh0dHAsICRxKSB7XG4gICAgdmFyIHZtID0gdGhpcztcblxuICAgIGFjdGl2YXRlKCk7XG5cbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcblxuICAgIH1cblxuICAgIHZtLmZvcm1hdEltcHJlc3Npb25zID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgIGlmICghdm0uZm9ybS5pbXByZXNzaW9uVHlwZSB8fCAhdm0uZm9ybS5vcHRpb25zLmltcHJlc3Npb25zLmhhc093blByb3BlcnR5KCdpZCcpKSByZXR1cm47XG5cbiAgICAgIHZhciB0eXBlcyA9IHtcbiAgICAgICAgaW1wcmVzc2lvbnNVbml0czogXy5qb2luKFt2bS5mb3JtLm9wdGlvbnMuaW1wcmVzc2lvbnMucXVhbnRpdHksIHZtLmZvcm0ub3B0aW9ucy5pbXByZXNzaW9ucy50eXBlXSwgXCIgXCIpLFxuICAgICAgICBpbXByZXNzaW9uc1RpbWU6IF8uam9pbihbdm0uZm9ybS5vcHRpb25zLmltcHJlc3Npb25zLnRpbWUsIHZtLmZvcm0ub3B0aW9ucy5pbXByZXNzaW9ucy5wZXJpb2RdLCBcIiBcIiksXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0eXBlc1t2bS5mb3JtLmltcHJlc3Npb25UeXBlXTtcbiAgICB9XG5cbiAgICB2bS5mb3JtYXRUYXJnZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB0YXJnZXQgPSB7XG4gICAgICAgIGRpc3RhbmNlOiAge1xuICAgICAgICAgIHZhbHVlOiB2bS5mb3JtLm9wdGlvbnMuZGlzdGFuY2UsXG4gICAgICAgICAgcmVuZGVyOiBfLmpvaW4oWydEaXN0YW5jZTonLCAodm0uZm9ybS5vcHRpb25zLmRpc3RhbmNlLmRpc3RhbmNlIHx8ICcnKSwgJ0ttJ10sICcgJylcbiAgICAgICAgfSxcbiAgICAgICAgYWdlOiB7XG4gICAgICAgICAgdmFsdWU6IHZtLmZvcm0ub3B0aW9ucy5hZ2UsXG4gICAgICAgICAgcmVuZGVyOiBfLmpvaW4oWydBZ2UgYmV0d2VlbjonLCBfLmpvaW4odm0uZm9ybS5vcHRpb25zLmFnZS5yYW5nZSwgJy0nKSBdLCAnICcpXG4gICAgICAgIH0sXG4gICAgICAgIGdlbmRlcjogIHtcbiAgICAgICAgICB2YWx1ZTogdm0uZm9ybS5vcHRpb25zLmdlbmRlcixcbiAgICAgICAgICByZW5kZXI6IF8uam9pbihbJ0dlbmRlcjonLCB2bS5mb3JtLm9wdGlvbnMuZ2VuZGVyLmdlbmRlciBdLCAnICcpXG4gICAgICAgIH0sXG4gICAgICAgIGludGVyZXN0czoge1xuICAgICAgICAgIHZhbHVlOiB2bS5mb3JtLm9wdGlvbnMuaW50ZXJlc3RzLFxuICAgICAgICAgIHJlbmRlcjogXy5qb2luKFsnSW50ZXJlc3RzOicsIHZtLmZvcm0ub3B0aW9ucy5pbnRlcmVzdHMucXVhbnRpdHkgXSwgJyAnKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBzZWxlY3RlZCA9IF8ucGlja0J5KHRhcmdldCwgZnVuY3Rpb24oaSkge1xuICAgICAgICByZXR1cm4gaS52YWx1ZS5oYXNPd25Qcm9wZXJ0eSgnaWQnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoXy5pc0VtcHR5KHNlbGVjdGVkKSkgcmV0dXJuICcnO1xuXG4gICAgICByZXR1cm4gXy5qb2luKFsnVGFyZ2V0OiAnLCBfLm1hcChPYmplY3Qua2V5cyhzZWxlY3RlZCksIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0W2tleV0ucmVuZGVyO1xuICAgICAgfSldLCAnJyk7XG5cbiAgICB9XG5cblxuICAgIHZtLmZvcm1hdFJlc3VtZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHJlc3VtZTtcbiAgICB9XG4gIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgIC5kaXJlY3RpdmUoJ2FkYkRpc3BsYXlDaG9vc2VyJywgZGlyZWN0aXZlKTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gZGlyZWN0aXZlKCkge1xuICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgIHRlbXBsYXRlVXJsOiAnYXNzZXRzL3ZpZXdzL29yZGVycy9vcmRlcnMuZGlzcGxheS5odG1sJyxcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIG9wdGlvbnM6ICc9JyxcbiAgICAgICAgZm9ybTogJz0nLFxuICAgICAgICB0b3RhbDogJz0nXG4gICAgICB9LFxuICAgICAgbGluazogbGlua0Z1bmMsXG4gICAgICBjb250cm9sbGVyOiBDb250cm9sbGVyLFxuICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuICAgIH07XG5cbiAgICByZXR1cm4gZGlyZWN0aXZlO1xuXG4gICAgZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG5cbiAgICB9XG4gIH1cblxuICBDb250cm9sbGVyLiRpbmplY3QgPSBbJ3VpR21hcEdvb2dsZU1hcEFwaScsICd1aUdtYXBJc1JlYWR5JywgJyRxJywgJyRzY29wZScsICckdGltZW91dCcsICdEcm9wem9uZVNlcnZpY2UnXTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gQ29udHJvbGxlcih1aUdtYXBHb29nbGVNYXBBcGksIHVpR21hcElzUmVhZHksICRxLCAkc2NvcGUsICR0aW1lb3V0LCBEcm9wem9uZVNlcnZpY2UpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuICAgIHZhciBQbGFjZXMgPSBudWxsO1xuICAgIHZhciBEaXJlY3Rpb25SZW5kZXJlciA9IG51bGw7XG4gICAgdmFyIERpcmVjdGlvbnNTZXJ2aWNlID0gbnVsbDtcbiAgICB2YXIgUGxhY2VzQXV0b2NvbXBsZXRlID0gbnVsbDtcblxuICAgIHZtLmNvbnRyb2wgPSB7XG4gICAgICB1cGxvYWRpbmc6IGZhbHNlXG4gICAgfVxuICAgIHZtLm1hcCA9IHtcbiAgICAgIGNlbnRlcjoge1xuICAgICAgICBsYXRpdHVkZTogNDUuNTAxNzQ1MDI4MTY2NjcsXG4gICAgICAgIGxvbmdpdHVkZTogLTczLjU3MDM4ODE4Mjk5NzdcbiAgICAgIH0sXG4gICAgICB6b29tOiAxNCxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgc2Nyb2xsd2hlZWw6IHRydWVcbiAgICAgIH0sXG4gICAgICBtYXBNYXJrZXI6IHRydWUsXG4gICAgICBkaXNhYmxlRGVmYXVsdFVJOiB0cnVlLFxuICAgICAgY29udHJvbDoge30sXG4gICAgICBldmVudHM6IHtcbiAgICAgICAgY2xpY2s6IGNsaWNrTWFwLFxuICAgICAgICBpZGxlOiBib3VuZHNDaGFuZ2VkXG4gICAgICB9XG4gICAgfTtcblxuICAgIHZtLmluZm8gPSB7XG4gICAgICBuYW1lOiAnVmVudWUgbmFtZScsXG4gICAgICBhZGRyZXNzOiAnJyxcbiAgICAgIGljb246ICcnLFxuICAgIH1cblxuICAgIHZtLm1hcmtlciA9IHtcbiAgICAgIGlkOiAwLFxuICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgbGF0aXR1ZGU6IDQ1LjUwMTc0NTAyODE2NjY3LFxuICAgICAgICBsb25naXR1ZGU6IC03My41NzAzODgxODI5OTc3XG4gICAgICB9LFxuICAgICAgc2hvdzogZmFsc2UsXG4gICAgfVxuXG4gICAgdm0uZHJvcHpvbmUgPSBEcm9wem9uZVNlcnZpY2UuY3JlYXRlKGZ1bmN0aW9uKGZpbGUsIHJlc3BvbnNlKSB7XG4gICAgICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5zZWN1cmVfdXJsKTtcbiAgICAgICAgdm0uY29udHJvbC51cGxvYWRpbmcgPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgdm0uY29udHJvbC51cGxvYWRpbmcgPSB0cnVlO1xuICAgICAgfSk7XG4gICAgfSlcblxuICAgIGFjdGl2YXRlKCk7XG5cbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcblxuICAgICAgJHEuYWxsKFt1aUdtYXBHb29nbGVNYXBBcGksIHVpR21hcElzUmVhZHkucHJvbWlzZSgxKV0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgdmFyIG1hcCA9IHJlc3BvbnNlWzBdO1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSByZXNwb25zZVsxXVswXS5tYXA7XG5cbiAgICAgICAgdm0ud2luZG93ID0ge1xuICAgICAgICAgIHBpeGVsT2Zmc2V0OiBuZXcgbWFwLlNpemUoMCwgLTQwKSxcbiAgICAgICAgICBjbG9zZUNsaWNrOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZtLm1hcmtlci5zaG93ID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIFBsYWNlc0F1dG9jb21wbGV0ZSA9IG5ldyBtYXAucGxhY2VzLkF1dG9jb21wbGV0ZVNlcnZpY2UoKTtcbiAgICAgICAgRGlyZWN0aW9uc1NlcnZpY2UgPSBuZXcgbWFwLkRpcmVjdGlvbnNTZXJ2aWNlKCk7XG4gICAgICAgIERpcmVjdGlvblJlbmRlcmVyID0gbmV3IG1hcC5EaXJlY3Rpb25zUmVuZGVyZXIoKTtcbiAgICAgICAgdm0ubWFwLmluc3RhbmNlID0gaW5zdGFuY2U7XG4gICAgICAgIERpcmVjdGlvblJlbmRlcmVyLnNldE1hcCh2bS5tYXAuaW5zdGFuY2UpO1xuICAgICAgICBQbGFjZXMgPSBuZXcgbWFwLnBsYWNlcy5QbGFjZXNTZXJ2aWNlKHZtLm1hcC5pbnN0YW5jZSk7XG4gICAgICAgIHZtLnBsYWNlc1JlYWR5ID0gdHJ1ZTtcbiAgICAgICAgY29uc29sZS5sb2coJ3JlYWR5Jyk7XG4gICAgICAgIC8vZ2V0TG9jYXRpb24oKTtcblxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdm0uY2xpY2tNYXJrZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdjbGljaycpO1xuICAgICAgdm0ubWFya2VyLnNob3cgPSAhdm0ubWFya2VyLnNob3c7XG4gICAgICAkc2NvcGUuJGFwcGx5KCk7XG5cbiAgICB9XG5cbiAgICB2bS5hdXRvY29tcGxldGVBZGRyZXNzID0gZnVuY3Rpb24oYWRkcmVzcykge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgUGxhY2VzQXV0b2NvbXBsZXRlLmdldFF1ZXJ5UHJlZGljdGlvbnMoe1xuICAgICAgICBpbnB1dDogYWRkcmVzc1xuICAgICAgfSwgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEgPyBfLmZpbHRlcihkYXRhLCAncGxhY2VfaWQnKSA6IFtdKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xuXG4gICAgdm0uZ2V0UGxhY2UgPSBmdW5jdGlvbigpIHtcbiAgICAgIGNvbnNvbGUubG9nKHZtLmluZm8ucGxhY2UpO1xuXG4gICAgICBpZiAoIXZtLmluZm8ucGxhY2UpIHJldHVybjtcblxuICAgICAgUGxhY2VzLmdldERldGFpbHMoe1xuICAgICAgICBwbGFjZUlkOiB2bS5pbmZvLnBsYWNlLnBsYWNlX2lkXG4gICAgICB9LCBmdW5jdGlvbihwbGFjZSwgc3RhdHVzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHBsYWNlLCBzdGF0dXMpO1xuXG4gICAgICAgIHZtLm1hcmtlciA9IHtcbiAgICAgICAgICBpZDogRGF0ZS5ub3coKSxcbiAgICAgICAgICBuYW1lOiBwbGFjZS5uYW1lLFxuICAgICAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgICAgICBsYXRpdHVkZTogcGFyc2VGbG9hdChwbGFjZS5nZW9tZXRyeS5sb2NhdGlvbi5sYXQoKSksXG4gICAgICAgICAgICBsb25naXR1ZGU6IHBhcnNlRmxvYXQocGxhY2UuZ2VvbWV0cnkubG9jYXRpb24ubG5nKCkpLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc2hvdzogdHJ1ZVxuICAgICAgICB9O1xuXG5cbiAgICAgICAgY2VudGVyTWFwKHZtLm1hcC5pbnN0YW5jZSwgdm0ubWFya2VyLmxvY2F0aW9uLCBudWxsLCB0cnVlKTtcbiAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGNlbnRlck1hcChtYXAsIGxvY2F0aW9uLCBvZmZzZXQsIHNjcm9sbCkge1xuICAgICAgY29uc29sZS5sb2cobG9jYXRpb24pO1xuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIG1hcC5wYW5UbyhuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGxvY2F0aW9uLmxhdGl0dWRlLCBsb2NhdGlvbi5sb25naXR1ZGUpKTtcbiAgICAgICAgaWYgKG9mZnNldCkgbWFwLnBhbkJ5KDAsIC0yMDApO1xuICAgICAgfSwgMTAwKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGlja01hcChtYXAsIGV2ZW50TmFtZSwgb3JpZ2luYWxFdmVudEFyZ3MpIHtcbiAgICAgIHZhciBlID0gb3JpZ2luYWxFdmVudEFyZ3NbMF07XG4gICAgICB2YXIgbGF0ID0gZS5sYXRMbmcubGF0KCksXG4gICAgICAgIGxvbiA9IGUubGF0TG5nLmxuZygpO1xuICAgICAgdm0ubWFya2VyID0ge1xuICAgICAgICBpZDogRGF0ZS5ub3coKSxcbiAgICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgICBsYXRpdHVkZTogbGF0LFxuICAgICAgICAgIGxvbmdpdHVkZTogbG9uXG4gICAgICAgIH0sXG4gICAgICAgIHNob3c6IGZhbHNlXG4gICAgICB9O1xuICAgICAgJHNjb3BlLiRhcHBseSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGJvdW5kc0NoYW5nZWQoKSB7XG4gICAgICBjb25zb2xlLmxvZygnYm91bmRzIGNoYW5nZWQnKTtcbiAgICAgIGlmICghdm0ubWFwLmluc3RhbmNlKSByZXR1cm47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0TG9jYXRpb24oKSB7XG4gICAgICBpZiAodm0uZGF0YS5sb2NhdGlvbikge1xuICAgICAgICB2bS5sb2NhdGlvbiA9IHtcbiAgICAgICAgICBsYXQ6IHBhcnNlRmxvYXQodm0uZGF0YS5sb2NhdGlvblswXSksXG4gICAgICAgICAgbG5nOiBwYXJzZUZsb2F0KHZtLmRhdGEubG9jYXRpb25bMV0pXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy9cbiAgICAgIC8vIFV0aWxTZXJ2aWNlLmdldExvY2F0aW9uKClcbiAgICAgIC8vICAgLnRoZW4oZnVuY3Rpb24obG9jYXRpb24pIHtcbiAgICAgIC8vICAgICB2bS5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgLy8gICAgIC8vY2VudGVyTWFwKHZtLm1hcC5pbnN0YW5jZSwgdm0ubG9jYXRpb24pO1xuICAgICAgLy8gICB9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcbiAgICAgIC8vICAgICBpZiAoJHJvb3RTY29wZS51c2VyLmFkZHJlc3NQbGFjZSlcbiAgICAgIC8vICAgICAgIGdldFBsYWNlKCRyb290U2NvcGUudXNlci5hZGRyZXNzUGxhY2UucGxhY2VfaWQpO1xuICAgICAgLy9cbiAgICAgIC8vICAgfSkuZmluYWxseShmdW5jdGlvbigpIHtcbiAgICAgIC8vICAgICAvL3ZtLm1hcFZpc2libGUgPSB0cnVlO1xuICAgICAgLy8gICAgIC8vdm0uYWN0aXZpdGllcy5wdXNoKGxvY2F0aW9uTWFya2VyKCkpO1xuICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCdsb2NhdGlvbicpO1xuICAgICAgLy8gICB9KTtcblxuICAgIH1cbiAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgLmZhY3RvcnkoJ0F1dGgnLCBBdXRoKVxuICAgIC5mYWN0b3J5KCdBdXRoSW50ZXJjZXB0b3InLCBBdXRoSW50ZXJjZXB0b3IpXG4gICAgLmNvbmZpZyhmdW5jdGlvbigkaHR0cFByb3ZpZGVyKSB7XG4gICAgICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCdBdXRoSW50ZXJjZXB0b3InKTtcbiAgICAgICRodHRwUHJvdmlkZXIuZGVmYXVsdHMud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICB9KTtcblxuICBBdXRoLiRpbmplY3QgPSBbXG4gICAgJ2Jhc2VBcGknLFxuICAgICckd2luZG93JyxcbiAgICAnJGh0dHAnLFxuICAgICckcScsXG4gICAgJyRzdGF0ZScsXG4gICAgJyRyb290U2NvcGUnLFxuICAgICckbG9jYWxzdG9yYWdlJ1xuICBdO1xuXG4gIGZ1bmN0aW9uIEF1dGgoYmFzZUFwaSwgJHdpbmRvdywgJGh0dHAsICRxLCAkc3RhdGUsICRyb290U2NvcGUsICRsb2NhbHN0b3JhZ2UpIHtcblxuICAgIHZhciBBdXRoID0ge1xuICAgICAgdmFsaWRhdGU6IHZhbGlkYXRlLFxuICAgICAgaXNBdXRoZW50aWNhdGVkOiBpc0F1dGhlbnRpY2F0ZWQsXG4gICAgICBsb2dpbjogbG9naW4sXG4gICAgICBsb2dvdXQ6IGxvZ291dCxcbiAgICAgIHJlZ2lzdGVyOiByZWdpc3RlcixcbiAgICAgIGZvcmdvdDogZm9yZ290LFxuICAgICAgcmVzZXQ6IHJlc2V0LFxuICAgICAgc2V0Q3JlZGVudGlhbHM6IHNldENyZWRlbnRpYWxzLFxuICAgIH07XG5cbiAgICByZXR1cm4gQXV0aDtcblxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHRva2VuKSB7XG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgJGh0dHAucG9zdChiYXNlQXBpICsgJy9hdXRoL3ZhbGlkYXRlLycgKyB0b2tlbilcbiAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUocmVzcCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5lcnJvcihmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBbbG9naW4gZGVzY3JpcHRpb25dXG4gICAgICogQG1ldGhvZCBsb2dpblxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxvZ2luKGNyZWRlbnRpYWxzKSB7XG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAkaHR0cC5wb3N0KGJhc2VBcGkgKyAnL2F1dGgvbG9naW4nLCBjcmVkZW50aWFscylcbiAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xuXG4gICAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoJ3Rva2VuJykpIHtcbiAgICAgICAgICAgIGFuZ3VsYXIuY29weShkYXRhLnVzZXIsICRyb290U2NvcGUudXNlcik7XG4gICAgICAgICAgICAkbG9jYWxzdG9yYWdlLnNldCgnYWNjZXNzX3Rva2VuJywgZGF0YS50b2tlbik7XG4gICAgICAgICAgICAkbG9jYWxzdG9yYWdlLnNldE9iamVjdCgndXNlcicsIGRhdGEudXNlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAuZXJyb3IoZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycik7XG4gICAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBbcmVnaXN0ZXIgZGVzY3JpcHRpb25dXG4gICAgICogQG1ldGhvZCByZWdpc3RlclxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlZ2lzdGVyKHBheWxvYWQpIHtcblxuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgJGh0dHAucG9zdChiYXNlQXBpICsgJy9hdXRoL3JlZ2lzdGVyJywgcGF5bG9hZClcbiAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xuICAgICAgICB9KVxuICAgICAgICAuZXJyb3IoZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycik7XG4gICAgICAgIH0pO1xuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBbcmVnaXN0ZXIgZGVzY3JpcHRpb25dXG4gICAgICogQG1ldGhvZCByZXNldFxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc2V0KHRva2VuLCBwYXJhbXMpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICRodHRwLnBvc3QoYmFzZUFwaSArICcvYXV0aC9yZXNldHBhc3N3b3JkLycgKyB0b2tlbiwgcGFyYW1zKVxuICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5lcnJvcihmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFtyZWdpc3RlciBkZXNjcmlwdGlvbl1cbiAgICAgKiBAbWV0aG9kIGZvcmdvdFxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvcmdvdChwYXlsb2FkKSB7XG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAkaHR0cC5wb3N0KGJhc2VBcGkgKyAnL2F1dGgvcmVzZXRQYXNzd29yZFJlcXVlc3QnLCBwYXlsb2FkKVxuICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5lcnJvcihmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFtsb2dvdXQgZGVzY3JpcHRpb25dXG4gICAgICogQG1ldGhvZCBsb2dvdXRcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb2dvdXQoKSB7XG4gICAgICAkbG9jYWxzdG9yYWdlLnJlbW92ZSgndXNlcicpO1xuICAgICAgJGxvY2Fsc3RvcmFnZS5yZW1vdmUoJ2FjY2Vzc190b2tlbicpO1xuICAgICAgJGxvY2Fsc3RvcmFnZS5yZW1vdmUoJ29yaWdpbmFsX3VzZXInKTtcblxuICAgICAgJHJvb3RTY29wZS5pc0F1dGhlbnRpY2F0ZWQgPSBmYWxzZTtcbiAgICAgICRyb290U2NvcGUudXNlciA9IG51bGw7XG4gICAgICAkcm9vdFNjb3BlLnZpZXcgPSAnYXV0aCc7XG4gICAgICAkcm9vdFNjb3BlLmN1cnJlbnRTdGF0ZSA9ICdsb2dpbic7XG4gICAgICAkd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFtzZXRDcmVkZW50aWFscyBkZXNjcmlwdGlvbl1cbiAgICAgKiBAbWV0aG9kIGF1dGhlbnRpY2F0ZVxuICAgICAqIEBwYXJhbSAge1t0eXBlXX0gICAgIHVzZXIgW2Rlc2NyaXB0aW9uXVxuICAgICAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICAgW2Rlc2NyaXB0aW9uXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldENyZWRlbnRpYWxzKGRhdGEsIGZvcmNlKSB7XG4gICAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eSgndG9rZW4nKSkge1xuICAgICAgICBpZiAoZm9yY2UgfHwgISRsb2NhbHN0b3JhZ2UuZ2V0KCdhY2Nlc3NfdG9rZW4nKSkge1xuICAgICAgICAgICRsb2NhbHN0b3JhZ2Uuc2V0KCdhY2Nlc3NfdG9rZW4nLCBkYXRhLnRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICAkcm9vdFNjb3BlLnVzZXIgPSBkYXRhLnVzZXI7XG4gICAgICAgICRsb2NhbHN0b3JhZ2Uuc2V0T2JqZWN0KCd1c2VyJywgZGF0YS51c2VyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdCYWQgRGF0ZScsIGRhdGEpO1xuICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogW2lzQXV0aGVudGljYXRlZCBkZXNjcmlwdGlvbl1cbiAgICAgKiBAbWV0aG9kIGlzQXV0aGVudGljYXRlZFxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59ICAgICAgIFtkZXNjcmlwdGlvbl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWQoKSB7XG4gICAgICByZXR1cm4gJGxvY2Fsc3RvcmFnZS5nZXQoJ2FjY2Vzc190b2tlbicpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBbQXV0aEludGVyY2VwdG9yIGRlc2NyaXB0aW9uXVxuICAgKiBAbWV0aG9kIEF1dGhJbnRlcmNlcHRvclxuICAgKi9cbiAgZnVuY3Rpb24gQXV0aEludGVyY2VwdG9yKCRxLCAkbG9jYWxzdG9yYWdlLCAkaW5qZWN0b3IpIHtcblxuICAgIHZhciBBdXRoSW50ZXJjZXB0b3IgPSB7XG4gICAgICByZXF1ZXN0OiByZXF1ZXN0LFxuICAgICAgcmVzcG9uc2VFcnJvcjogcmVzcG9uc2VFcnJvclxuICAgIH07XG5cbiAgICByZXR1cm4gQXV0aEludGVyY2VwdG9yO1xuXG4gICAgZnVuY3Rpb24gcmVxdWVzdChjb25maWcpIHtcblxuICAgICAgdmFyIHRva2VuO1xuICAgICAgaWYgKCRsb2NhbHN0b3JhZ2UuZ2V0KCdhY2Nlc3NfdG9rZW4nKSkge1xuICAgICAgICB0b2tlbiA9ICRsb2NhbHN0b3JhZ2UuZ2V0KCdhY2Nlc3NfdG9rZW4nKTtcbiAgICAgIH1cbiAgICAgIGlmICh0b2tlbikge1xuICAgICAgICBjb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uID0gJ0JlYXJlciAnICsgdG9rZW47XG4gICAgICB9XG4gICAgICByZXR1cm4gY29uZmlnO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc3BvbnNlRXJyb3IocmVzcG9uc2UpIHtcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMSB8fCByZXNwb25zZS5zdGF0dXMgPT09IDQwMykge1xuICAgICAgICAkbG9jYWxzdG9yYWdlLnJlbW92ZSgnYWNjZXNzX3Rva2VuJyk7XG4gICAgICAgICRpbmplY3Rvci5nZXQoJyRzdGF0ZScpLmdvKCdsb2dpbicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuICRxLnJlamVjdChyZXNwb25zZSk7XG4gICAgfVxuXG4gIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgIC5zZXJ2aWNlKCdEYXRhU2VydmljZScsIGRhdGFTZXJ2aWNlKTtcblxuICBkYXRhU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCcsICckcScsICdiYXNlQXBpJ107XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIGRhdGFTZXJ2aWNlKCRodHRwLCAkcSwgYmFzZUFwaSkge1xuICAgIHZhciBkYXRhU2VydmljZSA9IHtcbiAgICAgIGdldE9wdGlvbnM6IGdldE9wdGlvbnMsXG4gICAgICBnZXRDbGllbnRUb2tlbiA6IGdldENsaWVudFRva2VuLFxuICAgICAgY3JlYXRlQ2FtcGFpZ246IGNyZWF0ZUNhbXBhaWduXG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGFTZXJ2aWNlO1xuXG4gICAgZnVuY3Rpb24gZ2V0T3B0aW9ucygpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICRodHRwKHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgdXJsOiBiYXNlQXBpICsgJy9jYW1wYWlnbi9vcHRpb25zLydcbiAgICAgIH0pLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhKTtcbiAgICAgIH0pLmVycm9yKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycik7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0Q2xpZW50VG9rZW4oKSB7XG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAkaHR0cCh7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MTMzOC9jb21tZXJjZS9jbGllbnRUb2tlbi8nXG4gICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XG4gICAgICB9KS5lcnJvcihmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGRlZmVycmVkLnJlamVjdChlcnIpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gY3JlYXRlQ2FtcGFpZ24ocGF5bG9hZCkge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICRodHRwLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MTMzOC9jYW1wYWlnbi9jcmVhdGUvJywgcGF5bG9hZClcbiAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5lcnJvcihmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9XG5cblxuXG5cblxuICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuc2VydmljZSgnRHJvcHpvbmVTZXJ2aWNlJywgRHJvcHpvbmVTZXJ2aWNlKTtcblxuXG4gIGZ1bmN0aW9uIERyb3B6b25lU2VydmljZSgpIHtcbiAgICB2YXIgc2VydmljZSA9IHtcbiAgICAgIGNyZWF0ZTogY3JlYXRlLFxuICAgICAgY3JlYXRlTXVsdGlwbGU6IGNyZWF0ZU11bHRpcGxlXG4gICAgfTtcblxuICAgIHJldHVybiBzZXJ2aWNlO1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlKHN1Y2Nlc3MsIHNlbmRpbmcsIHJlbW92ZWRmaWxlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgdXJsOiAnaHR0cHM6Ly9hcGkuY2xvdWRpbmFyeS5jb20vdjFfMS9jbG91ZDkvaW1hZ2UvdXBsb2FkJyxcbiAgICAgICAgICB1cGxvYWRNdWx0aXBsZTogZmFsc2UsXG4gICAgICAgICAgbWF4RmlsZXM6IDEsXG4gICAgICAgICAgYWNjZXB0ZWRGaWxlczogJ2ltYWdlLyonLFxuICAgICAgICAgIGRpY3REZWZhdWx0TWVzc2FnZTogJ0Ryb3AgZmlsZSBvciBjbGljayBoZXJlIHRvIHVwbG9hZCcsXG4gICAgICAgICAgYWRkUmVtb3ZlTGlua3M6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgZXZlbnRIYW5kbGVyczoge1xuICAgICAgICAgIHNlbmRpbmc6IGZ1bmN0aW9uKGZpbGUsIHhociwgZm9ybURhdGEpIHtcbiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnYXBpX2tleScsIDgzOTk4ODMzMzE1MzU2Nyk7XG4gICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3RpbWVzdGFtcCcsIERhdGUubm93KCkgLyAxMDAwIHwgMCk7XG4gICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3VwbG9hZF9wcmVzZXQnLCAnc20yZXY0bnUnKTtcbiAgICAgICAgICAgIGlmIChzZW5kaW5nKSBzZW5kaW5nKCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdWNjZXNzOiBzdWNjZXNzLFxuICAgICAgICAgIHJlbW92ZWRmaWxlOiByZW1vdmVkZmlsZVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZU11bHRpcGxlKG1heEZpbGVzLCBzdWNjZXNzLCBzZW5kaW5nKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgdXJsOiAnaHR0cHM6Ly9hcGkuY2xvdWRpbmFyeS5jb20vdjFfMS9jbG91ZDkvaW1hZ2UvdXBsb2FkJyxcbiAgICAgICAgICBtYXhGaWxlczogbWF4RmlsZXMsXG4gICAgICAgICAgYWNjZXB0ZWRGaWxlczogJ2ltYWdlLyonLFxuICAgICAgICAgIGRpY3REZWZhdWx0TWVzc2FnZTogJ0Ryb3AgZmlsZXMgb3IgY2xpY2sgaGVyZSB0byB1cGxvYWQnXG4gICAgICAgIH0sXG4gICAgICAgIGV2ZW50SGFuZGxlcnM6IHtcbiAgICAgICAgICBzZW5kaW5nOiBmdW5jdGlvbihmaWxlLCB4aHIsIGZvcm1EYXRhKSB7XG4gICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2FwaV9rZXknLCA4Mzk5ODgzMzMxNTM1NjcpO1xuICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCd0aW1lc3RhbXAnLCBEYXRlLm5vdygpIC8gMTAwMCB8IDApO1xuICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCd1cGxvYWRfcHJlc2V0JywgJ3NtMmV2NG51Jyk7XG4gICAgICAgICAgICBpZiAoc2VuZGluZykgc2VuZGluZygpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc3VjY2Vzczogc3VjY2Vzc1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuZmFjdG9yeSgnJGxvY2Fsc3RvcmFnZScsICRsb2NhbHN0b3JhZ2UpO1xuXG4gICRsb2NhbHN0b3JhZ2UuJGluamVjdCA9IFsnJHdpbmRvdyddO1xuXG4gIGZ1bmN0aW9uICRsb2NhbHN0b3JhZ2UoJHdpbmRvdykge1xuICAgIHZhciBzZXJ2aWNlID0ge1xuICAgICAgc2V0OiBzZXQsXG4gICAgICBnZXQ6IGdldCxcbiAgICAgIHNldE9iamVjdDogc2V0T2JqZWN0LFxuICAgICAgZ2V0T2JqZWN0OiBnZXRPYmplY3QsXG4gICAgICByZW1vdmU6IHJlbW92ZVxuICAgIH07XG5cbiAgICByZXR1cm4gc2VydmljZTtcblxuICAgIC8vLy8vLy8vLy9cblxuICAgIGZ1bmN0aW9uIHNldChrZXksIHZhbHVlKSB7XG4gICAgICAkd2luZG93LmxvY2FsU3RvcmFnZVtrZXldID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0KGtleSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4gJHdpbmRvdy5sb2NhbFN0b3JhZ2Vba2V5XSB8fCBkZWZhdWx0VmFsdWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0T2JqZWN0KGtleSwgdmFsdWUpIHtcbiAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlW2tleV0gPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0T2JqZWN0KGtleSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZSgkd2luZG93LmxvY2FsU3RvcmFnZVtrZXldIHx8IGRlZmF1bHRWYWx1ZSB8fCAne30nKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW1vdmUoa2V5KSB7XG4gICAgICByZXR1cm4gJHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgIH1cbiAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgLmRpcmVjdGl2ZSgnZHJvcHpvbmUnLCBkcm9wem9uZSk7XG5cbiAgZHJvcHpvbmUuJGluamVjdCA9IFsnRHJvcHpvbmUnXTtcblxuICBmdW5jdGlvbiBkcm9wem9uZShEcm9wem9uZSkge1xuICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICBsaW5rOiBsaW5rLFxuICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICBzY29wZToge1xuICAgICAgICBkcm9wem9uZTogJz1kcm9wem9uZScsXG4gICAgICAgIHJlc2V0OiAnQHJlc2V0J1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGRpcmVjdGl2ZTtcblxuICAgIGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICB2YXIgY29uZmlnLCB6b25lO1xuXG4gICAgICBjb25maWcgPSBzY29wZS5kcm9wem9uZTtcbiAgICAgIHpvbmUgPSBuZXcgRHJvcHpvbmUoZWxlbWVudFswXSwgY29uZmlnLm9wdGlvbnMpO1xuXG4gICAgICBpZiAoc2NvcGUucmVzZXQpIHtcbiAgICAgICAgem9uZS5vbignY29tcGxldGUnLCBmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgICAgem9uZS5yZW1vdmVGaWxlKGZpbGUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgYW5ndWxhci5mb3JFYWNoKGNvbmZpZy5ldmVudEhhbmRsZXJzLCBmdW5jdGlvbihoYW5kbGVyLCBldmVudCkge1xuICAgICAgICB6b25lLm9uKGV2ZW50LCBoYW5kbGVyKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgICAgICAuZGlyZWN0aXZlKCdmb290ZXJEaXJlY3RpdmUnLCBmb290ZXJEaXJlY3RpdmUpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gZm9vdGVyRGlyZWN0aXZlKCkge1xuICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2Fzc2V0cy92aWV3cy9mb290ZXIvZm9vdGVyLmh0bWwnLFxuICAgICAgICAgICAgY29udHJvbGxlcjogZm9vdGVyQ29udHJvbGxlcixcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xuICAgIH1cblxuICAgIGZvb3RlckNvbnRyb2xsZXIuJGluamVjdCA9IFtdO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gZm9vdGVyQ29udHJvbGxlcigpIHtcbiAgICAgICAgdmFyIHZtID0gdGhpcztcblxuICAgICAgICBhY3RpdmF0ZSgpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdmb290ZXIgQWN0aXZhdGVkJyk7XG4gICAgICAgIH1cbiAgICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgICAgICAuZGlyZWN0aXZlKCdoZWFkZXJEaXJlY3RpdmUnLCBoZWFkZXJEaXJlY3RpdmUpO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gaGVhZGVyRGlyZWN0aXZlKCkge1xuICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2Fzc2V0cy92aWV3cy9oZWFkZXIvaGVhZGVyLmh0bWwnLFxuICAgICAgICAgICAgY29udHJvbGxlcjogaGVhZGVyQ29udHJvbGxlcixcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xuICAgIH1cblxuICAgIGhlYWRlckNvbnRyb2xsZXIuJGluamVjdCA9IFtdO1xuXG4gICAgLyogQG5nSW5qZWN0ICovXG4gICAgZnVuY3Rpb24gaGVhZGVyQ29udHJvbGxlcigpIHtcbiAgICAgICAgdmFyIHZtID0gdGhpcztcblxuICAgICAgICBhY3RpdmF0ZSgpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdoZWFkZXIgQWN0aXZhdGVkJyk7XG4gICAgICAgIH1cbiAgICB9XG59KSgpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
