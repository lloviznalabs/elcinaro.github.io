!function(){"use strict";angular.module("AnyDayBuddyAds",["ui.router","ngMaterial","uiGmapgoogle-maps"])}(),function(){"use strict";angular.module("AnyDayBuddyAds").constant("_",window._).constant("jQuery",window.jQuery).constant("Dropzone",window.Dropzone).constant("braintree",window.braintree).constant("baseApi","https://api.anydaybuddy.com")}(),function(){"use strict";function e(e){e.configure({key:"AIzaSyAonFuCDb7HjXUz0uocKbEGUJz91IL9EVs",libraries:"places"})}function t(e,t){e.definePalette("primary",{50:"#9dceda",100:"#65b2c5",200:"#429ab0",300:"#2f6d7c",400:"#265966",500:"#1e4650",600:"#16323a",700:"#0d1f23",800:"#050c0d",900:"#000000",A100:"#9dceda",A200:"#65b2c5",A400:"#265966",A700:"#0d1f23",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100 A200"}),e.definePalette("accent",{50:"#d0ebed",100:"#99d4d8",200:"#70c3c8",300:"#43a7ae",400:"#3a9298",500:"#327d82",600:"#29686c",700:"#215256",800:"#183d40",900:"#10282a",A100:"#d0ebed",A200:"#99d4d8",A400:"#3a9298",A700:"#215256",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100 A200"}),e.definePalette("warn",{50:"#faeee6",100:"#ecc3a7",200:"#e2a379",300:"#d57b3e",400:"#c96b2b",500:"#b05e26",600:"#975121",700:"#7e431b",800:"#643616",900:"#4b2810",A100:"#faeee6",A200:"#ecc3a7",A400:"#c96b2b",A700:"#7e431b",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100 A200"}),e.theme("default").primaryPalette("primary").accentPalette("accent").warnPalette("warn")}angular.module("AnyDayBuddyAds").config(t).config(e),e.$inject=["uiGmapGoogleMapApiProvider"],t.$inject=["$mdThemingProvider","$locationProvider"]}(),function(){"use strict";function e(e,t,o){e.$state=t,e.user=o.getUser(),e.$on("$stateChangeStart",function(n,r){e.fill=["login","dashboard","dashboard.campaigns"].indexOf(r.name)!==-1,r.authenticate&&!o.isAuthenticated()&&(n.preventDefault(),t.transitionTo("login"))})}angular.module("AnyDayBuddyAds").run(e),e.$inject=["$rootScope","$state","Auth"]}(),function(){"use strict";function e(e,t,o){e.state("home",{url:"/",views:{main:{controller:"HomeController",controllerAs:"vm",templateUrl:"assets/views/home.html"}},authenticate:!1}).state("dashboard",{url:"/dashboard",views:{main:{controller:"DashboardController",controllerAs:"vm",templateUrl:"assets/views/dashboard/index.html"}},authenticate:!0}).state("dashboard.campaigns",{url:"/campaigns",views:{dashboard:{controller:"DashboardController",controllerAs:"vm",templateUrl:"assets/views/dashboard/campaigns.html"}},authenticate:!0}).state("orders",{url:"/orders",views:{main:{controller:"OrdersController",controllerAs:"vm",templateUrl:"assets/views/orders.html"}},authenticate:!1}).state("login",{url:"/login",views:{main:{controller:"LoginController",controllerAs:"vm",templateUrl:"assets/views/login.html"}},authenticate:!1}),t.otherwise("/")}angular.module("AnyDayBuddyAds").config(e),e.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"]}(),function(){"use strict";function e(e,t){}e.$inject=["$http","$q"],angular.module("AnyDayBuddyAds").controller("DashboardController",e)}(),function(){"use strict";function e(){function e(e,t,o,n){}var o={restrict:"EA",templateUrl:"assets/views/orders/orders.campaign.html",scope:{options:"=",form:"=",total:"="},link:e,controller:t,controllerAs:"vm",bindToController:!0};return o}function t(e,t){function o(){}o()}angular.module("AnyDayBuddyAds").directive("adbOrdersCampaign",e),t.$inject=["$http","$q"]}(),function(){"use strict";function e(){function e(e,t,o,n){}var o={restrict:"EA",templateUrl:"assets/views/orders/orders.checkout.html",scope:{options:"=",form:"=",total:"="},link:e,controller:t,controllerAs:"vm",bindToController:!0};return o}function t(e,t,o,n,r,i){function s(){i.getClientToken().then(function(e){console.log(e),a(e.clientToken)}).catch(function(e){console.log(e)})}function a(e){t.setup(e,"custom",{paypal:{container:"paypal-container",singleUse:!0,amount:"0",currency:"USD",locale:"en_us",enableShippingAddress:!1},onPaymentMethodReceived:function(e){c(e.nonce)},onReady:function(e){l.checkout=e}})}function c(e){console.log(e)}var l=this;l.checkout={},s(),l.launch=function(){console.log(l.checkout,l.form)},o.$watch("vm.checkout",function(e,t){e&&console.log(e)})}angular.module("AnyDayBuddyAds").directive("adbOrdersCheckout",e),t.$inject=["_","braintree","$scope","$http","$q","DataService"]}(),function(){"use strict";function e(){function e(e,t,o,n){}var o={restrict:"EA",templateUrl:"assets/views/orders/orders.customer.html",scope:{options:"=",form:"=",total:"=",control:"="},link:e,controller:t,controllerAs:"vm",bindToController:!0};return o}function t(e,t){function o(){}var n=this;o(),n.nextTab=function(){n.control.selectedTab+=1}}angular.module("AnyDayBuddyAds").directive("adbOrdersCustomer",e),t.$inject=["$http","$q"]}(),function(){"use strict";function e(e,t,o,n){function r(){n.getOptions().then(function(e){console.log(e),c.options.target=i(e),console.log(c.form)}).catch(function(e){console.log(e)})}function i(t){var o=function(t,n){return e.isObject(t)?e.merge({},t,n,o):t||n},n=e.flatten([{},t,o]);return e.merge.apply(e,n)}function s(e,t){o.show({fullscreen:!0,targetEvent:e,clickOutsideToClose:!0,templateUrl:"app/shared/layout/imageModal.html",locals:{image:t},controller:["$scope","image",function(e,t){e.image=t}]})}function a(){o.show({templateUrl:"app/components/ad/advertisementModal.html",clickOutsideToClose:!0,fullscreen:!0})}var c=this;c.openImage=s,c.add=a,c.total=0,c.control={selectedTab:0},c.options={target:{display:[],media:[],impressionsUnits:[],impressionsTime:[],distance:[],age:[],gender:[]}},c.form={media:{},options:{display:{},impressions:{},distance:{},age:{},gender:{},interests:{}},customer:{},auth:{}},r(),t.$watch("vm.form",function(t,o){console.log(t),c.total=t.media.hasOwnProperty("fee")?t.media.fee:0,e.map(t.options,function(e){e.hasOwnProperty("fee")&&(c.total+=c.total*e.fee),e.hasOwnProperty("discount")&&(c.total-=c.total*e.discount)})},!0)}angular.module("AnyDayBuddyAds").controller("OrdersController",e),e.$inject=["_","$scope","$mdDialog","DataService"]}(),function(){"use strict";function e(){function e(e,t,o,n){}var o={restrict:"EA",templateUrl:"assets/views/orders/orders.resume.html",scope:{options:"=",form:"=",total:"="},link:e,controller:t,controllerAs:"vm",bindToController:!0};return o}function t(e,t,o){function n(){}var r=this;n(),r.formatImpressions=function(){if(r.form.impressionType&&r.form.options.impressions.hasOwnProperty("id")){var t={impressionsUnits:e.join([r.form.options.impressions.quantity,r.form.options.impressions.type]," "),impressionsTime:e.join([r.form.options.impressions.time,r.form.options.impressions.period]," ")};return t[r.form.impressionType]}},r.formatTarget=function(){var t={distance:{value:r.form.options.distance,render:e.join(["Distance:",r.form.options.distance.distance||"","Km"]," ")},age:{value:r.form.options.age,render:e.join(["Age between:",e.join(r.form.options.age.range,"-")]," ")},gender:{value:r.form.options.gender,render:e.join(["Gender:",r.form.options.gender.gender]," ")},interests:{value:r.form.options.interests,render:e.join(["Interests:",r.form.options.interests.quantity]," ")}},o=e.pickBy(t,function(e){return e.value.hasOwnProperty("id")});return e.isEmpty(o)?"":e.join(["Target: ",e.map(Object.keys(o),function(e){return t[e].render})],"")},r.formatResume=function(){return resume}}angular.module("AnyDayBuddyAds").directive("adbOrdersResume",e),t.$inject=["_","$http","$q"]}(),function(){"use strict";function e(){function e(e,t,o,n){}var o={restrict:"EA",templateUrl:"assets/views/orders/orders.display.html",scope:{options:"=",form:"=",total:"="},link:e,controller:t,controllerAs:"vm",bindToController:!0};return o}function t(e,t,o,n,r,i){function s(){o.all([e,t.promise(1)]).then(function(e){var t=e[0],o=e[1][0].map;u.window={pixelOffset:new t.Size(0,(-40)),closeClick:function(){u.marker.show=!1}},m=new t.places.AutocompleteService,f=new t.DirectionsService,p=new t.DirectionsRenderer,u.map.instance=o,p.setMap(u.map.instance),d=new t.places.PlacesService(u.map.instance),u.placesReady=!0,console.log("ready")})}function a(e,t,o,n){console.log(t),r(function(){e.panTo(new google.maps.LatLng(t.latitude,t.longitude)),o&&e.panBy(0,-200)},100)}function c(e,t,o){var r=o[0],i=r.latLng.lat(),s=r.latLng.lng();u.marker={id:Date.now(),location:{latitude:i,longitude:s},show:!1},n.$apply()}function l(){console.log("bounds changed"),!u.map.instance}var u=this,d=null,p=null,f=null,m=null;u.control={uploading:!1},u.map={center:{latitude:45.50174502816667,longitude:-73.5703881829977},zoom:14,options:{scrollwheel:!0},mapMarker:!0,disableDefaultUI:!0,control:{},events:{click:c,idle:l}},u.info={name:"Venue name",address:"",icon:""},u.marker={id:0,location:{latitude:45.50174502816667,longitude:-73.5703881829977},show:!1},u.desktopDropzone=i.create("desktop",function(e,t){n.$apply(function(){console.log(t.secure_url),u.control.uploading=!1})},function(){n.$apply(function(){u.control.uploading=!0})}),u.mobileDropzone=i.create("mobile",function(e,t){n.$apply(function(){console.log(t.secure_url),u.control.uploading=!1})},function(){n.$apply(function(){u.control.uploading=!0})}),s(),u.clickMarker=function(){console.log("click"),u.marker.show=!u.marker.show,n.$apply()},u.autocompleteAddress=function(e){var t=o.defer();return m.getQueryPredictions({input:e},function(e){t.resolve(e?_.filter(e,"place_id"):[])}),t.promise},u.getPlace=function(){console.log(u.info.place),u.info.place&&d.getDetails({placeId:u.info.place.place_id},function(e,t){console.log(e,t),u.marker={id:Date.now(),name:e.name,location:{latitude:parseFloat(e.geometry.location.lat()),longitude:parseFloat(e.geometry.location.lng())},show:!0},a(u.map.instance,u.marker.location,null,!0),n.$apply()})}}angular.module("AnyDayBuddyAds").directive("adbDisplayChooser",e),t.$inject=["uiGmapGoogleMapApi","uiGmapIsReady","$q","$scope","$timeout","DropzoneService"]}(),function(){"use strict";function e(e,t){function o(){}function n(e){t("html, body").animate({scrollTop:t(e).offset().top},1e3)}var r=this;r.title="Home Controller",r.scrollTo=n,o()}angular.module("AnyDayBuddyAds").controller("HomeController",e),e.$inject=["$rootScope","jQuery"]}(),function(){"use strict";function e(e,t){var o=this;o.login=function(){t.login(o.user).then(function(t){console.log(t),e.go("dashboard.campaigns")})}}angular.module("AnyDayBuddyAds").controller("LoginController",e),e.$inject=["$state","Auth"]}(),function(){"use strict";function e(e,t,o,n,r,i,s){function a(){return s.getObject("user",null)}function c(t){var r=n.defer();return o.post(e+"/auth/validate/"+t).success(function(e){r.resolve(e)}).error(function(e){r.reject(e)}),r.promise}function l(t){var r=n.defer();return o.post(e+"/auth/login",t).success(function(e,t,o,n){r.resolve(e),e.hasOwnProperty("token")&&(angular.copy(e.user,i.user),s.set("access_token",e.token),s.setObject("user",e.user))}).error(function(e){r.reject(e)}),r.promise}function u(t){var r=n.defer();return o.post(e+"/auth/register",t).success(function(e,t,o,n){r.resolve(e)}).error(function(e){r.reject(e)}),r.promise}function d(t,r){var i=n.defer();return o.post(e+"/auth/resetpassword/"+t,r).success(function(e,t,o,n){i.resolve(e)}).error(function(e){i.reject(e)}),i.promise}function p(t){var r=n.defer();return o.post(e+"/auth/resetPasswordRequest",t).success(function(e,t,o,n){r.resolve(e)}).error(function(e){r.reject(e)}),r.promise}function f(){s.remove("user"),s.remove("access_token"),s.remove("original_user"),i.isAuthenticated=!1,i.user=null,i.view="auth",i.currentState="login",t.location.reload()}function m(e,t){e.hasOwnProperty("token")?(!t&&s.get("access_token")||s.set("access_token",e.token),i.user=e.user,s.setObject("user",e.user)):console.log("Bad Date",e)}function g(){return s.get("access_token")}var h={getUser:a,validate:c,isAuthenticated:g,login:l,logout:f,register:u,forgot:p,reset:d,setCredentials:m};return h}function t(e,t,o){function n(e){var o;return t.get("access_token")&&(o=t.get("access_token")),o&&(e.headers.Authorization="Bearer "+o),e}function r(n){return 401!==n.status&&403!==n.status||(t.remove("access_token"),o.get("$state").go("login")),e.reject(n)}var i={request:n,responseError:r};return i}t.$inject=["$q","$localstorage","$injector"],angular.module("AnyDayBuddyAds").factory("Auth",e).factory("AuthInterceptor",t).config(["$httpProvider",function(e){e.interceptors.push("AuthInterceptor"),e.defaults.withCredentials=!0}]),e.$inject=["baseApi","$window","$http","$q","$state","$rootScope","$localstorage"]}(),function(){"use strict";function e(e,t,o){function n(){var n=t.defer();return e({method:"GET",url:o+"/campaign/options/"}).success(function(e,t,o,r){n.resolve(e)}).error(function(e){n.reject(e)}),n.promise}function r(){var o=t.defer();return e({method:"GET",url:"http://localhost:1338/commerce/clientToken/"}).success(function(e,t,n,r){o.resolve(e)}).error(function(e){o.reject(e)}),o.promise}function i(o){var n=t.defer();return e.post("http://localhost:1338/campaign/create/",o).success(function(e){n.resolve(e)}).error(function(e){n.reject(e)}),n.promise}var s={getOptions:n,getClientToken:r,createCampaign:i};return s}angular.module("AnyDayBuddyAds").service("DataService",e),e.$inject=["$http","$q","baseApi"]}(),function(){"use strict";function e(){function e(e,o,n,r){return{options:{url:"https://api.cloudinary.com/v1_1/cloud9/image/upload",uploadMultiple:!1,maxFiles:1,acceptedFiles:"image/*",dictDefaultMessage:"Drop file or click here to upload",addRemoveLinks:!0,init:function(){this.on("thumbnail",function(o){o.width!==t[e].width||o.height!==t[e].height?o.rejectDimensions():o.acceptDimensions()})},accept:function(e,t){e.acceptDimensions=t,e.rejectDimensions=function(){t("Invalid dimension.")}}},eventHandlers:{sending:function(e,t,o){o.append("api_key",839988333153567),o.append("timestamp",Date.now()/1e3|0),o.append("upload_preset","sm2ev4nu"),n&&n()},success:o,removedfile:r}}}function o(e,t,o){return{options:{url:"https://api.cloudinary.com/v1_1/cloud9/image/upload",maxFiles:e,acceptedFiles:"image/*",dictDefaultMessage:"Drop files or click here to upload"},eventHandlers:{sending:function(e,t,n){n.append("api_key",839988333153567),n.append("timestamp",Date.now()/1e3|0),n.append("upload_preset","sm2ev4nu"),o&&o()},success:t}}}var n={create:e,createMultiple:o};return n}angular.module("AnyDayBuddyAds").service("DropzoneService",e);var t={mobile:{width:750,height:100},desktop:{width:880,height:1156}}}(),function(){"use strict";function e(e){function t(t,o){e.localStorage[t]=o}function o(t,o){return e.localStorage[t]||o}function n(t,o){e.localStorage[t]=JSON.stringify(o)}function r(t,o){return JSON.parse(e.localStorage[t]||(void 0!==o?o:"{}"))}function i(t){return e.localStorage.removeItem(t)}var s={set:t,get:o,setObject:n,getObject:r,remove:i};return s}angular.module("AnyDayBuddyAds").factory("$localstorage",e),e.$inject=["$window"]}(),function(){"use strict";function e(e){function t(t,o,n){var r,i;r=t.dropzone,i=new e(o[0],r.options),t.reset&&i.on("complete",function(e){i.removeFile(e)}),angular.forEach(r.eventHandlers,function(e,t){i.on(t,e)})}var o={link:t,restrict:"EA",scope:{dropzone:"=dropzone",reset:"@reset"}};return o}angular.module("AnyDayBuddyAds").directive("dropzone",e),e.$inject=["Dropzone"]}(),function(){"use strict";function e(){var e={restrict:"EA",templateUrl:"assets/views/footer/footer.html",controller:t,controllerAs:"vm",bindToController:!0};return e}function t(){function e(){console.log("footer Activated")}e()}angular.module("AnyDayBuddyAds").directive("footerDirective",e),t.$inject=[]}(),function(){"use strict";function e(){var e={restrict:"EA",templateUrl:"assets/views/header/header.html",controller:t,controllerAs:"vm",bindToController:!0,scope:{}};return e}function t(e){var t=this;t.logout=function(){console.log("LOGOUT"),e.logout()}}angular.module("AnyDayBuddyAds").directive("headerDirective",e),t.$inject=["Auth"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5tb2R1bGUuanMiLCJhcHAuY29uc3RhbnRzLmpzIiwiYXBwLmNvbmZpZy5qcyIsImFwcC5ydW4uanMiLCJhcHAucm91dGUuanMiLCJkYXNoYm9hcmQvZGFzaGJvYXJkLmNvbnRyb2xsZXIuanMiLCJvcmRlcnMvY2FtcGFpZ24uZGlyZWN0aXZlLmpzIiwib3JkZXJzL2NoZWNrb3V0LmRpcmVjdGl2ZS5qcyIsIm9yZGVycy9jdXN0b21lci5kaXJlY3RpdmUuanMiLCJvcmRlcnMvb3JkZXJzLmNvbnRyb2xsZXIuanMiLCJvcmRlcnMvcmVzdW1lLmRpcmVjdGl2ZS5qcyIsIm9yZGVycy91dGlscy5kaXNwbGF5LmRpcmVjdGl2ZS5qcyIsIm1haW4vaG9tZS5jb250cm9sbGVyLmpzIiwibWFpbi9sb2dpbi5jb250cm9sbGVyLmpzIiwic2VydmljZXMvYXV0aC5zZXJ2aWNlLmpzIiwic2VydmljZXMvZGF0YS5zZXJ2aWNlLmpzIiwic2VydmljZXMvZHJvcHpvbmUuc2VydmljZS5qcyIsInNlcnZpY2VzL2xvY2Fsc3RvcmFnZS5zZXJ2aWNlLmpzIiwic2hhcmVkL2Ryb3B6b25lLmRpcmVjdGl2ZS5qcyIsImNvbXBvbmVudHMvZm9vdGVyL2Zvb3Rlci5kaXJlY3RpdmUuanMiLCJjb21wb25lbnRzL2hlYWRlci9oZWFkZXIuZGlyZWN0aXZlLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25zdGFudCIsIndpbmRvdyIsIl8iLCJqUXVlcnkiLCJEcm9wem9uZSIsImJyYWludHJlZSIsIm1hcHNQcm92aWRlciIsInVpR21hcEdvb2dsZU1hcEFwaVByb3ZpZGVyIiwiY29uZmlndXJlIiwia2V5IiwibGlicmFyaWVzIiwiY29uZmlnIiwiJG1kVGhlbWluZ1Byb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCJkZWZpbmVQYWxldHRlIiwiNTAiLCIxMDAiLCIyMDAiLCIzMDAiLCI0MDAiLCI1MDAiLCI2MDAiLCI3MDAiLCI4MDAiLCI5MDAiLCJBMTAwIiwiQTIwMCIsIkE0MDAiLCJBNzAwIiwiY29udHJhc3REZWZhdWx0Q29sb3IiLCJjb250cmFzdERhcmtDb2xvcnMiLCJ0aGVtZSIsInByaW1hcnlQYWxldHRlIiwiYWNjZW50UGFsZXR0ZSIsIndhcm5QYWxldHRlIiwiJGluamVjdCIsInJ1blByb3ZpZGVyIiwiJHJvb3RTY29wZSIsIiRzdGF0ZSIsIkF1dGgiLCJ1c2VyIiwiZ2V0VXNlciIsIiRvbiIsImV2ZW50IiwidG9TdGF0ZSIsImZpbGwiLCJpbmRleE9mIiwibmFtZSIsImF1dGhlbnRpY2F0ZSIsImlzQXV0aGVudGljYXRlZCIsInByZXZlbnREZWZhdWx0IiwidHJhbnNpdGlvblRvIiwicnVuIiwicm91dGVyUHJvdmlkZXIiLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsInN0YXRlIiwidXJsIiwidmlld3MiLCJtYWluIiwiY29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsInRlbXBsYXRlVXJsIiwiZGFzaGJvYXJkIiwib3RoZXJ3aXNlIiwiQ29udHJvbGxlciIsIiRodHRwIiwiJHEiLCJkaXJlY3RpdmUiLCJsaW5rRnVuYyIsInNjb3BlIiwiZWwiLCJhdHRyIiwiY3RybCIsInJlc3RyaWN0Iiwib3B0aW9ucyIsImZvcm0iLCJ0b3RhbCIsImxpbmsiLCJiaW5kVG9Db250cm9sbGVyIiwiYWN0aXZhdGUiLCIkc2NvcGUiLCJEYXRhU2VydmljZSIsImdldENsaWVudFRva2VuIiwidGhlbiIsInJlcyIsImNvbnNvbGUiLCJsb2ciLCJzZXR1cEdhdGV3YXkiLCJjbGllbnRUb2tlbiIsImNhdGNoIiwiZXJyIiwidG9rZW4iLCJzZXR1cCIsInBheXBhbCIsImNvbnRhaW5lciIsInNpbmdsZVVzZSIsImFtb3VudCIsImN1cnJlbmN5IiwibG9jYWxlIiwiZW5hYmxlU2hpcHBpbmdBZGRyZXNzIiwib25QYXltZW50TWV0aG9kUmVjZWl2ZWQiLCJvYmoiLCJkb1NvbWV0aGluZ1dpdGhUaGVOb25jZSIsIm5vbmNlIiwib25SZWFkeSIsImludGVncmF0aW9uIiwidm0iLCJjaGVja291dCIsInRoaXMiLCJsYXVuY2giLCIkd2F0Y2giLCJjIiwibyIsImNvbnRyb2wiLCJuZXh0VGFiIiwic2VsZWN0ZWRUYWIiLCIkbWREaWFsb2ciLCJnZXRPcHRpb25zIiwicmVzcCIsInRhcmdldCIsImRvX21lcmdlIiwicm9sZXMiLCJtZXJnZXIiLCJhIiwiYiIsImlzT2JqZWN0IiwibWVyZ2UiLCJhcmdzIiwiZmxhdHRlbiIsImFwcGx5Iiwib3BlbkltYWdlIiwiJGV2ZW50IiwiaW1hZ2UiLCJzaG93IiwiZnVsbHNjcmVlbiIsInRhcmdldEV2ZW50IiwiY2xpY2tPdXRzaWRlVG9DbG9zZSIsImxvY2FscyIsImFkZCIsImRpc3BsYXkiLCJtZWRpYSIsImltcHJlc3Npb25zVW5pdHMiLCJpbXByZXNzaW9uc1RpbWUiLCJkaXN0YW5jZSIsImFnZSIsImdlbmRlciIsImltcHJlc3Npb25zIiwiaW50ZXJlc3RzIiwiY3VzdG9tZXIiLCJhdXRoIiwiaGFzT3duUHJvcGVydHkiLCJmZWUiLCJtYXAiLCJpdGVtIiwiZGlzY291bnQiLCJmb3JtYXRJbXByZXNzaW9ucyIsImltcHJlc3Npb25UeXBlIiwidHlwZXMiLCJqb2luIiwicXVhbnRpdHkiLCJ0eXBlIiwidGltZSIsInBlcmlvZCIsImZvcm1hdFRhcmdldCIsInZhbHVlIiwicmVuZGVyIiwicmFuZ2UiLCJzZWxlY3RlZCIsInBpY2tCeSIsImkiLCJpc0VtcHR5IiwiT2JqZWN0Iiwia2V5cyIsImZvcm1hdFJlc3VtZSIsInJlc3VtZSIsInVpR21hcEdvb2dsZU1hcEFwaSIsInVpR21hcElzUmVhZHkiLCIkdGltZW91dCIsIkRyb3B6b25lU2VydmljZSIsImFsbCIsInByb21pc2UiLCJyZXNwb25zZSIsImluc3RhbmNlIiwicGl4ZWxPZmZzZXQiLCJTaXplIiwiY2xvc2VDbGljayIsIm1hcmtlciIsIlBsYWNlc0F1dG9jb21wbGV0ZSIsInBsYWNlcyIsIkF1dG9jb21wbGV0ZVNlcnZpY2UiLCJEaXJlY3Rpb25zU2VydmljZSIsIkRpcmVjdGlvblJlbmRlcmVyIiwiRGlyZWN0aW9uc1JlbmRlcmVyIiwic2V0TWFwIiwiUGxhY2VzIiwiUGxhY2VzU2VydmljZSIsInBsYWNlc1JlYWR5IiwiY2VudGVyTWFwIiwibG9jYXRpb24iLCJvZmZzZXQiLCJzY3JvbGwiLCJwYW5UbyIsImdvb2dsZSIsIm1hcHMiLCJMYXRMbmciLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsInBhbkJ5IiwiY2xpY2tNYXAiLCJldmVudE5hbWUiLCJvcmlnaW5hbEV2ZW50QXJncyIsImUiLCJsYXQiLCJsYXRMbmciLCJsb24iLCJsbmciLCJpZCIsIkRhdGUiLCJub3ciLCIkYXBwbHkiLCJib3VuZHNDaGFuZ2VkIiwidXBsb2FkaW5nIiwiY2VudGVyIiwiem9vbSIsInNjcm9sbHdoZWVsIiwibWFwTWFya2VyIiwiZGlzYWJsZURlZmF1bHRVSSIsImV2ZW50cyIsImNsaWNrIiwiaWRsZSIsImluZm8iLCJhZGRyZXNzIiwiaWNvbiIsImRlc2t0b3BEcm9wem9uZSIsImNyZWF0ZSIsImZpbGUiLCJzZWN1cmVfdXJsIiwibW9iaWxlRHJvcHpvbmUiLCJjbGlja01hcmtlciIsImF1dG9jb21wbGV0ZUFkZHJlc3MiLCJkZWZlcnJlZCIsImRlZmVyIiwiZ2V0UXVlcnlQcmVkaWN0aW9ucyIsImlucHV0IiwiZGF0YSIsInJlc29sdmUiLCJmaWx0ZXIiLCJnZXRQbGFjZSIsInBsYWNlIiwiZ2V0RGV0YWlscyIsInBsYWNlSWQiLCJwbGFjZV9pZCIsInN0YXR1cyIsInBhcnNlRmxvYXQiLCJnZW9tZXRyeSIsIkhvbWVDb250cm9sbGVyIiwic2Nyb2xsVG8iLCJlbGVtZW50IiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsInRvcCIsInRpdGxlIiwiTG9naW5Db250cm9sbGVyIiwibG9naW4iLCJnbyIsImJhc2VBcGkiLCIkd2luZG93IiwiJGxvY2Fsc3RvcmFnZSIsImdldE9iamVjdCIsInZhbGlkYXRlIiwicG9zdCIsInN1Y2Nlc3MiLCJlcnJvciIsInJlamVjdCIsImNyZWRlbnRpYWxzIiwiaGVhZGVycyIsImNvcHkiLCJzZXQiLCJzZXRPYmplY3QiLCJyZWdpc3RlciIsInBheWxvYWQiLCJyZXNldCIsInBhcmFtcyIsImZvcmdvdCIsImxvZ291dCIsInJlbW92ZSIsInZpZXciLCJjdXJyZW50U3RhdGUiLCJyZWxvYWQiLCJzZXRDcmVkZW50aWFscyIsImZvcmNlIiwiZ2V0IiwiQXV0aEludGVyY2VwdG9yIiwiJGluamVjdG9yIiwicmVxdWVzdCIsIkF1dGhvcml6YXRpb24iLCJyZXNwb25zZUVycm9yIiwiZmFjdG9yeSIsIiRodHRwUHJvdmlkZXIiLCJpbnRlcmNlcHRvcnMiLCJwdXNoIiwiZGVmYXVsdHMiLCJ3aXRoQ3JlZGVudGlhbHMiLCJkYXRhU2VydmljZSIsIm1ldGhvZCIsImNyZWF0ZUNhbXBhaWduIiwic2VydmljZSIsInNlbmRpbmciLCJyZW1vdmVkZmlsZSIsInVwbG9hZE11bHRpcGxlIiwibWF4RmlsZXMiLCJhY2NlcHRlZEZpbGVzIiwiZGljdERlZmF1bHRNZXNzYWdlIiwiYWRkUmVtb3ZlTGlua3MiLCJpbml0Iiwib24iLCJ3aWR0aCIsIlRZUEVTIiwiaGVpZ2h0IiwicmVqZWN0RGltZW5zaW9ucyIsImFjY2VwdERpbWVuc2lvbnMiLCJhY2NlcHQiLCJkb25lIiwiZXZlbnRIYW5kbGVycyIsInhociIsImZvcm1EYXRhIiwiYXBwZW5kIiwiY3JlYXRlTXVsdGlwbGUiLCJtb2JpbGUiLCJkZXNrdG9wIiwibG9jYWxTdG9yYWdlIiwiZGVmYXVsdFZhbHVlIiwiSlNPTiIsInN0cmluZ2lmeSIsInBhcnNlIiwidW5kZWZpbmVkIiwicmVtb3ZlSXRlbSIsImRyb3B6b25lIiwiYXR0cnMiLCJ6b25lIiwicmVtb3ZlRmlsZSIsImZvckVhY2giLCJoYW5kbGVyIiwiZm9vdGVyRGlyZWN0aXZlIiwiZm9vdGVyQ29udHJvbGxlciIsImhlYWRlckRpcmVjdGl2ZSIsImhlYWRlckNvbnRyb2xsZXIiXSwibWFwcGluZ3MiOiJDQVNBLFdBQ0EsWUFFQUEsU0FDQUMs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Y0FBQSxTQUFBbUIsRUFBQTVTLEdBQ0F5UyxFQUFBeEIsR0FBQWpSLEVBQUE0UyxLQXZCQSxHQUFBblIsSUFDQVUsS0FBQUEsRUFDQUosU0FBQSxLQUNBSixPQUNBNFEsU0FBQSxZQUNBeEQsTUFBQSxVQUdBLE9BQUF0TixHQWZBdEUsUUFDQUMsT0FBQSxrQkFDQXFFLFVBQUEsV0FBQThRLEdBRUFBLEVBQUEvUyxTQUFBLGVDUEEsV0FDQSxZQU9BLFNBQUFxVCxLQUNBLEdBQUFwUixJQUNBTSxTQUFBLEtBQ0FaLFlBQUEsa0NBQ0FGLFdBQUE2UixFQUNBNVIsYUFBQSxLQUNBa0Isa0JBQUEsRUFHQSxPQUFBWCxHQU1BLFFBQUFxUixLQUtBLFFBQUF6USxLQUNBTSxRQUFBQyxJQUFBLG9CQUhBUCxJQXZCQWxGLFFBQ0FDLE9BQUEsa0JBQ0FxRSxVQUFBLGtCQUFBb1IsR0FlQUMsRUFBQXRULGNDcEJBLFdBQ0EsWUFPQSxTQUFBdVQsS0FDQSxHQUFBdFIsSUFDQU0sU0FBQSxLQUNBWixZQUFBLGtDQUNBRixXQUFBK1IsRUFDQTlSLGFBQUEsS0FDQWtCLGtCQUFBLEVBQ0FULFNBR0EsT0FBQUYsR0FNQSxRQUFBdVIsR0FBQXBULEdBQ0EsR0FBQW9FLEdBQUFFLElBSUFGLEdBQUFrTCxPQUFBLFdBQ0F2TSxRQUFBQyxJQUFBLFVBQ0FoRCxFQUFBc1AsVUE1QkEvUixRQUNBQyxPQUFBLGtCQUNBcUUsVUFBQSxrQkFBQXNSLEdBZ0JBQyxFQUFBeFQsU0FBQSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBuZ2RvYyBvdmVydmlld1xuICogQG5hbWUgQW55RGF5QnVkZHlBZHNcbiAqIEByZXF1aXJlcyB1aS5yb3V0ZXJcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIEFuZ3VsYXJKUyBiYXNpYyBhcHAgdGVtcGxhdGVcbiAqXG4gKi9cbihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycsIFtcbiAgICAgICd1aS5yb3V0ZXInLFxuICAgICAgJ25nTWF0ZXJpYWwnLFxuICAgICAgJ3VpR21hcGdvb2dsZS1tYXBzJyxcbiAgICBdKTtcblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgLmNvbnN0YW50KCdfJywgd2luZG93Ll8pXG4gICAgLmNvbnN0YW50KCdqUXVlcnknLCB3aW5kb3cualF1ZXJ5KVxuICAgIC5jb25zdGFudCgnRHJvcHpvbmUnLCB3aW5kb3cuRHJvcHpvbmUpXG4gICAgLmNvbnN0YW50KCdicmFpbnRyZWUnLCB3aW5kb3cuYnJhaW50cmVlKVxuICAgIC5jb25zdGFudCgnYmFzZUFwaScsICdodHRwczovL2FwaS5hbnlkYXlidWRkeS5jb20nKTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuY29uZmlnKGNvbmZpZylcbiAgICAuY29uZmlnKG1hcHNQcm92aWRlcik7XG5cbiAgbWFwc1Byb3ZpZGVyLiRpbmplY3QgPSBbJ3VpR21hcEdvb2dsZU1hcEFwaVByb3ZpZGVyJ107XG5cbiAgZnVuY3Rpb24gbWFwc1Byb3ZpZGVyKHVpR21hcEdvb2dsZU1hcEFwaVByb3ZpZGVyKSB7XG4gICAgdWlHbWFwR29vZ2xlTWFwQXBpUHJvdmlkZXIuY29uZmlndXJlKHtcbiAgICAgIGtleTogJ0FJemFTeUFvbkZ1Q0RiN0hqWFV6MHVvY0tiRUdVSno5MUlMOUVWcycsIC8vYWRiLXNpdGUtMCBrZXlcbiAgICAgIC8vIGtleTogJ0FJemFTeUFsVzZodW43VndwRlB2MGZ4X0tPVWg1MmwwOEJScGpZTScsXG4gICAgICBsaWJyYXJpZXM6ICdwbGFjZXMnXG4gICAgfSk7XG4gIH1cblxuICBjb25maWcuJGluamVjdCA9IFsnJG1kVGhlbWluZ1Byb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJ107XG5cbiAgZnVuY3Rpb24gY29uZmlnKCRtZFRoZW1pbmdQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIpIHtcblxuICAgICRtZFRoZW1pbmdQcm92aWRlci5kZWZpbmVQYWxldHRlKCdwcmltYXJ5Jywge1xuICAgICAgJzUwJzogJyM5ZGNlZGEnLFxuICAgICAgJzEwMCc6ICcjNjViMmM1JyxcbiAgICAgICcyMDAnOiAnIzQyOWFiMCcsXG4gICAgICAnMzAwJzogJyMyZjZkN2MnLFxuICAgICAgJzQwMCc6ICcjMjY1OTY2JyxcbiAgICAgICc1MDAnOiAnIzFlNDY1MCcsXG4gICAgICAnNjAwJzogJyMxNjMyM2EnLFxuICAgICAgJzcwMCc6ICcjMGQxZjIzJyxcbiAgICAgICc4MDAnOiAnIzA1MGMwZCcsXG4gICAgICAnOTAwJzogJyMwMDAwMDAnLFxuICAgICAgJ0ExMDAnOiAnIzlkY2VkYScsXG4gICAgICAnQTIwMCc6ICcjNjViMmM1JyxcbiAgICAgICdBNDAwJzogJyMyNjU5NjYnLFxuICAgICAgJ0E3MDAnOiAnIzBkMWYyMycsXG4gICAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnbGlnaHQnLFxuICAgICAgJ2NvbnRyYXN0RGFya0NvbG9ycyc6ICc1MCAxMDAgMjAwIEExMDAgQTIwMCdcbiAgICB9KTtcbiAgICAkbWRUaGVtaW5nUHJvdmlkZXIuZGVmaW5lUGFsZXR0ZSgnYWNjZW50Jywge1xuICAgICAgJzUwJzogJyNkMGViZWQnLFxuICAgICAgJzEwMCc6ICcjOTlkNGQ4JyxcbiAgICAgICcyMDAnOiAnIzcwYzNjOCcsXG4gICAgICAnMzAwJzogJyM0M2E3YWUnLFxuICAgICAgJzQwMCc6ICcjM2E5Mjk4JyxcbiAgICAgICc1MDAnOiAnIzMyN2Q4MicsXG4gICAgICAnNjAwJzogJyMyOTY4NmMnLFxuICAgICAgJzcwMCc6ICcjMjE1MjU2JyxcbiAgICAgICc4MDAnOiAnIzE4M2Q0MCcsXG4gICAgICAnOTAwJzogJyMxMDI4MmEnLFxuICAgICAgJ0ExMDAnOiAnI2QwZWJlZCcsXG4gICAgICAnQTIwMCc6ICcjOTlkNGQ4JyxcbiAgICAgICdBNDAwJzogJyMzYTkyOTgnLFxuICAgICAgJ0E3MDAnOiAnIzIxNTI1NicsXG4gICAgICAnY29udHJhc3REZWZhdWx0Q29sb3InOiAnbGlnaHQnLFxuICAgICAgJ2NvbnRyYXN0RGFya0NvbG9ycyc6ICc1MCAxMDAgMjAwIDMwMCBBMTAwIEEyMDAnXG4gICAgfSk7XG4gICAgJG1kVGhlbWluZ1Byb3ZpZGVyLmRlZmluZVBhbGV0dGUoJ3dhcm4nLCB7XG4gICAgICAnNTAnOiAnI2ZhZWVlNicsXG4gICAgICAnMTAwJzogJyNlY2MzYTcnLFxuICAgICAgJzIwMCc6ICcjZTJhMzc5JyxcbiAgICAgICczMDAnOiAnI2Q1N2IzZScsXG4gICAgICAnNDAwJzogJyNjOTZiMmInLFxuICAgICAgJzUwMCc6ICcjYjA1ZTI2JyxcbiAgICAgICc2MDAnOiAnIzk3NTEyMScsXG4gICAgICAnNzAwJzogJyM3ZTQzMWInLFxuICAgICAgJzgwMCc6ICcjNjQzNjE2JyxcbiAgICAgICc5MDAnOiAnIzRiMjgxMCcsXG4gICAgICAnQTEwMCc6ICcjZmFlZWU2JyxcbiAgICAgICdBMjAwJzogJyNlY2MzYTcnLFxuICAgICAgJ0E0MDAnOiAnI2M5NmIyYicsXG4gICAgICAnQTcwMCc6ICcjN2U0MzFiJyxcbiAgICAgICdjb250cmFzdERlZmF1bHRDb2xvcic6ICdsaWdodCcsXG4gICAgICAnY29udHJhc3REYXJrQ29sb3JzJzogJzUwIDEwMCAyMDAgMzAwIEExMDAgQTIwMCdcbiAgICB9KTtcbiAgICAkbWRUaGVtaW5nUHJvdmlkZXIudGhlbWUoJ2RlZmF1bHQnKVxuICAgICAgLnByaW1hcnlQYWxldHRlKCdwcmltYXJ5JylcbiAgICAgIC5hY2NlbnRQYWxldHRlKCdhY2NlbnQnKVxuICAgICAgLndhcm5QYWxldHRlKCd3YXJuJyk7XG4gIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgIC5ydW4ocnVuUHJvdmlkZXIpO1xuXG4gIHJ1blByb3ZpZGVyLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnJHN0YXRlJywgJ0F1dGgnXTtcblxuICBmdW5jdGlvbiBydW5Qcm92aWRlcigkcm9vdFNjb3BlLCAkc3RhdGUsIEF1dGgpIHtcbiAgICAkcm9vdFNjb3BlLiRzdGF0ZSA9ICRzdGF0ZTtcbiAgICAkcm9vdFNjb3BlLnVzZXIgPSBBdXRoLmdldFVzZXIoKTtcblxuICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uKGV2ZW50LCB0b1N0YXRlKSB7XG4gICAgICAkcm9vdFNjb3BlLmZpbGwgPSBbJ2xvZ2luJywgJ2Rhc2hib2FyZCcsICdkYXNoYm9hcmQuY2FtcGFpZ25zJ10uaW5kZXhPZih0b1N0YXRlLm5hbWUpICE9PSAtMTtcblxuICAgICAgLyoqXG4gICAgICAgKiBpZiB0aGUgc3RhdGUgcmVxdWlyZXMgYXV0aGVudGljYXRpb24gYW5kIHRoZVxuICAgICAgICogdXNlciBpcyBub3QgbG9nZ2VkIGluLCByZWRpcmVjdCB0byB0aGUgbG9naW4gcGFnZS5cbiAgICAgICAqL1xuICAgICAgaWYgKHRvU3RhdGUuYXV0aGVudGljYXRlICYmICFBdXRoLmlzQXV0aGVudGljYXRlZCgpKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICRzdGF0ZS50cmFuc2l0aW9uVG8oJ2xvZ2luJyk7XG4gICAgICB9XG5cbiAgICB9KTtcbiAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgLmNvbmZpZyhyb3V0ZXJQcm92aWRlcik7XG5cbiAgcm91dGVyUHJvdmlkZXIuJGluamVjdCA9IFsnJHN0YXRlUHJvdmlkZXInLCAnJHVybFJvdXRlclByb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJ107XG5cbiAgZnVuY3Rpb24gcm91dGVyUHJvdmlkZXIoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIpIHtcbiAgICAvLyAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUoe1xuICAgIC8vICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAvLyAgIHJlcXVpcmVCYXNlOiBmYWxzZVxuICAgIC8vIH0pO1xuICAgIC8vXG4gICAgJHN0YXRlUHJvdmlkZXJcbiAgICAgIC5zdGF0ZSgnaG9tZScsIHtcbiAgICAgICAgdXJsOiAnLycsXG4gICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgJ21haW4nOiB7XG4gICAgICAgICAgICBjb250cm9sbGVyOiAnSG9tZUNvbnRyb2xsZXInLFxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhc3NldHMvdmlld3MvaG9tZS5odG1sJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXV0aGVudGljYXRlOiBmYWxzZVxuICAgICAgfSlcbiAgICAgIC5zdGF0ZSgnZGFzaGJvYXJkJywge1xuICAgICAgICB1cmw6ICcvZGFzaGJvYXJkJyxcbiAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAnbWFpbic6IHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdEYXNoYm9hcmRDb250cm9sbGVyJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXNzZXRzL3ZpZXdzL2Rhc2hib2FyZC9pbmRleC5odG1sJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlXG4gICAgICB9KVxuICAgICAgLnN0YXRlKCdkYXNoYm9hcmQuY2FtcGFpZ25zJywge1xuICAgICAgICB1cmw6ICcvY2FtcGFpZ25zJyxcbiAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAnZGFzaGJvYXJkJzoge1xuICAgICAgICAgICAgY29udHJvbGxlcjogJ0Rhc2hib2FyZENvbnRyb2xsZXInLFxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhc3NldHMvdmlld3MvZGFzaGJvYXJkL2NhbXBhaWducy5odG1sJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlXG4gICAgICB9KVxuICAgICAgLnN0YXRlKCdvcmRlcnMnLCB7XG4gICAgICAgIHVybDogJy9vcmRlcnMnLFxuICAgICAgICB2aWV3czoge1xuICAgICAgICAgICdtYWluJzoge1xuICAgICAgICAgICAgY29udHJvbGxlcjogJ09yZGVyc0NvbnRyb2xsZXInLFxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhc3NldHMvdmlld3Mvb3JkZXJzLmh0bWwnXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhdXRoZW50aWNhdGU6IGZhbHNlXG4gICAgICB9KVxuICAgICAgLnN0YXRlKCdsb2dpbicsIHtcbiAgICAgICAgdXJsOiAnL2xvZ2luJyxcbiAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAnbWFpbic6IHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdMb2dpbkNvbnRyb2xsZXInLFxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhc3NldHMvdmlld3MvbG9naW4uaHRtbCdcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGF1dGhlbnRpY2F0ZTogZmFsc2VcbiAgICAgIH0pO1xuXG4gICAgJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnLycpO1xuICB9XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgIC5jb250cm9sbGVyKCdEYXNoYm9hcmRDb250cm9sbGVyJywgQ29udHJvbGxlcik7XG5cbiAgZnVuY3Rpb24gQ29udHJvbGxlcigkaHR0cCwgJHEpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgLy8vLy8vLy8vLy8vLy8vL1xuXG4gIH1cbiAgXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuZGlyZWN0aXZlKCdhZGJPcmRlcnNDYW1wYWlnbicsIGRpcmVjdGl2ZSk7XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIGRpcmVjdGl2ZSgpIHtcbiAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICB0ZW1wbGF0ZVVybDogJ2Fzc2V0cy92aWV3cy9vcmRlcnMvb3JkZXJzLmNhbXBhaWduLmh0bWwnLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgb3B0aW9uczogJz0nLFxuICAgICAgICBmb3JtOiAnPScsXG4gICAgICAgIHRvdGFsOiAnPSdcbiAgICAgIH0sXG4gICAgICBsaW5rOiBsaW5rRnVuYyxcbiAgICAgIGNvbnRyb2xsZXI6IENvbnRyb2xsZXIsXG4gICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXG4gICAgfTtcblxuICAgIHJldHVybiBkaXJlY3RpdmU7XG5cbiAgICBmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcblxuICAgIH1cbiAgfVxuXG4gIENvbnRyb2xsZXIuJGluamVjdCA9IFsnJGh0dHAnLCAnJHEnXTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gQ29udHJvbGxlcigkaHR0cCwgJHEpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgYWN0aXZhdGUoKTtcblxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge1xuXG4gICAgfVxuICAgIFxuICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuZGlyZWN0aXZlKCdhZGJPcmRlcnNDaGVja291dCcsIGRpcmVjdGl2ZSk7XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIGRpcmVjdGl2ZSgpIHtcbiAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICB0ZW1wbGF0ZVVybDogJ2Fzc2V0cy92aWV3cy9vcmRlcnMvb3JkZXJzLmNoZWNrb3V0Lmh0bWwnLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgb3B0aW9uczogJz0nLFxuICAgICAgICBmb3JtOiAnPScsXG4gICAgICAgIHRvdGFsOiAnPSdcbiAgICAgIH0sXG4gICAgICBsaW5rOiBsaW5rRnVuYyxcbiAgICAgIGNvbnRyb2xsZXI6IENvbnRyb2xsZXIsXG4gICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlXG4gICAgfTtcblxuICAgIHJldHVybiBkaXJlY3RpdmU7XG5cbiAgICBmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcblxuICAgIH1cbiAgfVxuXG4gIENvbnRyb2xsZXIuJGluamVjdCA9IFsnXycsICdicmFpbnRyZWUnLCAnJHNjb3BlJywnJGh0dHAnLCAnJHEnLCAnRGF0YVNlcnZpY2UnXTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gQ29udHJvbGxlcihfLCBicmFpbnRyZWUsICRzY29wZSwgJGh0dHAsICRxLCBEYXRhU2VydmljZSkge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgdm0uY2hlY2tvdXQgPSB7fTtcblxuICAgIGFjdGl2YXRlKCk7XG5cbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcbiAgICAgIERhdGFTZXJ2aWNlLmdldENsaWVudFRva2VuKCkudGhlbihmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzKTtcbiAgICAgICAgc2V0dXBHYXRld2F5KHJlcy5jbGllbnRUb2tlbik7XG4gICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0dXBHYXRld2F5KHRva2VuKSB7XG4gICAgICBicmFpbnRyZWUuc2V0dXAodG9rZW4sICdjdXN0b20nLCB7XG4gICAgICAgIHBheXBhbDoge1xuICAgICAgICAgIGNvbnRhaW5lcjogJ3BheXBhbC1jb250YWluZXInLFxuICAgICAgICAgIHNpbmdsZVVzZTogdHJ1ZSxcbiAgICAgICAgICBhbW91bnQ6ICcwJyxcbiAgICAgICAgICBjdXJyZW5jeTogJ1VTRCcsXG4gICAgICAgICAgbG9jYWxlOiAnZW5fdXMnLFxuICAgICAgICAgIGVuYWJsZVNoaXBwaW5nQWRkcmVzczogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgb25QYXltZW50TWV0aG9kUmVjZWl2ZWQ6IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgIGRvU29tZXRoaW5nV2l0aFRoZU5vbmNlKG9iai5ub25jZSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uUmVhZHk6IGZ1bmN0aW9uKGludGVncmF0aW9uKSB7XG4gICAgICAgICAgdm0uY2hlY2tvdXQgPSBpbnRlZ3JhdGlvbjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdm0ubGF1bmNoID0gZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZyh2bS5jaGVja291dCwgdm0uZm9ybSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZG9Tb21ldGhpbmdXaXRoVGhlTm9uY2UocmVzKSB7XG4gICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgIH1cblxuXG5cbiAgICAvLyAvLyBXaGVuIHlvdSBhcmUgcmVhZHkgdG8gdGVhciBkb3duIHlvdXIgaW50ZWdyYXRpb25cbiAgICAvLyBjaGVja291dC50ZWFyZG93bihmdW5jdGlvbigpIHtcbiAgICAvLyAgIGNoZWNrb3V0ID0gbnVsbDtcbiAgICAvLyAgIC8vIGJyYWludHJlZS5zZXR1cCBjYW4gc2FmZWx5IGJlIHJ1biBhZ2FpbiFcbiAgICAvLyB9KTtcblxuICAgICRzY29wZS4kd2F0Y2goJ3ZtLmNoZWNrb3V0JywgZnVuY3Rpb24oYywgbykge1xuICAgICAgaWYgKCFjKSByZXR1cm47XG5cbiAgICAgIGNvbnNvbGUubG9nKGMpO1xuICAgIH0pO1xuICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuZGlyZWN0aXZlKCdhZGJPcmRlcnNDdXN0b21lcicsIGRpcmVjdGl2ZSk7XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIGRpcmVjdGl2ZSgpIHtcbiAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICB0ZW1wbGF0ZVVybDogJ2Fzc2V0cy92aWV3cy9vcmRlcnMvb3JkZXJzLmN1c3RvbWVyLmh0bWwnLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgb3B0aW9uczogJz0nLFxuICAgICAgICBmb3JtOiAnPScsXG4gICAgICAgIHRvdGFsOiAnPScsXG4gICAgICAgIGNvbnRyb2w6ICc9J1xuICAgICAgfSxcbiAgICAgIGxpbms6IGxpbmtGdW5jLFxuICAgICAgY29udHJvbGxlcjogQ29udHJvbGxlcixcbiAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcbiAgICB9O1xuXG4gICAgcmV0dXJuIGRpcmVjdGl2ZTtcblxuICAgIGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuXG4gICAgfVxuICB9XG5cbiAgQ29udHJvbGxlci4kaW5qZWN0ID0gWyckaHR0cCcsICckcSddO1xuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiBDb250cm9sbGVyKCRodHRwLCAkcSkge1xuICAgIHZhciB2bSA9IHRoaXM7XG5cbiAgICBhY3RpdmF0ZSgpO1xuXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG5cbiAgICB9XG5cbiAgICB2bS5uZXh0VGFiID0gZnVuY3Rpb24oKSB7XG4gICAgICB2bS5jb250cm9sLnNlbGVjdGVkVGFiICs9IDE7XG4gICAgfVxuICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuY29udHJvbGxlcignT3JkZXJzQ29udHJvbGxlcicsIENvbnRyb2xsZXIpO1xuXG4gIENvbnRyb2xsZXIuJGluamVjdCA9IFsnXycsICckc2NvcGUnLCAnJG1kRGlhbG9nJywgJ0RhdGFTZXJ2aWNlJ107XG5cbiAgZnVuY3Rpb24gQ29udHJvbGxlcihfLCAkc2NvcGUsICRtZERpYWxvZywgRGF0YVNlcnZpY2UpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgdm0ub3BlbkltYWdlID0gb3BlbkltYWdlO1xuICAgIHZtLmFkZCA9IGFkZDtcbiAgICB2bS50b3RhbCA9IDA7XG5cbiAgICB2bS5jb250cm9sID0ge1xuICAgICAgc2VsZWN0ZWRUYWI6IDBcbiAgICB9XG5cbiAgICB2bS5vcHRpb25zID0ge1xuICAgICAgdGFyZ2V0OiB7XG4gICAgICAgIGRpc3BsYXk6IFtdLFxuICAgICAgICBtZWRpYTogW10sXG4gICAgICAgIGltcHJlc3Npb25zVW5pdHM6IFtdLFxuICAgICAgICBpbXByZXNzaW9uc1RpbWU6IFtdLFxuICAgICAgICBkaXN0YW5jZTogW10sXG4gICAgICAgIGFnZTogW10sXG4gICAgICAgIGdlbmRlcjogW11cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdm0uZm9ybSA9IHtcbiAgICAgIG1lZGlhOiB7fSxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgZGlzcGxheToge30sXG4gICAgICAgIGltcHJlc3Npb25zOiB7fSxcbiAgICAgICAgZGlzdGFuY2U6IHt9LFxuICAgICAgICBhZ2U6IHt9LFxuICAgICAgICBnZW5kZXI6IHt9LFxuICAgICAgICBpbnRlcmVzdHM6IHt9XG4gICAgICB9LFxuICAgICAgY3VzdG9tZXI6IHt9LFxuICAgICAgYXV0aDoge31cbiAgICB9XG5cbiAgICBhY3RpdmF0ZSgpO1xuXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICBEYXRhU2VydmljZS5nZXRPcHRpb25zKCkudGhlbihmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3ApO1xuICAgICAgICB2bS5vcHRpb25zLnRhcmdldCA9IGRvX21lcmdlKHJlc3ApO1xuICAgICAgICBjb25zb2xlLmxvZyh2bS5mb3JtKTtcbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSlcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGRvX21lcmdlKHJvbGVzKSB7XG5cbiAgICAgIC8vIEN1c3RvbSBtZXJnZSBmdW5jdGlvbiBPUnMgdG9nZXRoZXIgbm9uLW9iamVjdCB2YWx1ZXMsIHJlY3Vyc2l2ZWx5XG4gICAgICAvLyBjYWxscyBpdHNlbGYgb24gT2JqZWN0cy5cbiAgICAgIHZhciBtZXJnZXIgPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgIGlmIChfLmlzT2JqZWN0KGEpKSB7XG4gICAgICAgICAgcmV0dXJuIF8ubWVyZ2Uoe30sIGEsIGIsIG1lcmdlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGEgfHwgYjtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLy8gQWxsb3cgcm9sZXMgdG8gYmUgcGFzc2VkIHRvIF8ubWVyZ2UgYXMgYW4gYXJyYXkgb2YgYXJiaXRyYXJ5IGxlbmd0aFxuICAgICAgdmFyIGFyZ3MgPSBfLmZsYXR0ZW4oW3t9LCByb2xlcywgbWVyZ2VyXSk7XG4gICAgICByZXR1cm4gXy5tZXJnZS5hcHBseShfLCBhcmdzKTtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIG9wZW5JbWFnZSgkZXZlbnQsIGltYWdlKSB7XG4gICAgICAkbWREaWFsb2cuc2hvdyh7XG4gICAgICAgIGZ1bGxzY3JlZW46IHRydWUsXG4gICAgICAgIHRhcmdldEV2ZW50OiAkZXZlbnQsXG4gICAgICAgIGNsaWNrT3V0c2lkZVRvQ2xvc2U6IHRydWUsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL3NoYXJlZC9sYXlvdXQvaW1hZ2VNb2RhbC5odG1sJyxcbiAgICAgICAgbG9jYWxzOiB7XG4gICAgICAgICAgaW1hZ2U6IGltYWdlXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJ2ltYWdlJywgZnVuY3Rpb24oc2NvcGUsIGltYWdlKSB7XG4gICAgICAgICAgc2NvcGUuaW1hZ2UgPSBpbWFnZTtcbiAgICAgICAgfV1cbiAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gYWRkKCkge1xuICAgICAgJG1kRGlhbG9nLnNob3coe1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ2FwcC9jb21wb25lbnRzL2FkL2FkdmVydGlzZW1lbnRNb2RhbC5odG1sJyxcbiAgICAgICAgY2xpY2tPdXRzaWRlVG9DbG9zZTogdHJ1ZSxcbiAgICAgICAgZnVsbHNjcmVlbjogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgJHNjb3BlLiR3YXRjaCgndm0uZm9ybScsIGZ1bmN0aW9uKGMsIG8pIHtcbiAgICAgIGNvbnNvbGUubG9nKGMpO1xuXG4gICAgICB2bS50b3RhbCA9IGMubWVkaWEuaGFzT3duUHJvcGVydHkoJ2ZlZScpP2MubWVkaWEuZmVlOjA7XG5cbiAgICAgIF8ubWFwKGMub3B0aW9ucywgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICBpZiAoaXRlbS5oYXNPd25Qcm9wZXJ0eSgnZmVlJykpe1xuICAgICAgICAgICAgdm0udG90YWwgKz0gIHZtLnRvdGFsICogaXRlbS5mZWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXRlbS5oYXNPd25Qcm9wZXJ0eSgnZGlzY291bnQnKSl7XG4gICAgICAgICAgICB2bS50b3RhbCAtPSB2bS50b3RhbCAqIGl0ZW0uZGlzY291bnQ7XG4gICAgICAgIH1cblxuICAgICAgfSlcbiAgICB9LCB0cnVlKVxuXG4gIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgIC5kaXJlY3RpdmUoJ2FkYk9yZGVyc1Jlc3VtZScsIGRpcmVjdGl2ZSk7XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIGRpcmVjdGl2ZSgpIHtcbiAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICB0ZW1wbGF0ZVVybDogJ2Fzc2V0cy92aWV3cy9vcmRlcnMvb3JkZXJzLnJlc3VtZS5odG1sJyxcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIG9wdGlvbnM6ICc9JyxcbiAgICAgICAgZm9ybTogJz0nLFxuICAgICAgICB0b3RhbDogJz0nLFxuICAgICAgfSxcbiAgICAgIGxpbms6IGxpbmtGdW5jLFxuICAgICAgY29udHJvbGxlcjogQ29udHJvbGxlcixcbiAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcbiAgICB9O1xuXG4gICAgcmV0dXJuIGRpcmVjdGl2ZTtcblxuICAgIGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuXG4gICAgfVxuICB9XG5cbiAgQ29udHJvbGxlci4kaW5qZWN0ID0gWydfJywgJyRodHRwJywgJyRxJ107XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIENvbnRyb2xsZXIoXywgJGh0dHAsICRxKSB7XG4gICAgdmFyIHZtID0gdGhpcztcblxuICAgIGFjdGl2YXRlKCk7XG5cbiAgICBmdW5jdGlvbiBhY3RpdmF0ZSgpIHtcblxuICAgIH1cblxuICAgIHZtLmZvcm1hdEltcHJlc3Npb25zID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgIGlmICghdm0uZm9ybS5pbXByZXNzaW9uVHlwZSB8fCAhdm0uZm9ybS5vcHRpb25zLmltcHJlc3Npb25zLmhhc093blByb3BlcnR5KCdpZCcpKSByZXR1cm47XG5cbiAgICAgIHZhciB0eXBlcyA9IHtcbiAgICAgICAgaW1wcmVzc2lvbnNVbml0czogXy5qb2luKFt2bS5mb3JtLm9wdGlvbnMuaW1wcmVzc2lvbnMucXVhbnRpdHksIHZtLmZvcm0ub3B0aW9ucy5pbXByZXNzaW9ucy50eXBlXSwgXCIgXCIpLFxuICAgICAgICBpbXByZXNzaW9uc1RpbWU6IF8uam9pbihbdm0uZm9ybS5vcHRpb25zLmltcHJlc3Npb25zLnRpbWUsIHZtLmZvcm0ub3B0aW9ucy5pbXByZXNzaW9ucy5wZXJpb2RdLCBcIiBcIiksXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0eXBlc1t2bS5mb3JtLmltcHJlc3Npb25UeXBlXTtcbiAgICB9XG5cbiAgICB2bS5mb3JtYXRUYXJnZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB0YXJnZXQgPSB7XG4gICAgICAgIGRpc3RhbmNlOiAge1xuICAgICAgICAgIHZhbHVlOiB2bS5mb3JtLm9wdGlvbnMuZGlzdGFuY2UsXG4gICAgICAgICAgcmVuZGVyOiBfLmpvaW4oWydEaXN0YW5jZTonLCAodm0uZm9ybS5vcHRpb25zLmRpc3RhbmNlLmRpc3RhbmNlIHx8ICcnKSwgJ0ttJ10sICcgJylcbiAgICAgICAgfSxcbiAgICAgICAgYWdlOiB7XG4gICAgICAgICAgdmFsdWU6IHZtLmZvcm0ub3B0aW9ucy5hZ2UsXG4gICAgICAgICAgcmVuZGVyOiBfLmpvaW4oWydBZ2UgYmV0d2VlbjonLCBfLmpvaW4odm0uZm9ybS5vcHRpb25zLmFnZS5yYW5nZSwgJy0nKSBdLCAnICcpXG4gICAgICAgIH0sXG4gICAgICAgIGdlbmRlcjogIHtcbiAgICAgICAgICB2YWx1ZTogdm0uZm9ybS5vcHRpb25zLmdlbmRlcixcbiAgICAgICAgICByZW5kZXI6IF8uam9pbihbJ0dlbmRlcjonLCB2bS5mb3JtLm9wdGlvbnMuZ2VuZGVyLmdlbmRlciBdLCAnICcpXG4gICAgICAgIH0sXG4gICAgICAgIGludGVyZXN0czoge1xuICAgICAgICAgIHZhbHVlOiB2bS5mb3JtLm9wdGlvbnMuaW50ZXJlc3RzLFxuICAgICAgICAgIHJlbmRlcjogXy5qb2luKFsnSW50ZXJlc3RzOicsIHZtLmZvcm0ub3B0aW9ucy5pbnRlcmVzdHMucXVhbnRpdHkgXSwgJyAnKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBzZWxlY3RlZCA9IF8ucGlja0J5KHRhcmdldCwgZnVuY3Rpb24oaSkge1xuICAgICAgICByZXR1cm4gaS52YWx1ZS5oYXNPd25Qcm9wZXJ0eSgnaWQnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoXy5pc0VtcHR5KHNlbGVjdGVkKSkgcmV0dXJuICcnO1xuXG4gICAgICByZXR1cm4gXy5qb2luKFsnVGFyZ2V0OiAnLCBfLm1hcChPYmplY3Qua2V5cyhzZWxlY3RlZCksIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0W2tleV0ucmVuZGVyO1xuICAgICAgfSldLCAnJyk7XG5cbiAgICB9XG5cblxuICAgIHZtLmZvcm1hdFJlc3VtZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHJlc3VtZTtcbiAgICB9XG4gIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgIC5kaXJlY3RpdmUoJ2FkYkRpc3BsYXlDaG9vc2VyJywgZGlyZWN0aXZlKTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gZGlyZWN0aXZlKCkge1xuICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgIHRlbXBsYXRlVXJsOiAnYXNzZXRzL3ZpZXdzL29yZGVycy9vcmRlcnMuZGlzcGxheS5odG1sJyxcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIG9wdGlvbnM6ICc9JyxcbiAgICAgICAgZm9ybTogJz0nLFxuICAgICAgICB0b3RhbDogJz0nXG4gICAgICB9LFxuICAgICAgbGluazogbGlua0Z1bmMsXG4gICAgICBjb250cm9sbGVyOiBDb250cm9sbGVyLFxuICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuICAgIH07XG5cbiAgICByZXR1cm4gZGlyZWN0aXZlO1xuXG4gICAgZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG5cbiAgICB9XG4gIH1cblxuICBDb250cm9sbGVyLiRpbmplY3QgPSBbJ3VpR21hcEdvb2dsZU1hcEFwaScsICd1aUdtYXBJc1JlYWR5JywgJyRxJywgJyRzY29wZScsICckdGltZW91dCcsICdEcm9wem9uZVNlcnZpY2UnXTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gQ29udHJvbGxlcih1aUdtYXBHb29nbGVNYXBBcGksIHVpR21hcElzUmVhZHksICRxLCAkc2NvcGUsICR0aW1lb3V0LCBEcm9wem9uZVNlcnZpY2UpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuICAgIHZhciBQbGFjZXMgPSBudWxsO1xuICAgIHZhciBEaXJlY3Rpb25SZW5kZXJlciA9IG51bGw7XG4gICAgdmFyIERpcmVjdGlvbnNTZXJ2aWNlID0gbnVsbDtcbiAgICB2YXIgUGxhY2VzQXV0b2NvbXBsZXRlID0gbnVsbDtcblxuICAgIHZtLmNvbnRyb2wgPSB7XG4gICAgICB1cGxvYWRpbmc6IGZhbHNlXG4gICAgfVxuICAgIHZtLm1hcCA9IHtcbiAgICAgIGNlbnRlcjoge1xuICAgICAgICBsYXRpdHVkZTogNDUuNTAxNzQ1MDI4MTY2NjcsXG4gICAgICAgIGxvbmdpdHVkZTogLTczLjU3MDM4ODE4Mjk5NzdcbiAgICAgIH0sXG4gICAgICB6b29tOiAxNCxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgc2Nyb2xsd2hlZWw6IHRydWVcbiAgICAgIH0sXG4gICAgICBtYXBNYXJrZXI6IHRydWUsXG4gICAgICBkaXNhYmxlRGVmYXVsdFVJOiB0cnVlLFxuICAgICAgY29udHJvbDoge30sXG4gICAgICBldmVudHM6IHtcbiAgICAgICAgY2xpY2s6IGNsaWNrTWFwLFxuICAgICAgICBpZGxlOiBib3VuZHNDaGFuZ2VkXG4gICAgICB9XG4gICAgfTtcblxuICAgIHZtLmluZm8gPSB7XG4gICAgICBuYW1lOiAnVmVudWUgbmFtZScsXG4gICAgICBhZGRyZXNzOiAnJyxcbiAgICAgIGljb246ICcnLFxuICAgIH1cblxuICAgIHZtLm1hcmtlciA9IHtcbiAgICAgIGlkOiAwLFxuICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgbGF0aXR1ZGU6IDQ1LjUwMTc0NTAyODE2NjY3LFxuICAgICAgICBsb25naXR1ZGU6IC03My41NzAzODgxODI5OTc3XG4gICAgICB9LFxuICAgICAgc2hvdzogZmFsc2UsXG4gICAgfVxuXG4gICAgdm0uZGVza3RvcERyb3B6b25lID0gRHJvcHpvbmVTZXJ2aWNlLmNyZWF0ZSgnZGVza3RvcCcsIGZ1bmN0aW9uKGZpbGUsIHJlc3BvbnNlKSB7XG4gICAgICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5zZWN1cmVfdXJsKTtcbiAgICAgICAgdm0uY29udHJvbC51cGxvYWRpbmcgPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgdm0uY29udHJvbC51cGxvYWRpbmcgPSB0cnVlO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB2bS5tb2JpbGVEcm9wem9uZSA9IERyb3B6b25lU2VydmljZS5jcmVhdGUoJ21vYmlsZScsIGZ1bmN0aW9uKGZpbGUsIHJlc3BvbnNlKSB7XG4gICAgICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5zZWN1cmVfdXJsKTtcbiAgICAgICAgdm0uY29udHJvbC51cGxvYWRpbmcgPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgdm0uY29udHJvbC51cGxvYWRpbmcgPSB0cnVlO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBhY3RpdmF0ZSgpO1xuXG4gICAgLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG5cbiAgICAgICRxLmFsbChbdWlHbWFwR29vZ2xlTWFwQXBpLCB1aUdtYXBJc1JlYWR5LnByb21pc2UoMSldKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBtYXAgPSByZXNwb25zZVswXTtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gcmVzcG9uc2VbMV1bMF0ubWFwO1xuXG4gICAgICAgIHZtLndpbmRvdyA9IHtcbiAgICAgICAgICBwaXhlbE9mZnNldDogbmV3IG1hcC5TaXplKDAsIC00MCksXG4gICAgICAgICAgY2xvc2VDbGljazogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2bS5tYXJrZXIuc2hvdyA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBQbGFjZXNBdXRvY29tcGxldGUgPSBuZXcgbWFwLnBsYWNlcy5BdXRvY29tcGxldGVTZXJ2aWNlKCk7XG4gICAgICAgIERpcmVjdGlvbnNTZXJ2aWNlID0gbmV3IG1hcC5EaXJlY3Rpb25zU2VydmljZSgpO1xuICAgICAgICBEaXJlY3Rpb25SZW5kZXJlciA9IG5ldyBtYXAuRGlyZWN0aW9uc1JlbmRlcmVyKCk7XG4gICAgICAgIHZtLm1hcC5pbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgICAgICBEaXJlY3Rpb25SZW5kZXJlci5zZXRNYXAodm0ubWFwLmluc3RhbmNlKTtcbiAgICAgICAgUGxhY2VzID0gbmV3IG1hcC5wbGFjZXMuUGxhY2VzU2VydmljZSh2bS5tYXAuaW5zdGFuY2UpO1xuICAgICAgICB2bS5wbGFjZXNSZWFkeSA9IHRydWU7XG4gICAgICAgIGNvbnNvbGUubG9nKCdyZWFkeScpO1xuICAgICAgICAvL2dldExvY2F0aW9uKCk7XG5cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHZtLmNsaWNrTWFya2VyID0gZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZygnY2xpY2snKTtcbiAgICAgIHZtLm1hcmtlci5zaG93ID0gIXZtLm1hcmtlci5zaG93O1xuICAgICAgJHNjb3BlLiRhcHBseSgpO1xuXG4gICAgfVxuXG4gICAgdm0uYXV0b2NvbXBsZXRlQWRkcmVzcyA9IGZ1bmN0aW9uKGFkZHJlc3MpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgIFBsYWNlc0F1dG9jb21wbGV0ZS5nZXRRdWVyeVByZWRpY3Rpb25zKHtcbiAgICAgICAgaW5wdXQ6IGFkZHJlc3NcbiAgICAgIH0sIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhID8gXy5maWx0ZXIoZGF0YSwgJ3BsYWNlX2lkJykgOiBbXSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcblxuICAgIHZtLmdldFBsYWNlID0gZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZyh2bS5pbmZvLnBsYWNlKTtcblxuICAgICAgaWYgKCF2bS5pbmZvLnBsYWNlKSByZXR1cm47XG5cbiAgICAgIFBsYWNlcy5nZXREZXRhaWxzKHtcbiAgICAgICAgcGxhY2VJZDogdm0uaW5mby5wbGFjZS5wbGFjZV9pZFxuICAgICAgfSwgZnVuY3Rpb24ocGxhY2UsIHN0YXR1cykge1xuICAgICAgICBjb25zb2xlLmxvZyhwbGFjZSwgc3RhdHVzKTtcblxuICAgICAgICB2bS5tYXJrZXIgPSB7XG4gICAgICAgICAgaWQ6IERhdGUubm93KCksXG4gICAgICAgICAgbmFtZTogcGxhY2UubmFtZSxcbiAgICAgICAgICBsb2NhdGlvbjoge1xuICAgICAgICAgICAgbGF0aXR1ZGU6IHBhcnNlRmxvYXQocGxhY2UuZ2VvbWV0cnkubG9jYXRpb24ubGF0KCkpLFxuICAgICAgICAgICAgbG9uZ2l0dWRlOiBwYXJzZUZsb2F0KHBsYWNlLmdlb21ldHJ5LmxvY2F0aW9uLmxuZygpKSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNob3c6IHRydWVcbiAgICAgICAgfTtcblxuXG4gICAgICAgIGNlbnRlck1hcCh2bS5tYXAuaW5zdGFuY2UsIHZtLm1hcmtlci5sb2NhdGlvbiwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBjZW50ZXJNYXAobWFwLCBsb2NhdGlvbiwgb2Zmc2V0LCBzY3JvbGwpIHtcbiAgICAgIGNvbnNvbGUubG9nKGxvY2F0aW9uKTtcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBtYXAucGFuVG8obmV3IGdvb2dsZS5tYXBzLkxhdExuZyhsb2NhdGlvbi5sYXRpdHVkZSwgbG9jYXRpb24ubG9uZ2l0dWRlKSk7XG4gICAgICAgIGlmIChvZmZzZXQpIG1hcC5wYW5CeSgwLCAtMjAwKTtcbiAgICAgIH0sIDEwMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xpY2tNYXAobWFwLCBldmVudE5hbWUsIG9yaWdpbmFsRXZlbnRBcmdzKSB7XG4gICAgICB2YXIgZSA9IG9yaWdpbmFsRXZlbnRBcmdzWzBdO1xuICAgICAgdmFyIGxhdCA9IGUubGF0TG5nLmxhdCgpLFxuICAgICAgICBsb24gPSBlLmxhdExuZy5sbmcoKTtcbiAgICAgIHZtLm1hcmtlciA9IHtcbiAgICAgICAgaWQ6IERhdGUubm93KCksXG4gICAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgICAgbGF0aXR1ZGU6IGxhdCxcbiAgICAgICAgICBsb25naXR1ZGU6IGxvblxuICAgICAgICB9LFxuICAgICAgICBzaG93OiBmYWxzZVxuICAgICAgfTtcbiAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBib3VuZHNDaGFuZ2VkKCkge1xuICAgICAgY29uc29sZS5sb2coJ2JvdW5kcyBjaGFuZ2VkJyk7XG4gICAgICBpZiAoIXZtLm1hcC5pbnN0YW5jZSkgcmV0dXJuO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldExvY2F0aW9uKCkge1xuICAgICAgaWYgKHZtLmRhdGEubG9jYXRpb24pIHtcbiAgICAgICAgdm0ubG9jYXRpb24gPSB7XG4gICAgICAgICAgbGF0OiBwYXJzZUZsb2F0KHZtLmRhdGEubG9jYXRpb25bMF0pLFxuICAgICAgICAgIGxuZzogcGFyc2VGbG9hdCh2bS5kYXRhLmxvY2F0aW9uWzFdKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vXG4gICAgICAvLyBVdGlsU2VydmljZS5nZXRMb2NhdGlvbigpXG4gICAgICAvLyAgIC50aGVuKGZ1bmN0aW9uKGxvY2F0aW9uKSB7XG4gICAgICAvLyAgICAgdm0ubG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgIC8vICAgICAvL2NlbnRlck1hcCh2bS5tYXAuaW5zdGFuY2UsIHZtLmxvY2F0aW9uKTtcbiAgICAgIC8vICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG4gICAgICAvLyAgICAgaWYgKCRyb290U2NvcGUudXNlci5hZGRyZXNzUGxhY2UpXG4gICAgICAvLyAgICAgICBnZXRQbGFjZSgkcm9vdFNjb3BlLnVzZXIuYWRkcmVzc1BsYWNlLnBsYWNlX2lkKTtcbiAgICAgIC8vXG4gICAgICAvLyAgIH0pLmZpbmFsbHkoZnVuY3Rpb24oKSB7XG4gICAgICAvLyAgICAgLy92bS5tYXBWaXNpYmxlID0gdHJ1ZTtcbiAgICAgIC8vICAgICAvL3ZtLmFjdGl2aXRpZXMucHVzaChsb2NhdGlvbk1hcmtlcigpKTtcbiAgICAgIC8vICAgICBjb25zb2xlLmxvZygnbG9jYXRpb24nKTtcbiAgICAgIC8vICAgfSk7XG5cbiAgICB9XG4gIH1cbn0pKCk7XG4iLCIvKipcbiAqIEBuZ2RvYyBjb250cm9sbGVyXG4gKiBAbmFtZSBIb21lQ29udHJvbGxlclxuICogQHJlcXVpcmVzICRyb290U2NvcGVcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqIE1hbmVqYSBlbCBjb21wb3J0YW1pZW50byBkZSBsYSB2aXN0YSBwcmluY2lwYWxcbiAqXG4gKi9cblxuKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuY29udHJvbGxlcignSG9tZUNvbnRyb2xsZXInLCBIb21lQ29udHJvbGxlcik7XG5cbiAgSG9tZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICdqUXVlcnknXTtcblxuICAvKiBAbmdJbmplY3QgKi9cbiAgZnVuY3Rpb24gSG9tZUNvbnRyb2xsZXIoJHJvb3RTY29wZSwgalF1ZXJ5KSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICB2bS50aXRsZSA9ICdIb21lIENvbnRyb2xsZXInO1xuICAgIHZtLnNjcm9sbFRvID0gc2Nyb2xsVG87XG4gICAgYWN0aXZhdGUoKTtcblxuICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgIGZ1bmN0aW9uIGFjdGl2YXRlKCkge31cblxuICAgIGZ1bmN0aW9uIHNjcm9sbFRvKGVsZW1lbnQpIHtcbiAgICAgIGpRdWVyeSgnaHRtbCwgYm9keScpLmFuaW1hdGUoe1xuICAgICAgICBzY3JvbGxUb3A6IGpRdWVyeShlbGVtZW50KS5vZmZzZXQoKS50b3BcbiAgICAgIH0sIDEwMDApO1xuICAgIH1cbiAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgLmNvbnRyb2xsZXIoJ0xvZ2luQ29udHJvbGxlcicsIExvZ2luQ29udHJvbGxlcik7XG5cbiAgTG9naW5Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzdGF0ZScsICdBdXRoJ107XG5cbiAgZnVuY3Rpb24gTG9naW5Db250cm9sbGVyKCRzdGF0ZSwgQXV0aCkge1xuICAgIHZhciB2bSA9IHRoaXM7XG5cbiAgICAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgICB2bS5sb2dpbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgQXV0aC5sb2dpbih2bS51c2VyKS50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgICAgICAkc3RhdGUuZ28oJ2Rhc2hib2FyZC5jYW1wYWlnbnMnKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgfVxuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuZmFjdG9yeSgnQXV0aCcsIEF1dGgpXG4gICAgLmZhY3RvcnkoJ0F1dGhJbnRlcmNlcHRvcicsIEF1dGhJbnRlcmNlcHRvcilcbiAgICAuY29uZmlnKGZ1bmN0aW9uKCRodHRwUHJvdmlkZXIpIHtcbiAgICAgICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ0F1dGhJbnRlcmNlcHRvcicpO1xuICAgICAgJGh0dHBQcm92aWRlci5kZWZhdWx0cy53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuICAgIH0pO1xuXG4gIEF1dGguJGluamVjdCA9IFtcbiAgICAnYmFzZUFwaScsXG4gICAgJyR3aW5kb3cnLFxuICAgICckaHR0cCcsXG4gICAgJyRxJyxcbiAgICAnJHN0YXRlJyxcbiAgICAnJHJvb3RTY29wZScsXG4gICAgJyRsb2NhbHN0b3JhZ2UnXG4gIF07XG5cbiAgZnVuY3Rpb24gQXV0aChiYXNlQXBpLCAkd2luZG93LCAkaHR0cCwgJHEsICRzdGF0ZSwgJHJvb3RTY29wZSwgJGxvY2Fsc3RvcmFnZSkge1xuXG4gICAgdmFyIEF1dGggPSB7XG4gICAgICBnZXRVc2VyOiBnZXRVc2VyLFxuICAgICAgdmFsaWRhdGU6IHZhbGlkYXRlLFxuICAgICAgaXNBdXRoZW50aWNhdGVkOiBpc0F1dGhlbnRpY2F0ZWQsXG4gICAgICBsb2dpbjogbG9naW4sXG4gICAgICBsb2dvdXQ6IGxvZ291dCxcbiAgICAgIHJlZ2lzdGVyOiByZWdpc3RlcixcbiAgICAgIGZvcmdvdDogZm9yZ290LFxuICAgICAgcmVzZXQ6IHJlc2V0LFxuICAgICAgc2V0Q3JlZGVudGlhbHM6IHNldENyZWRlbnRpYWxzLFxuICAgIH07XG5cbiAgICByZXR1cm4gQXV0aDtcblxuICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgIGZ1bmN0aW9uIGdldFVzZXIoKSB7XG4gICAgICByZXR1cm4gJGxvY2Fsc3RvcmFnZS5nZXRPYmplY3QoJ3VzZXInLCBudWxsKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZSh0b2tlbikge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICRodHRwLnBvc3QoYmFzZUFwaSArICcvYXV0aC92YWxpZGF0ZS8nICsgdG9rZW4pXG4gICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHJlc3ApO1xuICAgICAgICB9KVxuICAgICAgICAuZXJyb3IoZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycik7XG4gICAgICAgIH0pO1xuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogW2xvZ2luIGRlc2NyaXB0aW9uXVxuICAgICAqIEBtZXRob2QgbG9naW5cbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb2dpbihjcmVkZW50aWFscykge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgJGh0dHAucG9zdChiYXNlQXBpICsgJy9hdXRoL2xvZ2luJywgY3JlZGVudGlhbHMpXG4gICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhKTtcblxuICAgICAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KCd0b2tlbicpKSB7XG4gICAgICAgICAgICBhbmd1bGFyLmNvcHkoZGF0YS51c2VyLCAkcm9vdFNjb3BlLnVzZXIpO1xuICAgICAgICAgICAgJGxvY2Fsc3RvcmFnZS5zZXQoJ2FjY2Vzc190b2tlbicsIGRhdGEudG9rZW4pO1xuICAgICAgICAgICAgJGxvY2Fsc3RvcmFnZS5zZXRPYmplY3QoJ3VzZXInLCBkYXRhLnVzZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLmVycm9yKGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgIGRlZmVycmVkLnJlamVjdChlcnIpO1xuICAgICAgICB9KTtcblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogW3JlZ2lzdGVyIGRlc2NyaXB0aW9uXVxuICAgICAqIEBtZXRob2QgcmVnaXN0ZXJcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWdpc3RlcihwYXlsb2FkKSB7XG5cbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICRodHRwLnBvc3QoYmFzZUFwaSArICcvYXV0aC9yZWdpc3RlcicsIHBheWxvYWQpXG4gICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmVycm9yKGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgIGRlZmVycmVkLnJlamVjdChlcnIpO1xuICAgICAgICB9KTtcbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogW3JlZ2lzdGVyIGRlc2NyaXB0aW9uXVxuICAgICAqIEBtZXRob2QgcmVzZXRcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXNldCh0b2tlbiwgcGFyYW1zKSB7XG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAkaHR0cC5wb3N0KGJhc2VBcGkgKyAnL2F1dGgvcmVzZXRwYXNzd29yZC8nICsgdG9rZW4sIHBhcmFtcylcbiAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xuICAgICAgICB9KVxuICAgICAgICAuZXJyb3IoZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycik7XG4gICAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBbcmVnaXN0ZXIgZGVzY3JpcHRpb25dXG4gICAgICogQG1ldGhvZCBmb3Jnb3RcbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmb3Jnb3QocGF5bG9hZCkge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgJGh0dHAucG9zdChiYXNlQXBpICsgJy9hdXRoL3Jlc2V0UGFzc3dvcmRSZXF1ZXN0JywgcGF5bG9hZClcbiAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xuICAgICAgICB9KVxuICAgICAgICAuZXJyb3IoZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycik7XG4gICAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBbbG9nb3V0IGRlc2NyaXB0aW9uXVxuICAgICAqIEBtZXRob2QgbG9nb3V0XG4gICAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXG4gICAgICovXG4gICAgZnVuY3Rpb24gbG9nb3V0KCkge1xuICAgICAgJGxvY2Fsc3RvcmFnZS5yZW1vdmUoJ3VzZXInKTtcbiAgICAgICRsb2NhbHN0b3JhZ2UucmVtb3ZlKCdhY2Nlc3NfdG9rZW4nKTtcbiAgICAgICRsb2NhbHN0b3JhZ2UucmVtb3ZlKCdvcmlnaW5hbF91c2VyJyk7XG5cbiAgICAgICRyb290U2NvcGUuaXNBdXRoZW50aWNhdGVkID0gZmFsc2U7XG4gICAgICAkcm9vdFNjb3BlLnVzZXIgPSBudWxsO1xuICAgICAgJHJvb3RTY29wZS52aWV3ID0gJ2F1dGgnO1xuICAgICAgJHJvb3RTY29wZS5jdXJyZW50U3RhdGUgPSAnbG9naW4nO1xuICAgICAgJHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBbc2V0Q3JlZGVudGlhbHMgZGVzY3JpcHRpb25dXG4gICAgICogQG1ldGhvZCBhdXRoZW50aWNhdGVcbiAgICAgKiBAcGFyYW0gIHtbdHlwZV19ICAgICB1c2VyIFtkZXNjcmlwdGlvbl1cbiAgICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgIFtkZXNjcmlwdGlvbl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRDcmVkZW50aWFscyhkYXRhLCBmb3JjZSkge1xuICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoJ3Rva2VuJykpIHtcbiAgICAgICAgaWYgKGZvcmNlIHx8ICEkbG9jYWxzdG9yYWdlLmdldCgnYWNjZXNzX3Rva2VuJykpIHtcbiAgICAgICAgICAkbG9jYWxzdG9yYWdlLnNldCgnYWNjZXNzX3Rva2VuJywgZGF0YS50b2tlbik7XG4gICAgICAgIH1cbiAgICAgICAgJHJvb3RTY29wZS51c2VyID0gZGF0YS51c2VyO1xuICAgICAgICAkbG9jYWxzdG9yYWdlLnNldE9iamVjdCgndXNlcicsIGRhdGEudXNlcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygnQmFkIERhdGUnLCBkYXRhKTtcbiAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFtpc0F1dGhlbnRpY2F0ZWQgZGVzY3JpcHRpb25dXG4gICAgICogQG1ldGhvZCBpc0F1dGhlbnRpY2F0ZWRcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSAgICAgICBbZGVzY3JpcHRpb25dXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBdXRoZW50aWNhdGVkKCkge1xuICAgICAgcmV0dXJuICRsb2NhbHN0b3JhZ2UuZ2V0KCdhY2Nlc3NfdG9rZW4nKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogW0F1dGhJbnRlcmNlcHRvciBkZXNjcmlwdGlvbl1cbiAgICogQG1ldGhvZCBBdXRoSW50ZXJjZXB0b3JcbiAgICovXG4gIGZ1bmN0aW9uIEF1dGhJbnRlcmNlcHRvcigkcSwgJGxvY2Fsc3RvcmFnZSwgJGluamVjdG9yKSB7XG5cbiAgICB2YXIgQXV0aEludGVyY2VwdG9yID0ge1xuICAgICAgcmVxdWVzdDogcmVxdWVzdCxcbiAgICAgIHJlc3BvbnNlRXJyb3I6IHJlc3BvbnNlRXJyb3JcbiAgICB9O1xuXG4gICAgcmV0dXJuIEF1dGhJbnRlcmNlcHRvcjtcblxuICAgIGZ1bmN0aW9uIHJlcXVlc3QoY29uZmlnKSB7XG5cbiAgICAgIHZhciB0b2tlbjtcbiAgICAgIGlmICgkbG9jYWxzdG9yYWdlLmdldCgnYWNjZXNzX3Rva2VuJykpIHtcbiAgICAgICAgdG9rZW4gPSAkbG9jYWxzdG9yYWdlLmdldCgnYWNjZXNzX3Rva2VuJyk7XG4gICAgICB9XG4gICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9ICdCZWFyZXIgJyArIHRva2VuO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNwb25zZUVycm9yKHJlc3BvbnNlKSB7XG4gICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDEgfHwgcmVzcG9uc2Uuc3RhdHVzID09PSA0MDMpIHtcbiAgICAgICAgJGxvY2Fsc3RvcmFnZS5yZW1vdmUoJ2FjY2Vzc190b2tlbicpO1xuICAgICAgICAkaW5qZWN0b3IuZ2V0KCckc3RhdGUnKS5nbygnbG9naW4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAkcS5yZWplY3QocmVzcG9uc2UpO1xuICAgIH1cblxuICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuc2VydmljZSgnRGF0YVNlcnZpY2UnLCBkYXRhU2VydmljZSk7XG5cbiAgZGF0YVNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCAnJHEnLCAnYmFzZUFwaSddO1xuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiBkYXRhU2VydmljZSgkaHR0cCwgJHEsIGJhc2VBcGkpIHtcbiAgICB2YXIgZGF0YVNlcnZpY2UgPSB7XG4gICAgICBnZXRPcHRpb25zOiBnZXRPcHRpb25zLFxuICAgICAgZ2V0Q2xpZW50VG9rZW4gOiBnZXRDbGllbnRUb2tlbixcbiAgICAgIGNyZWF0ZUNhbXBhaWduOiBjcmVhdGVDYW1wYWlnblxuICAgIH1cblxuICAgIHJldHVybiBkYXRhU2VydmljZTtcblxuICAgIGZ1bmN0aW9uIGdldE9wdGlvbnMoKSB7XG4gICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAkaHR0cCh7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHVybDogYmFzZUFwaSArICcvY2FtcGFpZ24vb3B0aW9ucy8nXG4gICAgICB9KS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YSk7XG4gICAgICB9KS5lcnJvcihmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGRlZmVycmVkLnJlamVjdChlcnIpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldENsaWVudFRva2VuKCkge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgJGh0dHAoe1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjEzMzgvY29tbWVyY2UvY2xpZW50VG9rZW4vJ1xuICAgICAgfSkuc3VjY2VzcyhmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xuICAgICAgfSkuZXJyb3IoZnVuY3Rpb24gKGVycikge1xuICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUNhbXBhaWduKHBheWxvYWQpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAkaHR0cC5wb3N0KCdodHRwOi8vbG9jYWxob3N0OjEzMzgvY2FtcGFpZ24vY3JlYXRlLycsIHBheWxvYWQpXG4gICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xuICAgICAgICB9KVxuICAgICAgICAuZXJyb3IoZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycik7XG4gICAgICAgIH0pO1xuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfVxuXG5cblxuXG5cbiAgfVxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgLnNlcnZpY2UoJ0Ryb3B6b25lU2VydmljZScsIERyb3B6b25lU2VydmljZSk7XG5cbiAgdmFyIFRZUEVTID0ge1xuICAgIG1vYmlsZToge1xuICAgICAgd2lkdGg6IDc1MCxcbiAgICAgIGhlaWdodDogMTAwXG4gICAgfSxcbiAgICBkZXNrdG9wOiB7XG4gICAgICB3aWR0aDogODgwLFxuICAgICAgaGVpZ2h0OiAxMTU2XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIERyb3B6b25lU2VydmljZSgpIHtcbiAgICB2YXIgc2VydmljZSA9IHtcbiAgICAgIGNyZWF0ZTogY3JlYXRlLFxuICAgICAgY3JlYXRlTXVsdGlwbGU6IGNyZWF0ZU11bHRpcGxlXG4gICAgfTtcblxuICAgIHJldHVybiBzZXJ2aWNlO1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlKHR5cGUsIHN1Y2Nlc3MsIHNlbmRpbmcsIHJlbW92ZWRmaWxlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgdXJsOiAnaHR0cHM6Ly9hcGkuY2xvdWRpbmFyeS5jb20vdjFfMS9jbG91ZDkvaW1hZ2UvdXBsb2FkJyxcbiAgICAgICAgICB1cGxvYWRNdWx0aXBsZTogZmFsc2UsXG4gICAgICAgICAgbWF4RmlsZXM6IDEsXG4gICAgICAgICAgYWNjZXB0ZWRGaWxlczogJ2ltYWdlLyonLFxuICAgICAgICAgIGRpY3REZWZhdWx0TWVzc2FnZTogJ0Ryb3AgZmlsZSBvciBjbGljayBoZXJlIHRvIHVwbG9hZCcsXG4gICAgICAgICAgYWRkUmVtb3ZlTGlua3M6IHRydWUsXG4gICAgICAgICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLm9uKCd0aHVtYm5haWwnLCBmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgICAgICAgIGlmIChmaWxlLndpZHRoICE9PSBUWVBFU1t0eXBlXS53aWR0aCB8fCBmaWxlLmhlaWdodCAhPT0gVFlQRVNbdHlwZV0uaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgZmlsZS5yZWplY3REaW1lbnNpb25zKClcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmaWxlLmFjY2VwdERpbWVuc2lvbnMoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBhY2NlcHQ6IGZ1bmN0aW9uKGZpbGUsIGRvbmUpIHtcbiAgICAgICAgICAgIGZpbGUuYWNjZXB0RGltZW5zaW9ucyA9IGRvbmU7XG4gICAgICAgICAgICBmaWxlLnJlamVjdERpbWVuc2lvbnMgPSBmdW5jdGlvbigpIHsgZG9uZSgnSW52YWxpZCBkaW1lbnNpb24uJyk7IH07XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBldmVudEhhbmRsZXJzOiB7XG4gICAgICAgICAgc2VuZGluZzogZnVuY3Rpb24oZmlsZSwgeGhyLCBmb3JtRGF0YSkge1xuICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdhcGlfa2V5JywgODM5OTg4MzMzMTUzNTY3KTtcbiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgndGltZXN0YW1wJywgRGF0ZS5ub3coKSAvIDEwMDAgfCAwKTtcbiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgndXBsb2FkX3ByZXNldCcsICdzbTJldjRudScpO1xuICAgICAgICAgICAgaWYgKHNlbmRpbmcpIHNlbmRpbmcoKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHN1Y2Nlc3M6IHN1Y2Nlc3MsXG4gICAgICAgICAgcmVtb3ZlZGZpbGU6IHJlbW92ZWRmaWxlXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlTXVsdGlwbGUobWF4RmlsZXMsIHN1Y2Nlc3MsIHNlbmRpbmcpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICB1cmw6ICdodHRwczovL2FwaS5jbG91ZGluYXJ5LmNvbS92MV8xL2Nsb3VkOS9pbWFnZS91cGxvYWQnLFxuICAgICAgICAgIG1heEZpbGVzOiBtYXhGaWxlcyxcbiAgICAgICAgICBhY2NlcHRlZEZpbGVzOiAnaW1hZ2UvKicsXG4gICAgICAgICAgZGljdERlZmF1bHRNZXNzYWdlOiAnRHJvcCBmaWxlcyBvciBjbGljayBoZXJlIHRvIHVwbG9hZCdcbiAgICAgICAgfSxcbiAgICAgICAgZXZlbnRIYW5kbGVyczoge1xuICAgICAgICAgIHNlbmRpbmc6IGZ1bmN0aW9uKGZpbGUsIHhociwgZm9ybURhdGEpIHtcbiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnYXBpX2tleScsIDgzOTk4ODMzMzE1MzU2Nyk7XG4gICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3RpbWVzdGFtcCcsIERhdGUubm93KCkgLyAxMDAwIHwgMCk7XG4gICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3VwbG9hZF9wcmVzZXQnLCAnc20yZXY0bnUnKTtcbiAgICAgICAgICAgIGlmIChzZW5kaW5nKSBzZW5kaW5nKCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdWNjZXNzOiBzdWNjZXNzXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgIC5mYWN0b3J5KCckbG9jYWxzdG9yYWdlJywgJGxvY2Fsc3RvcmFnZSk7XG5cbiAgJGxvY2Fsc3RvcmFnZS4kaW5qZWN0ID0gWyckd2luZG93J107XG5cbiAgZnVuY3Rpb24gJGxvY2Fsc3RvcmFnZSgkd2luZG93KSB7XG4gICAgdmFyIHNlcnZpY2UgPSB7XG4gICAgICBzZXQ6IHNldCxcbiAgICAgIGdldDogZ2V0LFxuICAgICAgc2V0T2JqZWN0OiBzZXRPYmplY3QsXG4gICAgICBnZXRPYmplY3Q6IGdldE9iamVjdCxcbiAgICAgIHJlbW92ZTogcmVtb3ZlXG4gICAgfTtcblxuICAgIHJldHVybiBzZXJ2aWNlO1xuXG4gICAgLy8vLy8vLy8vL1xuXG4gICAgZnVuY3Rpb24gc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlW2tleV0gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXQoa2V5LCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHJldHVybiAkd2luZG93LmxvY2FsU3RvcmFnZVtrZXldIHx8IGRlZmF1bHRWYWx1ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRPYmplY3Qoa2V5LCB2YWx1ZSkge1xuICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Vba2V5XSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRPYmplY3Qoa2V5LCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKCR3aW5kb3cubG9jYWxTdG9yYWdlW2tleV0gfHwgKGRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogJ3t9JykpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbW92ZShrZXkpIHtcbiAgICAgIHJldHVybiAkd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgfVxuICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ0FueURheUJ1ZGR5QWRzJylcbiAgICAuZGlyZWN0aXZlKCdkcm9wem9uZScsIGRyb3B6b25lKTtcblxuICBkcm9wem9uZS4kaW5qZWN0ID0gWydEcm9wem9uZSddO1xuXG4gIGZ1bmN0aW9uIGRyb3B6b25lKERyb3B6b25lKSB7XG4gICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgIGxpbms6IGxpbmssXG4gICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIGRyb3B6b25lOiAnPWRyb3B6b25lJyxcbiAgICAgICAgcmVzZXQ6ICdAcmVzZXQnXG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gZGlyZWN0aXZlO1xuXG4gICAgZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHZhciBjb25maWcsIHpvbmU7XG5cbiAgICAgIGNvbmZpZyA9IHNjb3BlLmRyb3B6b25lO1xuICAgICAgem9uZSA9IG5ldyBEcm9wem9uZShlbGVtZW50WzBdLCBjb25maWcub3B0aW9ucyk7XG5cbiAgICAgIGlmIChzY29wZS5yZXNldCkge1xuICAgICAgICB6b25lLm9uKCdjb21wbGV0ZScsIGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgICB6b25lLnJlbW92ZUZpbGUoZmlsZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBhbmd1bGFyLmZvckVhY2goY29uZmlnLmV2ZW50SGFuZGxlcnMsIGZ1bmN0aW9uKGhhbmRsZXIsIGV2ZW50KSB7XG4gICAgICAgIHpvbmUub24oZXZlbnQsIGhhbmRsZXIpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdBbnlEYXlCdWRkeUFkcycpXG4gICAgICAgIC5kaXJlY3RpdmUoJ2Zvb3RlckRpcmVjdGl2ZScsIGZvb3RlckRpcmVjdGl2ZSk7XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBmb290ZXJEaXJlY3RpdmUoKSB7XG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXNzZXRzL3ZpZXdzL2Zvb3Rlci9mb290ZXIuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiBmb290ZXJDb250cm9sbGVyLFxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XG4gICAgfVxuXG4gICAgZm9vdGVyQ29udHJvbGxlci4kaW5qZWN0ID0gW107XG5cbiAgICAvKiBAbmdJbmplY3QgKi9cbiAgICBmdW5jdGlvbiBmb290ZXJDb250cm9sbGVyKCkge1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgICAgIGFjdGl2YXRlKCk7XG5cbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGUoKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2Zvb3RlciBBY3RpdmF0ZWQnKTtcbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgnQW55RGF5QnVkZHlBZHMnKVxuICAgIC5kaXJlY3RpdmUoJ2hlYWRlckRpcmVjdGl2ZScsIGhlYWRlckRpcmVjdGl2ZSk7XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIGhlYWRlckRpcmVjdGl2ZSgpIHtcbiAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICB0ZW1wbGF0ZVVybDogJ2Fzc2V0cy92aWV3cy9oZWFkZXIvaGVhZGVyLmh0bWwnLFxuICAgICAgY29udHJvbGxlcjogaGVhZGVyQ29udHJvbGxlcixcbiAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXG4gICAgICBzY29wZToge31cbiAgICB9O1xuXG4gICAgcmV0dXJuIGRpcmVjdGl2ZTtcbiAgfVxuXG4gIGhlYWRlckNvbnRyb2xsZXIuJGluamVjdCA9IFsnQXV0aCddO1xuXG4gIC8qIEBuZ0luamVjdCAqL1xuICBmdW5jdGlvbiBoZWFkZXJDb250cm9sbGVyKEF1dGgpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgdm0ubG9nb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdMT0dPVVQnKTtcbiAgICAgICAgQXV0aC5sb2dvdXQoKTtcbiAgICB9O1xuXG4gIH1cbn0pKCk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
